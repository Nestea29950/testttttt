(self.webpackChunkstrapi_sqlite=self.webpackChunkstrapi_sqlite||[]).push([[994],{89647:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=a(94117),u=a(64459),d=n(a(88231)),s=a(68547);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f=e=>{let{displayedFilters:t}=e;const[a,n]=(0,r.useState)(!1),{formatMessage:l}=(0,o.useIntl)(),c=(0,r.useRef)(),{trackUsage:f}=(0,s.useTracking)(),p=()=>{a||f("willFilterEntries"),n((e=>!e))};return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.Box,{paddingTop:1,paddingBottom:1},r.default.createElement(u.Button,{variant:"tertiary",ref:c,startIcon:r.default.createElement(d.default,null),onClick:p,size:"S"},l({id:"app.utils.filters",defaultMessage:"Filters"})),a&&r.default.createElement(s.FilterPopoverURLQuery,{displayedFilters:t,isVisible:a,onToggle:p,source:c})),r.default.createElement(s.FilterListURLQuery,{filtersSchema:t}))};f.propTypes={displayedFilters:l.default.arrayOf(l.default.shape({name:l.default.string.isRequired,metadatas:l.default.shape({label:l.default.string}),fieldSchema:l.default.shape({type:l.default.string})})).isRequired};var p=f;t.default=p},27755:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(27361)),l=a(68547);const o=["json","component","media","richtext","dynamiczone","password"],i=["createdAt","updatedAt"];var u=(e,t)=>{const{allPermissions:a}=(0,l.useRBACProvider)(),n=(0,l.findMatchingPermissions)(a,[{action:"plugin::content-manager.explorer.read",subject:t}]),u=(0,r.default)(n,["0","properties","fields"],[]);return Object.keys((0,r.default)(e,["attributes"]),{}).filter((t=>{const a=(0,r.default)(e,["attributes",t],{});return!!a.type&&(!o.includes(a.type)&&!(!u.includes(t)&&"id"!==t&&!i.includes(t)))})).sort()};t.default=u},72632:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(27755)),i=n(a(89647));const u=e=>{let{contentType:t,slug:a,metadatas:n}=e;const l=(0,o.default)(t,a).map((e=>{const a=t.attributes[e],{type:r,enum:l}=a,o={name:"didFilterEntries",properties:{useRelation:"relation"===r}},{mainField:i,label:u}=n[e].list;return{name:e,metadatas:{label:u},fieldSchema:{type:r,options:l,mainField:i},trackedEvent:o}}));return r.default.createElement(i.default,{displayedFilters:l})};u.propTypes={contentType:l.default.object.isRequired,metadatas:l.default.object.isRequired,slug:l.default.string.isRequired};var d=u;t.default=d},56229:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(53547),o=a(39711),i=r(a(9669)),u=r(a(27361)),d=a(68547),s=a(37424),c=r(a(45697)),f=r(a(69590)),p=a(53777),m=a(28564),g=a(14772),y=a(98744),b=r(a(22787));const h=e=>{let{allLayoutData:t,children:a,slug:r,id:c,origin:f}=e;const h=(0,d.useNotification)(),{setCurrentStep:v}=(0,d.useGuidedTour)(),{trackUsage:E}=(0,d.useTracking)(),{push:M,replace:C}=(0,o.useHistory)(),[{rawQuery:O}]=(0,d.useQueryParams)(),_=(0,s.useDispatch)(),{componentsDataStructure:R,contentTypeDataStructure:w,data:k,isLoading:T,status:P}=(0,s.useSelector)(b.default),x=(0,g.useFindRedirectionLink)(r),j=(0,l.useRef)(!0),D=(0,l.useRef)(E),I=(0,l.useRef)(t),S=null===c,q=(0,l.useMemo)((()=>S&&!f?null:(0,m.getRequestUrl)(`collection-types/${r}/${f||c}`)),[r,c,S,f]),F=(0,l.useCallback)((e=>{if(!f)return e;return(0,d.contentManagementUtilRemoveFieldsFromData)(e,I.current.contentType,I.current.components)}),[f]),L=(0,l.useCallback)((e=>{const t=(0,m.removePasswordFieldsFromData)(e,I.current.contentType,I.current.components);return(0,d.formatContentTypeData)(t,I.current.contentType,I.current.components)}),[]);(0,l.useEffect)((()=>{const e=Object.keys(t.components).reduce(((e,a)=>{const n=(0,m.createDefaultForm)((0,u.default)(t,["components",a,"attributes"],{}),t.components);return e[a]=(0,d.formatContentTypeData)(n,t.components[a],t.components),e}),{}),a=(0,m.createDefaultForm)(t.contentType.attributes,t.components),n=(0,d.formatContentTypeData)(a,t.contentType,t.components);_((0,y.setDataStructures)(e,n))}),[t,_]),(0,l.useEffect)((()=>()=>{_((0,y.resetProps)())}),[_]),(0,l.useEffect)((()=>{const e=i.default.CancelToken.source();return j.current?(q?(async e=>{_((0,y.getData)());try{const{data:t}=await p.axiosInstance.get(q,{cancelToken:e.token});_((0,y.getDataSucceeded)(L(F(t))))}catch(t){if(i.default.isCancel(t))return;n.error(t);const e=(0,u.default)(t,"response.status",null);if(404===e)return void M(x);403===e&&(h({type:"info",message:{id:(0,m.getTrad)("permissions.not-allowed.update")}}),M(x))}})(e):(async()=>{await _((0,y.getData)()),await _((0,y.initForm)(O))})(),()=>{e.cancel("Operation canceled by the user.")}):()=>{}}),[F,L,M,q,_,O,x,h]);const A=(0,l.useCallback)((e=>{const t=e.response.data;let a=(0,u.default)(t,["error","message"],"Bad Request");Array.isArray(a)&&(a=(0,u.default)(a,["0","messages","0","id"])),"string"===typeof a&&h({type:"warning",message:a})}),[h]),B=(0,l.useCallback)((async e=>{try{D.current("willDeleteEntry",e);const{data:t}=await p.axiosInstance.delete((0,m.getRequestUrl)(`collection-types/${r}/${c}`));return h({type:"success",message:{id:(0,m.getTrad)("success.record.delete")}}),D.current("didDeleteEntry",e),Promise.resolve(t)}catch(t){return D.current("didNotDeleteEntry",{error:t,...e}),Promise.reject(t)}}),[c,r,h]),N=(0,l.useCallback)((()=>{C(x)}),[x,C]),W=(0,l.useCallback)((async(e,t)=>{const a=`${(0,m.getRequestUrl)(`collection-types/${r}`)}${O}`;try{_((0,y.setStatus)("submit-pending"));const{data:n}=await p.axiosInstance.post(a,e);return D.current("didCreateEntry",t),h({type:"success",message:{id:(0,m.getTrad)("success.record.save")}}),v("contentManager.success"),_((0,y.submitSucceeded)(L(n))),_((0,y.setStatus)("resolved")),C(`/content-manager/collectionType/${r}/${n.id}${O}`),Promise.resolve(n)}catch(n){return A(n),D.current("didNotCreateEntry",{error:n,trackerProperty:t}),_((0,y.setStatus)("resolved")),Promise.reject(n)}}),[L,A,C,r,_,O,h,v]),$=(0,l.useCallback)((async()=>{try{D.current("willPublishEntry");const e=(0,m.getRequestUrl)(`collection-types/${r}/${c}/actions/publish`);_((0,y.setStatus)("publish-pending"));const{data:t}=await p.axiosInstance.post(e);return D.current("didPublishEntry"),_((0,y.submitSucceeded)(L(t))),_((0,y.setStatus)("resolved")),h({type:"success",message:{id:(0,m.getTrad)("success.record.publish")}}),Promise.resolve(t)}catch(e){return A(e),_((0,y.setStatus)("resolved")),Promise.reject(e)}}),[L,A,c,r,_,h]),U=(0,l.useCallback)((async(e,t)=>{const a=(0,m.getRequestUrl)(`collection-types/${r}/${c}`);try{D.current("willEditEntry",t),_((0,y.setStatus)("submit-pending"));const{data:n}=await p.axiosInstance.put(a,e);return D.current("didEditEntry",{trackerProperty:t}),h({type:"success",message:{id:(0,m.getTrad)("success.record.save")}}),_((0,y.submitSucceeded)(L(n))),_((0,y.setStatus)("resolved")),Promise.resolve(n)}catch(n){return D.current("didNotEditEntry",{error:n,trackerProperty:t}),A(n),_((0,y.setStatus)("resolved")),Promise.reject(n)}}),[L,A,r,c,_,h]),z=(0,l.useCallback)((async()=>{const e=(0,m.getRequestUrl)(`collection-types/${r}/${c}/actions/unpublish`);_((0,y.setStatus)("unpublish-pending"));try{D.current("willUnpublishEntry");const{data:t}=await p.axiosInstance.post(e);return D.current("didUnpublishEntry"),h({type:"success",message:{id:(0,m.getTrad)("success.record.unpublish")}}),_((0,y.submitSucceeded)(L(t))),_((0,y.setStatus)("resolved")),Promise.resolve(t)}catch(t){return _((0,y.setStatus)("resolved")),A(t),Promise.reject(t)}}),[L,A,c,r,_,h]);return a({componentsDataStructure:R,contentTypeDataStructure:w,data:k,isCreatingEntry:S,isLoadingForData:T,onDelete:B,onDeleteSucceeded:N,onPost:W,onPublish:$,onPut:U,onUnpublish:z,status:P,redirectionLink:x})};h.defaultProps={id:null,origin:null},h.propTypes={allLayoutData:c.default.exact({components:c.default.object.isRequired,contentType:c.default.shape({apiID:c.default.string.isRequired,attributes:c.default.object.isRequired,info:c.default.object.isRequired,isDisplayed:c.default.bool.isRequired,kind:c.default.string.isRequired,layouts:c.default.object.isRequired,metadatas:c.default.object.isRequired,options:c.default.object.isRequired,pluginOptions:c.default.object,settings:c.default.object.isRequired,uid:c.default.string.isRequired}).isRequired}).isRequired,children:c.default.func.isRequired,id:c.default.string,origin:c.default.string,slug:c.default.string.isRequired};var v=(0,l.memo)(h,f.default);t.default=v},4185:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(97132),u=n(a(24534)),d=a(94117),s=a(9524),c=a(40264),f=a(33483),p=a(68547),m=a(28564);const g=o.default.span.withConfig({displayName:"ComponentInitializer__IconWrapper",componentId:"sc-t1smwi-0"})(["> svg{width:",";height:",";> circle{fill:",";}> path{fill:",";}}"],(0,p.pxToRem)(24),(0,p.pxToRem)(24),(e=>{let{theme:t}=e;return t.colors.primary200}),(e=>{let{theme:t}=e;return t.colors.primary600})),y=e=>{let{error:t,isReadOnly:a,onClick:n}=e;const{formatMessage:l}=(0,i.useIntl)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Box,{as:"button",background:"neutral100",borderColor:t?"danger600":"neutral200",disabled:a,hasRadius:!0,onClick:n,paddingTop:9,paddingBottom:9,type:"button"},r.default.createElement(s.Stack,{spacing:2},r.default.createElement(c.Flex,{justifyContent:"center",style:{cursor:a?"not-allowed":"inherit"}},r.default.createElement(g,null,r.default.createElement(u.default,null))),r.default.createElement(c.Flex,{justifyContent:"center"},r.default.createElement(f.Typography,{textColor:"primary600",variant:"pi",fontWeight:"bold"},l({id:(0,m.getTrad)("components.empty-repeatable"),defaultMessage:"No entry yet. Click on the button below to add one."}))))),(null===t||void 0===t?void 0:t.id)&&r.default.createElement(f.Typography,{textColor:"danger600",variant:"pi"},l({id:t.id,defaultMessage:t.id},{...t.values})))};y.defaultProps={error:void 0,isReadOnly:!1},y.propTypes={error:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),isReadOnly:l.default.bool,onClick:l.default.func.isRequired};var b=y;t.default=b},5969:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(99168),o=n(a(95758)),i=n(a(26135)),u=n(a(65506)),d=n(a(83715));const s={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function c(e,t,a){if(!e||!t)return{display:"none"};const{x:n,y:r}=a,l=`translate(${n}px, ${r}px)`;return{transform:l,WebkitTransform:l}}var f=()=>{const{itemType:e,isDragging:t,item:a,initialOffset:n,currentOffset:f,mouseOffset:p}=(0,l.useDragLayer)((e=>({item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging(),mouseOffset:e.getClientOffset()})));return t?r.default.createElement(o.default,null,r.default.createElement("div",{style:s},r.default.createElement("div",{style:c(n,f,p),className:"col-md-2"},[i.default.EDIT_RELATION,i.default.EDIT_FIELD,i.default.FIELD].includes(e)&&r.default.createElement(d.default,{labelField:a.labelField}),e===i.default.COMPONENT&&r.default.createElement(u.default,{displayedValue:a.displayedValue})))):null};t.default=f},7758:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45697)),l=a(97132),o=n(a(79833)),i=n(a(51196)),u=a(39505);const d=e=>{let{type:t,value:a}=e;const{formatDate:n,formatTime:r,formatNumber:d}=(0,l.useIntl)();let s=a;if("date"===t&&(s=n((0,i.default)(a),{dateStyle:"full"})),"datetime"===t&&(s=n(a,{dateStyle:"full",timeStyle:"short"})),"time"===t){const[e,t,n]=a.split(":"),l=new Date;l.setHours(e),l.setMinutes(t),l.setSeconds(n),s=r(l,{numeric:"auto",style:"short"})}if(["float","decimal"].includes(t)){const e=(0,u.getNumberOfDecimals)(a);s=d(a,{minimumFractionDigits:e,maximumFractionDigits:e})}return["integer","biginteger"].includes(t)&&(s=d(a,{maximumFractionDigits:0})),(0,o.default)(s)};d.propTypes={type:r.default.string.isRequired,value:r.default.any.isRequired};var s=d;t.default=s},34371:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=n(a(78384)),u=a(40264),d=a(33483);const s=(0,i.default)(u.Flex).withConfig({displayName:"FileWrapper__Wrapper",componentId:"sc-v6u1qm-0"})(["position:relative;border-radius:50%;width:26px;height:26px;border:1px solid ",";background:",";padding-left:1px;span{line-height:0.6rem;font-size:0.6rem;}"],(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral150})),c=e=>{let{children:t,...a}=e;return l.default.createElement(s,(0,r.default)({justifyContent:"center",alignItems:"center",as:"span"},a),l.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},t))};c.propTypes={children:o.default.string.isRequired};var f=c;t.default=f},86955:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(54345),i=a(55639),u=a(68547),d=n(a(34371));const s=e=>{let{url:t,mime:a,alternativeText:n,name:l,ext:s,formats:c}=e;const f=(0,u.prefixFileUrlWithBackendUrl)(t);if(a.includes("image")){var p;const e=(null===c||void 0===c||null===(p=c.thumbnail)||void 0===p?void 0:p.url)||null,t=(0,u.prefixFileUrlWithBackendUrl)(e)||f;return r.default.createElement(o.Avatar,{src:t,alt:n||l,preview:!0})}const m=(0,u.getFileExtension)(s),g=l.length>100?`${l.substring(0,100)}...`:l;return r.default.createElement(i.Tooltip,{description:g},r.default.createElement(d.default,null,m))};s.defaultProps={alternativeText:null,formats:null},s.propTypes={alternativeText:l.default.string,ext:l.default.string.isRequired,formats:l.default.object,mime:l.default.string.isRequired,name:l.default.string.isRequired,url:l.default.string.isRequired};var c=s;t.default=c},52114:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=a(54345),u=n(a(86955)),d=n(a(34371));const s=e=>{let{value:t}=e;return l.default.createElement(i.AvatarGroup,null,t.map(((e,a)=>{const n=`${e.id}${a}`;if(3===a){const e="+"+(t.length-3);return l.default.createElement(d.default,{key:n,preview:!1},e)}return a>3?null:l.default.createElement(u.default,(0,r.default)({key:n},e))})))};s.propTypes={value:o.default.arrayOf(o.default.shape({alternativeText:o.default.string,ext:o.default.string.isRequired,formats:o.default.object,mime:o.default.string.isRequired,name:o.default.string.isRequired,url:o.default.string.isRequired})).isRequired};var c=s;t.default=c},99616:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(23724),i=a(97132),u=a(33483),d=a(94117),s=a(11380),c=a(12615),f=a(97245),p=n(a(78384)),m=a(67422),g=a(68547),y=n(a(7758)),b=a(53777),h=a(28564);function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const E=(0,p.default)(u.Typography).withConfig({displayName:"RelationMultiple__TypographyMaxWidth",componentId:"sc-l4depg-0"})(["max-width:500px;"]),M=e=>{let{fieldSchema:t,metadatas:a,queryInfos:n,name:l,rowId:p,value:v}=e;const{formatMessage:M}=(0,i.useIntl)(),{notifyStatus:C}=(0,m.useNotifyAT)(),O=(0,h.getRequestUrl)(`${n.endPoint}/${p}/${l.split(".")[0]}`),[_,R]=(0,r.useState)(!1),w=r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Badge,null,v.count)," ",M({id:"content-manager.containers.ListPage.items",defaultMessage:"{number, plural, =0 {items} one {item} other {items}}"},{number:v.count})),k=()=>{const e=M({id:(0,h.getTrad)("DynamicTable.relation-loaded"),defaultMessage:"Relations have been loaded"});C(e)},{data:T,status:P}=(0,o.useQuery)([t.targetModel,p],(()=>(async(e,t)=>{const{data:{results:a,pagination:n}}=await b.axiosInstance.get(e);return t(),{results:a,pagination:n}})(O,k)),{enabled:_,staleTime:0});return r.default.createElement(d.Box,g.stopPropagation,r.default.createElement(c.SimpleMenu,{label:w,size:"S",onOpen:()=>R(!0),onClose:()=>R(!1)},"success"!==P&&r.default.createElement(c.MenuItem,{"aria-disabled":!0},r.default.createElement(f.Loader,{small:!0},M({id:(0,h.getTrad)("DynamicTable.relation-loading"),defaultMessage:"Relations are loading"}))),"success"===P&&r.default.createElement(r.default.Fragment,null,null===T||void 0===T?void 0:T.results.map((e=>r.default.createElement(c.MenuItem,{key:e.id,"aria-disabled":!0},r.default.createElement(E,{ellipsis:!0},r.default.createElement(y.default,{type:a.mainField.schema.type,value:e[a.mainField.name]||e.id}))))),(null===T||void 0===T?void 0:T.pagination.total)>10&&r.default.createElement(c.MenuItem,{"aria-disabled":!0,"aria-label":M({id:(0,h.getTrad)("DynamicTable.relation-more"),defaultMessage:"This relation contains more entities than displayed"})},r.default.createElement(u.Typography,null,"...")))))};M.propTypes={fieldSchema:l.default.shape({relation:l.default.string,targetModel:l.default.string,type:l.default.string.isRequired}).isRequired,metadatas:l.default.shape({mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired})}).isRequired,name:l.default.string.isRequired,rowId:l.default.oneOfType([l.default.string,l.default.number]).isRequired,queryInfos:l.default.shape({endPoint:l.default.string.isRequired}).isRequired,value:l.default.object.isRequired};var C=M;t.default=C},14408:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(33483),i=n(a(78384)),u=n(a(7758));const d=(0,i.default)(o.Typography).withConfig({displayName:"RelationSingle__TypographyMaxWidth",componentId:"sc-1fu0v3e-0"})(["max-width:500px;"]),s=e=>{let{metadatas:t,value:a}=e;return r.default.createElement(d,{textColor:"neutral800",ellipsis:!0},r.default.createElement(u.default,{type:t.mainField.schema.type,value:a[t.mainField.name]||a.id}))};s.propTypes={metadatas:l.default.shape({mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired})}).isRequired,value:l.default.object.isRequired};var c=s;t.default=c},86643:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(97132),u=a(11380),d=a(94117),s=a(33483),c=a(12615),f=a(68547),p=n(a(7758));const m=(0,o.default)(s.Typography).withConfig({displayName:"RepeatableComponent__TypographyMaxWidth",componentId:"sc-13qo0ll-0"})(["max-width:500px;"]),g=e=>{let{value:t,metadatas:a}=e;const{formatMessage:n}=(0,i.useIntl)(),{mainField:{type:l,name:o}}=a,s=r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Badge,null,t.length)," ",n({id:"content-manager.containers.ListPage.items",defaultMessage:"{number, plural, =0 {items} one {item} other {items}}"},{number:t.length}));return r.default.createElement(d.Box,f.stopPropagation,r.default.createElement(c.SimpleMenu,{label:s,size:"S"},t.map((e=>r.default.createElement(c.MenuItem,{key:e.id,"aria-disabled":!0},r.default.createElement(m,{ellipsis:!0},r.default.createElement(p.default,{type:l,value:e[o]||e.id})))))))};g.propTypes={metadatas:l.default.shape({mainField:l.default.shape({name:l.default.string,type:l.default.string,value:l.default.string})}).isRequired,value:l.default.array.isRequired};var y=g;t.default=y},66595:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(55639),u=a(33483),d=n(a(7758));const s=(0,o.default)(u.Typography).withConfig({displayName:"SingleComponent__TypographyMaxWidth",componentId:"sc-n2vhig-0"})(["max-width:250px;"]),c=e=>{let{value:t,metadatas:a}=e;const{mainField:n}=a,l=t[n.name];return r.default.createElement(i.Tooltip,{label:l},r.default.createElement(s,{textColor:"neutral800",ellipsis:!0},r.default.createElement(d.default,{type:n.type,value:l})))};c.propTypes={metadatas:l.default.shape({mainField:l.default.shape({name:l.default.string,type:l.default.string,value:l.default.string})}).isRequired,value:l.default.object.isRequired};var f=c;t.default=f},57397:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(33483),u=n(a(86955)),d=n(a(52114)),s=n(a(99616)),c=n(a(14408)),f=n(a(86643)),p=n(a(66595)),m=n(a(7758)),g=n(a(6572)),y=n(a(83676));const b=(0,o.default)(i.Typography).withConfig({displayName:"CellContent__TypographyMaxWidth",componentId:"sc-neafof-0"})(["max-width:300px;"]),h=e=>{let{content:t,fieldSchema:a,metadatas:n,name:l,queryInfos:o,rowId:h}=e;const{type:v}=a;if(!(0,g.default)(v,t,n,a))return r.default.createElement(i.Typography,{textColor:"neutral800"},"-");switch(v){case"media":return a.multiple?r.default.createElement(d.default,{value:t}):r.default.createElement(u.default,t);case"relation":return(0,y.default)(a.relation)?r.default.createElement(c.default,{metadatas:n,value:t}):r.default.createElement(s.default,{fieldSchema:a,queryInfos:o,metadatas:n,value:t,name:l,rowId:h});case"component":return!0===a.repeatable?r.default.createElement(f.default,{value:t,metadatas:n}):r.default.createElement(p.default,{value:t,metadatas:n});default:return r.default.createElement(b,{ellipsis:!0,textColor:"neutral800"},r.default.createElement(m.default,{type:v,value:t}))}};h.defaultProps={content:void 0,queryInfos:void 0},h.propTypes={content:l.default.any,fieldSchema:l.default.shape({component:l.default.string,multiple:l.default.bool,type:l.default.string.isRequired,repeatable:l.default.bool,relation:l.default.string}).isRequired,metadatas:l.default.object.isRequired,name:l.default.string.isRequired,rowId:l.default.oneOfType([l.default.string,l.default.number]).isRequired,queryInfos:l.default.shape({endPoint:l.default.string.isRequired})};var v=h;t.default=v},39505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfDecimals=void 0;t.getNumberOfDecimals=e=>e%1!==0?e.toString().split(".")[1].length:0},6572:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){if("component"===e){const{mainField:{name:e,type:o}}=a;if(null!==n&&void 0!==n&&n.repeatable)return t.length>0;const u=null===t||void 0===t?void 0:t[e];return"id"===e&&![void 0,null].includes(u)||((0,i.default)(o)&&"biginteger"!==o&&"id"!==e?(0,l.default)(u):!(0,r.default)(u))}if("relation"===e)return(0,o.default)(n.relation)?!(0,r.default)(t):t.count>0;if((0,i.default)(e)&&"biginteger"!==e)return(0,l.default)(t);return!(0,r.default)(t)};var r=n(a(41609)),l=n(a(81763)),o=n(a(83676)),i=n(a(69824))},83676:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return["oneToOne","manyToOne","oneToOneMorph"].includes(e)}},35883:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(81895),u=a(9524),d=a(40264),s=a(33483),c=a(64459),f=n(a(49993)),p=n(a(62982)),m=n(a(85117)),g=a(28564);const y=e=>{let{isConfirmButtonLoading:t,isOpen:a,onToggleDialog:n,onConfirm:l}=e;const{formatMessage:y}=(0,o.useIntl)();return r.default.createElement(i.Dialog,{onClose:n,title:y({id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"}),labelledBy:"confirmation",describedBy:"confirm-description",isOpen:a},r.default.createElement(i.DialogBody,{icon:r.default.createElement(f.default,null)},r.default.createElement(u.Stack,{spacing:2},r.default.createElement(d.Flex,{justifyContent:"center"},r.default.createElement(s.Typography,{id:"confirm-description"},y({id:(0,g.getTrad)("popUpWarning.bodyMessage.contentType.delete.all"),defaultMessage:"Are you sure you want to delete these entries?"}))),r.default.createElement(d.Flex,null,r.default.createElement(m.default,{area:"contentManager.listView.deleteModalAdditionalInfos"})))),r.default.createElement(i.DialogFooter,{startAction:r.default.createElement(c.Button,{onClick:n,variant:"tertiary"},y({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endAction:r.default.createElement(c.Button,{onClick:l,variant:"danger-light",startIcon:r.default.createElement(p.default,null),id:"confirm-delete",loading:t},y({id:"app.components.Button.confirm",defaultMessage:"Confirm"}))}))};y.propTypes={isConfirmButtonLoading:l.default.bool.isRequired,isOpen:l.default.bool.isRequired,onConfirm:l.default.func.isRequired,onToggleDialog:l.default.func.isRequired};var b=y;t.default=b},86863:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(81895),u=a(9524),d=a(40264),s=a(33483),c=a(64459),f=n(a(49993)),p=n(a(62982)),m=n(a(85117));const g=e=>{let{isConfirmButtonLoading:t,isOpen:a,onToggleDialog:n,onConfirm:l}=e;const{formatMessage:g}=(0,o.useIntl)();return r.default.createElement(i.Dialog,{onClose:n,title:g({id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"}),labelledBy:"confirmation",describedBy:"confirm-description",isOpen:a},r.default.createElement(i.DialogBody,{icon:r.default.createElement(f.default,null)},r.default.createElement(u.Stack,{spacing:2},r.default.createElement(d.Flex,{justifyContent:"center"},r.default.createElement(s.Typography,{id:"confirm-description"},g({id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"}))),r.default.createElement(d.Flex,null,r.default.createElement(m.default,{area:"contentManager.listView.deleteModalAdditionalInfos"})))),r.default.createElement(i.DialogFooter,{startAction:r.default.createElement(c.Button,{onClick:n,variant:"tertiary"},g({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endAction:r.default.createElement(c.Button,{onClick:l,variant:"danger-light",startIcon:r.default.createElement(p.default,null),id:"confirm-delete",loading:t},g({id:"app.components.Button.confirm",defaultMessage:"Confirm"}))}))};g.propTypes={isConfirmButtonLoading:l.default.bool.isRequired,isOpen:l.default.bool.isRequired,onConfirm:l.default.func.isRequired,onToggleDialog:l.default.func.isRequired};var y=g;t.default=y},90753:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=a(46458),u=a(94117),d=a(49549),s=a(43546),c=a(40264),f=n(a(62982)),p=n(a(54279)),m=n(a(56204)),g=a(68547),y=a(39711),b=a(97132),h=a(14772),v=n(a(57397)),E=a(26595);const M=e=>{let{canCreate:t,canDelete:a,headers:n,entriesToDelete:o,onClickDelete:M,onSelectRow:C,withMainAction:O,withBulkActions:_,rows:R}=e;const{push:w,location:{pathname:k}}=(0,y.useHistory)(),{formatMessage:T}=(0,b.useIntl)(),{trackUsage:P}=(0,g.useTracking)(),x=(0,h.usePluginsQueryParams)();return l.default.createElement(s.Tbody,null,R.map(((e,y)=>{const b=-1!==o.findIndex((t=>t===e.id)),h=T({id:"content-manager.components.DynamicTable.row-line",defaultMessage:"item line {number}"},{number:y});return l.default.createElement(s.Tr,(0,r.default)({key:e.id},(0,g.onRowClick)({fn:()=>{P("willEditEntryFromList"),w({pathname:`${k}/${e.id}`,state:{from:k},search:x})},condition:_})),O&&l.default.createElement(s.Td,g.stopPropagation,l.default.createElement(i.BaseCheckbox,{"aria-label":T({id:"app.component.table.select.one-entry",defaultMessage:"Select {target}"},{target:(0,E.getFullName)(e.firstname,e.lastname)}),checked:b,onChange:()=>{C({name:e.id,value:!b})}})),n.map((t=>{let{key:a,cellFormatter:n,name:o,...i}=t;return l.default.createElement(s.Td,{key:a},"function"===typeof n?n(e,{key:a,name:o,...i}):l.default.createElement(v.default,(0,r.default)({content:e[o.split(".")[0]],name:o},i,{rowId:e.id})))})),_&&l.default.createElement(s.Td,null,l.default.createElement(c.Flex,(0,r.default)({justifyContent:"end"},g.stopPropagation),l.default.createElement(d.IconButton,{onClick:()=>{P("willEditEntryFromButton"),w({pathname:`${k}/${e.id}`,state:{from:k},search:x})},label:T({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:h}),noBorder:!0,icon:l.default.createElement(m.default,null)}),t&&l.default.createElement(u.Box,{paddingLeft:1},l.default.createElement(d.IconButton,{onClick:()=>{w({pathname:`${k}/create/clone/${e.id}`,state:{from:k},search:x})},label:T({id:"app.component.table.duplicate",defaultMessage:"Duplicate {target}"},{target:h}),noBorder:!0,icon:l.default.createElement(p.default,null)})),a&&l.default.createElement(u.Box,{paddingLeft:1},l.default.createElement(d.IconButton,{onClick:()=>{P("willDeleteEntryFromList"),M(e.id)},label:T({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:h}),noBorder:!0,icon:l.default.createElement(f.default,null)})))))})))};M.defaultProps={canCreate:!1,canDelete:!1,entriesToDelete:[],onClickDelete:()=>{},onSelectRow:()=>{},rows:[],withBulkActions:!1,withMainAction:!1},M.propTypes={canCreate:o.default.bool,canDelete:o.default.bool,entriesToDelete:o.default.array,headers:o.default.array.isRequired,onClickDelete:o.default.func,onSelectRow:o.default.func,rows:o.default.array,withBulkActions:o.default.bool,withMainAction:o.default.bool};var C=M;t.default=C},18595:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=a(68547),u=a(37424),d=n(a(41609)),s=a(29499),c=a(51046),f=a(28564),p=n(a(27301)),m=n(a(90753)),g=n(a(35883)),y=n(a(86863));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const h=e=>{let{canCreate:t,canDelete:a,contentTypeName:n,action:l,isBulkable:b,isLoading:h,onConfirmDelete:v,onConfirmDeleteAll:E,layout:M,rows:C}=e;const{runHookWaterfall:O}=(0,i.useStrapiApp)(),_=M.contentType.options.draftAndPublish||!1,{formatMessage:R}=(0,o.useIntl)(),w=(0,u.useSelector)(c.selectDisplayedHeaders),k=(0,r.useMemo)((()=>{const e=O(s.INJECT_COLUMN_IN_TABLE,{displayedHeaders:w,layout:M}).displayedHeaders.map((e=>{if("relation"===e.fieldSchema.type){const t=`${e.name}.${e.metadatas.mainField.name}`;return{...e,name:t}}return e}));return _?[...e,{key:"__published_at_temp_key__",name:"publishedAt",fieldSchema:{type:"custom"},metadatas:{label:R({id:(0,f.getTrad)("containers.ListPage.table-headers.published_at")}),searchable:!1,sortable:!0},cellFormatter:e=>{const t=!(0,d.default)(e.publishedAt);return r.default.createElement(p.default,{isPublished:t})}}]:e}),[O,w,M,_,R]);return r.default.createElement(i.DynamicTable,{components:{ConfirmDialogDelete:y.default,ConfirmDialogDeleteAll:g.default},contentType:n,action:l,isLoading:h,headers:k,onConfirmDelete:v,onConfirmDeleteAll:E,onOpenDeleteAllModalTrackedEvent:"willBulkDeleteEntries",rows:C,withBulkActions:!0,withMainAction:a&&b},r.default.createElement(m.default,{canCreate:t,canDelete:a,headers:k,rows:C,withBulkActions:!0,withMainAction:a&&b}))};h.defaultProps={action:void 0},h.propTypes={canCreate:l.default.bool.isRequired,canDelete:l.default.bool.isRequired,contentTypeName:l.default.string.isRequired,action:l.default.node,isBulkable:l.default.bool.isRequired,isLoading:l.default.bool.isRequired,layout:l.default.exact({components:l.default.object.isRequired,contentType:l.default.shape({attributes:l.default.object.isRequired,metadatas:l.default.object.isRequired,layouts:l.default.shape({list:l.default.array.isRequired,editRelations:l.default.array}).isRequired,options:l.default.object.isRequired,settings:l.default.object.isRequired}).isRequired}).isRequired,onConfirmDelete:l.default.func.isRequired,onConfirmDeleteAll:l.default.func.isRequired,rows:l.default.array.isRequired};var v=h;t.default=v},33755:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(78384)),u=n(a(24534)),d=a(33289),s=a(94117),c=a(40264),f=a(33483),p=a(28564);const m=(0,i.default)(u.default).withConfig({displayName:"AddComponentButton__StyledAddIcon",componentId:"sc-1yhda8c-0"})(["transform:",";> circle{fill:",";}> path{fill:",";}"],(e=>{let{$isOpen:t}=e;return t?"rotate(45deg)":"rotate(0deg)"}),(e=>{let{theme:t,$hasError:a}=e;return a?t.colors.danger200:t.colors.neutral150}),(e=>{let{theme:t,$hasError:a}=e;return a?t.colors.danger600:t.colors.neutral600})),g=(0,i.default)(d.BaseButton).withConfig({displayName:"AddComponentButton__StyledButton",componentId:"sc-1yhda8c-1"})(["border-radius:26px;border-color:",";background:",";padding-top:",";padding-right:",";padding-bottom:",";padding-left:",";box-shadow:",";svg{height:",";width:",";> path{fill:",";}}&:hover{color:"," !important;","{color:"," !important;}","{> circle{fill:",";}> path{fill:",";}}}&:active{","{color:",";}","{> circle{fill:",";}> path{fill:",";}}}"],(e=>{let{theme:t}=e;return t.colors.neutral150}),(e=>{let{theme:t}=e;return t.colors.neutral0}),(e=>{let{theme:t}=e;return t.spaces[3]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[3]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.shadows.filterShadow}),(e=>{let{theme:t}=e;return t.spaces[6]}),(e=>{let{theme:t}=e;return t.spaces[6]}),(e=>{let{theme:t}=e;return t.colors.neutral600}),(e=>{let{theme:t}=e;return t.colors.primary600}),f.Typography,(e=>{let{theme:t}=e;return t.colors.primary600}),m,(e=>{let{theme:t}=e;return t.colors.primary600}),(e=>{let{theme:t}=e;return t.colors.neutral100}),f.Typography,(e=>{let{theme:t}=e;return t.colors.primary600}),m,(e=>{let{theme:t}=e;return t.colors.primary600}),(e=>{let{theme:t}=e;return t.colors.neutral100})),y=(0,i.default)(s.Box).withConfig({displayName:"AddComponentButton__BoxFullHeight",componentId:"sc-1yhda8c-2"})(["height:100%;"]),b=e=>{let{hasError:t,hasMaxError:a,hasMinError:n,isDisabled:l,isOpen:i,label:u,missingComponentNumber:d,name:b,onClick:h}=e;const{formatMessage:v}=(0,o.useIntl)(),E=v({id:(0,p.getTrad)("components.DynamicZone.add-component"),defaultMessage:"Add a component to {componentName}"},{componentName:u||b}),M=v({id:"app.utils.close-label",defaultMessage:"Close"});let C=i?M:E;return a&&!i&&(C=v({id:"components.Input.error.validation.max",defaultMessage:"The value is too high."})),n&&!i&&(C=v({id:(0,p.getTrad)("components.DynamicZone.missing-components"),defaultMessage:"There {number, plural, =0 {are # missing components} one {is # missing component} other {are # missing components}}"},{number:d})),r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Flex,{justifyContent:"center"},r.default.createElement(s.Box,{style:{cursor:l?"not-allowed":"pointer"}},r.default.createElement(g,{type:"button",onClick:h,disabled:l,hasError:t},r.default.createElement(c.Flex,null,r.default.createElement(y,{"aria-hidden":!0,paddingRight:2},r.default.createElement(m,{$isOpen:i,$hasError:t&&!i})),r.default.createElement(f.Typography,{variant:"pi",fontWeight:"bold",textColor:t&&!i?"danger600":"neutral500"},C))))))};b.defaultProps={label:"",missingComponentNumber:0},b.propTypes={label:l.default.string,hasError:l.default.bool.isRequired,hasMaxError:l.default.bool.isRequired,hasMinError:l.default.bool.isRequired,isDisabled:l.default.bool.isRequired,isOpen:l.default.bool.isRequired,missingComponentNumber:l.default.number,name:l.default.string.isRequired,onClick:l.default.func.isRequired};var h=b;t.default=h},62761:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(94117),i=a(33483),u=a(9524),d=a(68547),s=a(67814),c=n(a(78384)),f=a(97132);const p=(0,c.default)(s.FontAwesomeIcon).withConfig({displayName:"ComponentCard__StyledFontAwesomeIcon",componentId:"sc-fbfh8p-0"})(["width:"," !important;height:"," !important;padding:",";border-radius:",";background:",";path{fill:",";}"],(0,d.pxToRem)(32),(0,d.pxToRem)(32),(0,d.pxToRem)(9),(0,d.pxToRem)(64),(e=>{let{theme:t}=e;return t.colors.neutral150}),(e=>{let{theme:t}=e;return t.colors.neutral500})),m=(0,c.default)(o.Box).withConfig({displayName:"ComponentCard__ComponentBox",componentId:"sc-fbfh8p-1"})(["flex-shrink:0;height:",";border:1px solid ",";background:",";border-radius:",";display:flex;justify-content:center;align-items:center;&.active,&:hover{border:1px solid ",";background:",";","{background:",";path{fill:",";}}","{color:",";}}"],(0,d.pxToRem)(84),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral100}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.colors.primary200}),(e=>{let{theme:t}=e;return t.colors.primary100}),p,(e=>{let{theme:t}=e;return t.colors.primary200}),(e=>{let{theme:t}=e;return t.colors.primary600}),i.Typography,(e=>{let{theme:t}=e;return t.colors.primary600}));function g(e){let{componentUid:t,intlLabel:a,icon:n,onClick:l}=e;const{formatMessage:o}=(0,f.useIntl)();return r.default.createElement("button",{type:"button",onClick:()=>{l(t)}},r.default.createElement(m,{borderRadius:"borderRadius"},r.default.createElement(u.Stack,{spacing:1,style:{justifyContent:"center",alignItems:"center"}},r.default.createElement(p,{icon:n}),r.default.createElement(i.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral600"},o(a)))))}g.defaultProps={icon:"smile",onClick:()=>{}},g.propTypes={componentUid:l.default.string.isRequired,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired}).isRequired,icon:l.default.string,onClick:l.default.func};var y=g;t.default=y},49735:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(47949),i=a(94117),u=n(a(78384)),d=a(97132),s=n(a(62761));const c=u.default.div.withConfig({displayName:"Category__Grid",componentId:"sc-kn335s-0"})(["display:grid;grid-template-columns:repeat(auto-fit,","rem);grid-gap:",";"],8.75,(e=>{let{theme:t}=e;return t.spaces[1]})),f=e=>{let{category:t,components:a,isOdd:n,isOpen:l,onAddComponent:u,onToggle:f}=e;const{formatMessage:p}=(0,d.useIntl)();return r.default.createElement(o.Accordion,{expanded:l,onToggle:()=>{f(t)},size:"S"},r.default.createElement(o.AccordionToggle,{variant:n?"primary":"secondary",title:p({id:t,defaultMessage:t}),togglePosition:"left"}),r.default.createElement(o.AccordionContent,null,r.default.createElement(i.Box,{paddingTop:4,paddingBottom:4,paddingLeft:3,paddingRight:3},r.default.createElement(c,null,a.map((e=>{let{componentUid:t,info:{displayName:a,icon:n}}=e;return r.default.createElement(s.default,{key:t,componentUid:t,intlLabel:{id:a,defaultMessage:a},icon:n,onClick:u})}))))))};f.propTypes={category:l.default.string.isRequired,components:l.default.array.isRequired,isOdd:l.default.bool.isRequired,isOpen:l.default.bool.isRequired,onAddComponent:l.default.func.isRequired,onToggle:l.default.func.isRequired};var p=f;t.default=p},54611:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(7739)),o=n(a(45697)),i=a(97132),u=a(33247),d=a(94117),s=a(40264),c=a(33483),f=a(28564),p=a(14772),m=n(a(49735));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const y=e=>{let{components:t,isOpen:a,onClickAddComponent:n}=e;const{formatMessage:o}=(0,i.useIntl)(),{getComponentLayout:g}=(0,p.useContentTypeLayout)(),[y,b]=(0,r.useState)(""),h=(0,r.useMemo)((()=>{const e=t.map((e=>{const{category:t,info:a}=g(e);return{componentUid:e,category:t,info:a}})),a=(0,l.default)(e,"category");return Object.keys(a).reduce(((e,t)=>(e.push({category:t,components:a[t]}),e)),[])}),[t,g]);(0,r.useEffect)((()=>{a&&h.length&&b(h[0].category)}),[a,h]);const v=(0,r.useCallback)((e=>{n(e),b("")}),[n]),E=(0,r.useCallback)((e=>{b(y===e?"":e)}),[y]);return a?r.default.createElement(d.Box,{paddingBottom:6},r.default.createElement(d.Box,{paddingTop:6,paddingBottom:6,paddingLeft:5,paddingRight:5,background:"neutral0",shadow:"tableShadow",borderColor:"neutral150",hasRadius:!0},r.default.createElement(s.Flex,{justifyContent:"center"},r.default.createElement(c.Typography,{fontWeight:"bold",textColor:"neutral600"},o({id:(0,f.getTrad)("components.DynamicZone.ComponentPicker-label"),defaultMessage:"Pick one component"}))),r.default.createElement(d.Box,{paddingTop:2},r.default.createElement(u.KeyboardNavigable,{attributeName:"data-strapi-accordion-toggle"},h.map(((e,t)=>{let{category:a,components:n}=e;return r.default.createElement(m.default,{key:a,category:a,components:n,isOdd:t%2===1,isOpen:a===y,onAddComponent:v,onToggle:E})})))))):null};y.propTypes={components:o.default.array.isRequired,isOpen:o.default.bool.isRequired,onClickAddComponent:o.default.func.isRequired};var b=(0,r.memo)(y);t.default=b},61321:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(78384)),o=a(94117),i=a(40264);const u=(0,l.default)(o.Box).withConfig({displayName:"Rectangle__StyledBox",componentId:"sc-1phtory-0"})(["width:",";height:",";"],(e=>{let{theme:t}=e;return t.spaces[2]}),(e=>{let{theme:t}=e;return t.spaces[4]}));var d=()=>r.default.createElement(i.Flex,{justifyContent:"center"},r.default.createElement(u,{background:"neutral200"}));t.default=d},47330:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(78384)),i=n(a(69590)),u=a(97132),d=a(67814),s=a(47949),c=a(49549),f=a(15577),p=a(94117),m=a(9524),g=n(a(62982)),y=n(a(72515)),b=n(a(65040)),h=a(14772),v=a(28564),E=n(a(49925)),M=n(a(61321));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const O=(0,o.default)(m.Stack).withConfig({displayName:"Component__ActionStack",componentId:"sc-1avgasp-0"})(["svg{path{fill:",";}}"],(e=>{let{theme:t,expanded:a}=e;return a?t.colors.primary600:t.colors.neutral600})),_=(0,o.default)(c.IconButton).withConfig({displayName:"Component__IconButtonCustom",componentId:"sc-1avgasp-1"})(["background-color:transparent;"]),R=(0,o.default)(p.Box).withConfig({displayName:"Component__StyledBox",componentId:"sc-1avgasp-2"})(["> div:first-child{box-shadow:",";}"],(e=>{let{theme:t}=e;return t.shadows.tableShadow})),w=(0,o.default)(p.Box).withConfig({displayName:"Component__AccordionContentRadius",componentId:"sc-1avgasp-3"})(["border-radius:0 0 "," ",";"],(e=>{let{theme:t}=e;return t.spaces[1]}),(e=>{let{theme:t}=e;return t.spaces[1]})),k=e=>{let{componentUid:t,formErrors:a,index:n,isOpen:l,isFieldAllowed:o,moveComponentDown:i,moveComponentUp:c,name:m,onToggle:C,removeComponentFromDynamicZone:k,showDownIcon:T,showUpIcon:P}=e;const{formatMessage:x}=(0,u.useIntl)(),{getComponentLayout:j}=(0,h.useContentTypeLayout)(),{icon:D,friendlyName:I}=(0,r.useMemo)((()=>{const{info:{icon:e,displayName:a}}=j(t);return{friendlyName:a,icon:e}}),[t,j]),S=x({id:(0,v.getTrad)("components.DynamicZone.move-down-label"),defaultMessage:"Move component down"}),q=x({id:(0,v.getTrad)("components.DynamicZone.move-up-label"),defaultMessage:"Move component down"}),F=x({id:(0,v.getTrad)("components.DynamicZone.delete-label"),defaultMessage:"Delete {name}"},{name:I});let L;return Object.keys(a).filter((e=>{const t=e.split(".");return`${t[0]}.${t[1]}`===`${m}.${n}`})).length>0&&(L=x({id:(0,v.getTrad)("components.DynamicZone.error-message"),defaultMessage:"The component contains error(s)"})),r.default.createElement(p.Box,null,r.default.createElement(M.default,null),r.default.createElement(R,{hasRadius:!0},r.default.createElement(s.Accordion,{expanded:l,onToggle:()=>C(n),size:"S",error:L},r.default.createElement(s.AccordionToggle,{startIcon:r.default.createElement(d.FontAwesomeIcon,{icon:D}),action:r.default.createElement(O,{horizontal:!0,spacing:0,expanded:l},T&&r.default.createElement(_,{noBorder:!0,label:S,onClick:()=>i(m,n),icon:r.default.createElement(y.default,null)}),P&&r.default.createElement(_,{noBorder:!0,label:q,onClick:()=>c(m,n),icon:r.default.createElement(b.default,null)}),o&&r.default.createElement(_,{noBorder:!0,label:F,onClick:()=>k(m,n),icon:r.default.createElement(g.default,null)})),title:I,togglePosition:"left"}),r.default.createElement(s.AccordionContent,null,r.default.createElement(w,{background:"neutral0"},r.default.createElement(f.FocusTrap,{onEscape:()=>C(n)},r.default.createElement(E.default,{componentUid:t,icon:D,name:`${m}.${n}`,isFromDynamicZone:!0})))))))};k.propTypes={componentUid:l.default.string.isRequired,formErrors:l.default.object.isRequired,index:l.default.number.isRequired,isFieldAllowed:l.default.bool.isRequired,isOpen:l.default.bool.isRequired,moveComponentDown:l.default.func.isRequired,moveComponentUp:l.default.func.isRequired,name:l.default.string.isRequired,onToggle:l.default.func.isRequired,removeComponentFromDynamicZone:l.default.func.isRequired,showDownIcon:l.default.bool.isRequired,showUpIcon:l.default.bool.isRequired};var T=(0,r.memo)(k,i.default);t.default=T},82471:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(97132),o=n(a(45697)),i=n(a(78384)),u=a(68547),d=a(94117),s=a(40264),c=a(33483);const f=(0,i.default)(d.Box).withConfig({displayName:"DzLabel__StyledBox",componentId:"sc-7qr6r0-0"})(["border-radius:",";"],(0,u.pxToRem)(26)),p=e=>{let{label:t,labelAction:a,name:n,numberOfComponents:o,required:i,intlDescription:p}=e;const{formatMessage:m}=(0,l.useIntl)(),g=m({id:t||n,defaultMessage:t||n});return r.default.createElement(s.Flex,{justifyContent:"center"},r.default.createElement(d.Box,null,r.default.createElement(f,{paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,background:"neutral0",shadow:"filterShadow",color:"neutral500"},r.default.createElement(s.Flex,{direction:"column",justifyContent:"center"},r.default.createElement(s.Flex,{maxWidth:(0,u.pxToRem)(356)},r.default.createElement(c.Typography,{variant:"pi",textColor:"neutral600",fontWeight:"bold",ellipsis:!0},g,"\xa0"),r.default.createElement(c.Typography,{variant:"pi",textColor:"neutral600",fontWeight:"bold"},"(",o,")"),i&&r.default.createElement(c.Typography,{textColor:"danger600"},"*"),a&&r.default.createElement(d.Box,{paddingLeft:1},a)),p&&r.default.createElement(d.Box,{paddingTop:1,maxWidth:(0,u.pxToRem)(356)},r.default.createElement(c.Typography,{variant:"pi",textColor:"neutral600",ellipsis:!0},m(p)))))))};p.defaultProps={intlDescription:void 0,label:"",labelAction:void 0,required:!1},p.propTypes={intlDescription:o.default.shape({id:o.default.string.isRequired,defaultMessage:o.default.string.isRequired}),label:o.default.string,labelAction:o.default.element,name:o.default.string.isRequired,numberOfComponents:o.default.number.isRequired,required:o.default.bool};var m=p;t.default=m},58827:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DynamicZone=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(27361)),o=n(a(69590)),i=n(a(45697)),u=a(9524),d=a(94117),s=a(68547),c=a(28564),f=n(a(28027)),p=n(a(24366)),m=n(a(33755)),g=n(a(82471)),y=n(a(47330)),b=n(a(54611));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const v=e=>Array.from({length:e}).map((()=>({isOpen:!1}))),E=e=>{let{name:t,addComponentToDynamicZone:a,formErrors:n,isCreatingEntry:o,isFieldAllowed:i,isFieldReadable:f,labelAction:p,moveComponentUp:h,moveComponentDown:E,removeComponentFromDynamicZone:M,dynamicDisplayedComponents:C,fieldSchema:O,metadatas:_}=e;const R=(0,s.useNotification)(),[w,k]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),x=C.length,j=_.description?{id:_.description,defaultMessage:_.description}:null,[D,I]=(0,r.useState)(v(x));(0,r.useEffect)((()=>{I(v(x))}),[x]),(0,r.useEffect)((()=>{T&&(I((e=>e.map(((t,a)=>a===e.length-1?{...t,isOpen:!0}:t)))),P(!1))}),[T]);const{max:S=1/0,min:q=-1/0}=O,F=(0,r.useMemo)((()=>Object.keys(n).filter((e=>e===t)).map((e=>n[e]))),[n,t]),L=(0,r.useMemo)((()=>O.components||[]),[O]),A=q-x,B=F.length>0,N=F.length>0&&(0,l.default)(F,[0,"id"],"").includes("min"),W=B&&"components.Input.error.validation.max"===(0,l.default)(F,[0,"id"],""),$=(0,r.useCallback)((e=>{k(!1),a(t,e,B),P(!0)}),[a,B,t]),U=e=>{I((t=>t.map(((t,a)=>{let{isOpen:n}=t;return a===e?{isOpen:!n}:{isOpen:n}}))))},z=(e,t)=>{E(e,t),I((e=>e.map(((e,a,n)=>{let{isOpen:r}=e;return a===t+1?{isOpen:n[t].isOpen}:a===t?{isOpen:n[a+1].isOpen}:{isOpen:r}}))))},V=(e,t)=>{h(e,t),I((e=>e.map(((e,a,n)=>{let{isOpen:r}=e;return a===t-1?{isOpen:n[t].isOpen}:a===t?{isOpen:n[a-1].isOpen}:{isOpen:r}}))))},H=(e,t)=>{M(e,t)};return!i&&o?r.default.createElement(s.NotAllowedInput,{description:j,intlLabel:{id:_.label,defaultMessage:_.label},labelAction:p,name:t}):i||f||o?r.default.createElement(u.Stack,{spacing:6},x>0&&r.default.createElement(d.Box,null,r.default.createElement(g.default,{intlDescription:j,label:_.label,labelAction:p,name:t,numberOfComponents:x,required:O.required||!1}),C.map(((e,a)=>{var l;const o=i&&x>0&&a<x-1,u=i&&x>0&&a>0,d=(null===(l=D[a])||void 0===l?void 0:l.isOpen)||!1;return r.default.createElement(y.default,{componentUid:e,formErrors:n,key:a,index:a,isOpen:d,isFieldAllowed:i,moveComponentDown:z,moveComponentUp:V,onToggle:U,name:t,removeComponentFromDynamicZone:H,showDownIcon:o,showUpIcon:u})}))),r.default.createElement(m.default,{hasError:B,hasMaxError:W,hasMinError:N,isDisabled:!i,label:_.label,missingComponentNumber:A,isOpen:w,name:t,onClick:()=>{x<S?k((e=>!e)):R({type:"info",message:{id:(0,c.getTrad)("components.notification.info.maximum-requirement")}})}}),r.default.createElement(b.default,{isOpen:w,components:L,onClickAddComponent:$})):r.default.createElement(s.NotAllowedInput,{description:j,intlLabel:{id:_.label,defaultMessage:_.label},labelAction:p,name:t})};t.DynamicZone=E,E.defaultProps={dynamicDisplayedComponents:[],fieldSchema:{max:1/0,min:-1/0},labelAction:null},E.propTypes={addComponentToDynamicZone:i.default.func.isRequired,dynamicDisplayedComponents:i.default.array,fieldSchema:i.default.shape({components:i.default.array.isRequired,max:i.default.number,min:i.default.number,required:i.default.bool}),formErrors:i.default.object.isRequired,isCreatingEntry:i.default.bool.isRequired,isFieldAllowed:i.default.bool.isRequired,isFieldReadable:i.default.bool.isRequired,labelAction:i.default.element,metadatas:i.default.shape({description:i.default.string,label:i.default.string}).isRequired,moveComponentUp:i.default.func.isRequired,moveComponentDown:i.default.func.isRequired,name:i.default.string.isRequired,removeComponentFromDynamicZone:i.default.func.isRequired};const M=(0,r.memo)(E,o.default);var C=(0,f.default)(M,p.default);t.default=C},28027:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a.name);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},24366:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(96486),l=a(68547);var o=function(e){const{addComponentToDynamicZone:t,createActionAllowedFields:a,isCreatingEntry:o,formErrors:i,modifiedData:u,moveComponentUp:d,moveComponentDown:s,removeComponentFromDynamicZone:c,readActionAllowedFields:f,updateActionAllowedFields:p}=(0,l.useCMEditViewDataManager)(),m=(0,n.useMemo)((()=>(0,r.get)(u,[e],[]).map((e=>e.__component))),[u,e]),g=(0,n.useMemo)((()=>(o?a:p).includes(e)),[e,o,a,p]),y=(0,n.useMemo)((()=>(o?[]:f).includes(e)),[e,o,f]);return{addComponentToDynamicZone:t,formErrors:i,isCreatingEntry:o,isFieldAllowed:g,isFieldReadable:y,moveComponentUp:d,moveComponentDown:s,removeComponentFromDynamicZone:c,dynamicDisplayedComponents:m}};t.default=o},80249:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=E(a(53547)),l=n(a(41609)),o=n(a(50361)),i=n(a(27361)),u=n(a(18446)),d=n(a(36968)),s=n(a(45697)),c=a(97132),f=a(39711),p=a(80117),m=a(68547),g=a(28564),y=E(a(47360)),b=a(80300),h=a(73584);function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}const M=e=>{let{allLayoutData:t,allowedActions:{canRead:a,canUpdate:n},children:s,componentsDataStructure:v,contentTypeDataStructure:E,createActionAllowedFields:M,from:C,initialValues:O,isCreatingEntry:_,isLoadingForData:R,isSingleType:w,onPost:k,onPublish:T,onPut:P,onUnpublish:x,readActionAllowedFields:j,redirectToPreviousPage:D,slug:I,status:S,updateActionAllowedFields:q}=e;const[F,L]=(0,r.useReducer)(y.default,y.initialState),{formErrors:A,initialData:B,modifiedData:N,modifiedDZName:W,shouldCheckErrors:$}=F,U=(0,m.useNotification)(),{lockApp:z,unlockApp:V}=(0,m.useOverlayBlocker)(),H=(0,i.default)(t,["contentType"],{}),G=(0,r.useMemo)((()=>(0,i.default)(H,["options","draftAndPublish"],!1)),[H]),Z=(0,r.useMemo)((()=>G&&!B.publishedAt),[G,B.publishedAt]),{trackUsage:Q}=(0,m.useTracking)(),{formatMessage:Y}=(0,c.useIntl)(),K=(0,r.useRef)(Q),J=(0,r.useMemo)((()=>!R&&(!_&&(!1===a&&!1===n))),[R,_,a,n]);(0,r.useEffect)((()=>{"resolved"===S?V():z()}),[z,V,S]),(0,r.useEffect)((()=>{R||re()}),[$]),(0,r.useEffect)((()=>{const e=Object.keys(A);if(e.length>0){const t=e[0],a=document.getElementById(t);a&&a.focus()}}),[A]),(0,r.useEffect)((()=>{J&&U({type:"info",message:{id:(0,g.getTrad)("permissions.not-allowed.update")}})}),[J,U]),(0,r.useEffect)((()=>{L({type:"SET_DEFAULT_DATA_STRUCTURES",componentsDataStructure:v,contentTypeDataStructure:E})}),[v,E]),(0,r.useEffect)((()=>{O&&L({type:"INIT_FORM",initialValues:O})}),[O]);const X=(0,r.useCallback)((function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];K.current("didAddComponentToDynamicZone"),L({type:"ADD_COMPONENT_TO_DYNAMIC_ZONE",keys:e.split("."),componentUid:t,shouldCheckErrors:a})}),[]),ee=(0,r.useCallback)(((e,t)=>{L({type:"ADD_NON_REPEATABLE_COMPONENT_TO_FIELD",keys:e.split("."),componentUid:t})}),[]),te=(0,r.useCallback)((e=>{let{target:{name:t,value:a}}=e;L({type:"ADD_RELATION",keys:t.split("."),value:a})}),[]),ae=(0,r.useCallback)((function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];L({type:"ADD_REPEATABLE_COMPONENT_TO_FIELD",keys:e.split("."),componentUid:t,shouldCheckErrors:a})}),[]),ne=(0,r.useMemo)((()=>{const e={isCreatingEntry:_,isDraft:Z,isFromComponent:!1};return(0,b.createYupSchema)(H,{components:t.components||{}},e)}),[t.components,H,_,Z]),re=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};const a=(0,o.default)(N);(0,l.default)(a)||(0,d.default)(a,e.path,e.value);try{await ne.validate(a,{abortEarly:!1})}catch(n){t=(0,m.getYupInnerErrors)(n),W&&(t=Object.keys(t).reduce(((e,a)=>(a.split(".")[0]!==W&&(e[a]=t[a]),e)),{}))}L({type:"SET_FORM_ERRORS",errors:t})}),[W,N,ne]),le=(0,r.useCallback)((function(e){let{target:{name:t,value:a,type:n}}=e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=a;"date"===n&&""===a&&(l=null),"password"!==n||a?("select-one"===n&&""===a&&(l=null),"number"===n&&""===a&&(l=null),L({type:"ON_CHANGE",keys:t.split("."),value:l,shouldSetInitialValue:r})):L({type:"REMOVE_PASSWORD_FIELD",keys:t.split(".")})}),[]),oe=(0,r.useCallback)((e=>{const a=(0,g.removeKeyInObject)((0,o.default)(e),"__temp_key__");return(0,b.cleanData)(a,H,t.components)}),[t.components,H]),ie=(0,r.useMemo)((()=>G&&Z?{status:"draft"}:{}),[G,Z]),ue=(0,r.useCallback)((async e=>{e.preventDefault();let t={};try{await ne.validate(N,{abortEarly:!1})}catch(a){t=(0,m.getYupInnerErrors)(a)}try{if((0,l.default)(t)){const e=oe(N);_?await k(e,ie):await P(e,ie)}}catch(a){t={...t,...(0,h.getAPIInnerError)(a)}}L({type:"SET_FORM_ERRORS",errors:t})}),[oe,_,N,k,P,ie,ne]),de=(0,r.useCallback)((async()=>{const e=(0,b.createYupSchema)(H,{components:(0,i.default)(t,"components",{})},{isCreatingEntry:_,isDraft:!1,isFromComponent:!1});let a={};try{await e.validate(N,{abortEarly:!1})}catch(n){a=(0,m.getYupInnerErrors)(n)}try{(0,l.default)(a)&&await T()}catch(n){a={...a,...(0,h.getAPIInnerError)(n)}}L({type:"SET_FORM_ERRORS",errors:a})}),[t,H,_,N,T]),se=(0,r.useCallback)((e=>{const t=Object.keys(A).some((t=>t.split(".")[0]===e));return!(0,l.default)(A)&&t}),[A]),ce=(0,r.useCallback)(((e,t)=>{K.current("changeComponentsOrder"),L({type:"MOVE_COMPONENT_DOWN",dynamicZoneName:e,currentIndex:t,shouldCheckErrors:se(e)})}),[se]),fe=(0,r.useCallback)(((e,t)=>{K.current("changeComponentsOrder"),L({type:"MOVE_COMPONENT_UP",dynamicZoneName:e,currentIndex:t,shouldCheckErrors:se(e)})}),[se]),pe=(0,r.useCallback)(((e,t,a)=>{L({type:"MOVE_COMPONENT_FIELD",pathToComponent:e,dragIndex:t,hoverIndex:a})}),[]),me=(0,r.useCallback)(((e,t,a)=>{L({type:"MOVE_FIELD",dragIndex:e,overIndex:t,keys:a.split(".")})}),[]),ge=(0,r.useCallback)((e=>{L({type:"REMOVE_RELATION",keys:e})}),[]),ye=(0,r.useCallback)(((e,t)=>{K.current("removeComponentFromDynamicZone"),L({type:"REMOVE_COMPONENT_FROM_DYNAMIC_ZONE",dynamicZoneName:e,index:t,shouldCheckErrors:se(e)})}),[se]),be=(0,r.useCallback)(((e,t)=>{L({type:"REMOVE_COMPONENT_FROM_FIELD",keys:e.split("."),componentUid:t})}),[]),he=(0,r.useCallback)(((e,t)=>{L({type:"REMOVE_REPEATABLE_FIELD",keys:e.split("."),componentUid:t})}),[]),ve=(0,r.useCallback)((()=>{L({type:"TRIGGER_FORM_VALIDATION"})}),[]);return J?r.default.createElement(f.Redirect,{to:C}):N?r.default.createElement(m.ContentManagerEditViewDataManagerContext.Provider,{value:{addComponentToDynamicZone:X,addNonRepeatableComponentToField:ee,addRelation:te,addRepeatableComponentToField:ae,allLayoutData:t,checkFormErrors:re,createActionAllowedFields:M,formErrors:A,hasDraftAndPublish:G,initialData:B,isCreatingEntry:_,isSingleType:w,shouldNotRunValidations:Z,status:S,layout:H,modifiedData:N,moveComponentDown:ce,moveComponentField:pe,moveComponentUp:fe,moveRelation:me,onChange:le,onPublish:de,onUnpublish:x,onRemoveRelation:ge,readActionAllowedFields:j,redirectToPreviousPage:D,removeComponentFromDynamicZone:ye,removeComponentFromField:be,removeRepeatableField:he,slug:I,triggerFormValidation:ve,updateActionAllowedFields:q}},r.default.createElement(r.default.Fragment,null,R||!_&&!B.id?r.default.createElement(p.Main,{"aria-busy":"true"},r.default.createElement(m.LoadingIndicatorPage,null)):r.default.createElement(r.default.Fragment,null,r.default.createElement(f.Prompt,{when:!(0,u.default)(N,B),message:Y({id:"global.prompt.unsaved"})}),r.default.createElement("form",{noValidate:!0,onSubmit:ue},s)))):null};M.defaultProps={from:"/",initialValues:null,redirectToPreviousPage:()=>{}},M.propTypes={allLayoutData:s.default.object.isRequired,allowedActions:s.default.object.isRequired,children:s.default.node.isRequired,componentsDataStructure:s.default.object.isRequired,contentTypeDataStructure:s.default.object.isRequired,createActionAllowedFields:s.default.array.isRequired,from:s.default.string,initialValues:s.default.object,isCreatingEntry:s.default.bool.isRequired,isLoadingForData:s.default.bool.isRequired,isSingleType:s.default.bool.isRequired,onPost:s.default.func.isRequired,onPublish:s.default.func.isRequired,onPut:s.default.func.isRequired,onUnpublish:s.default.func.isRequired,readActionAllowedFields:s.default.array.isRequired,redirectToPreviousPage:s.default.func,slug:s.default.string.isRequired,status:s.default.string.isRequired,updateActionAllowedFields:s.default.array.isRequired};var C=M;t.default=C},47360:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(66312)),l=n(a(98601)),o=n(a(27361)),i=n(a(36968)),u=n(a(69572)),d=a(80300),s=a(28564);t.initialState={componentsDataStructure:{},contentTypeDataStructure:{},formErrors:{},initialData:{},modifiedData:null,shouldCheckErrors:!1,modifiedDZName:null};var c=(e,t)=>(0,r.default)(e,(a=>{switch(t.type){case"ADD_NON_REPEATABLE_COMPONENT_TO_FIELD":(0,i.default)(a,["modifiedData",...t.keys],e.componentsDataStructure[t.componentUid]);break;case"ADD_REPEATABLE_COMPONENT_TO_FIELD":{let n=(0,o.default)(e,["modifiedData",...t.keys],[]).slice();const r={...e.componentsDataStructure[t.componentUid],__temp_key__:(0,s.getMaxTempKey)(n)+1};Array.isArray(n)?n.push(r):n=[r],(0,i.default)(a,["modifiedData",...t.keys],n),t.shouldCheckErrors&&(a.shouldCheckErrors=!e.shouldCheckErrors);break}case"ADD_COMPONENT_TO_DYNAMIC_ZONE":{a.modifiedDZName=t.keys[0],t.shouldCheckErrors&&(a.shouldCheckErrors=!e.shouldCheckErrors);const n={...e.componentsDataStructure[t.componentUid],__component:t.componentUid},r=(0,o.default)(e,["modifiedData",...t.keys],null),l=r?[...r,n]:[n];(0,i.default)(a,["modifiedData",...t.keys],l);break}case"ADD_RELATION":{if(!Array.isArray(t.value)||!t.value.length)break;const n=t.value[0].value,r=(0,o.default)(e,["modifiedData",...t.keys],null);if(!r){(0,i.default)(a,["modifiedData",...t.keys],[n]);break}(0,i.default)(a,["modifiedData",...t.keys],[...r,n]);break}case"INIT_FORM":a.formErrors={},a.initialData=t.initialValues,a.modifiedData=t.initialValues,a.modifiedDZName=null,a.shouldCheckErrors=!1;break;case"MOVE_COMPONENT_FIELD":{const n=(0,o.default)(e,["modifiedData",...t.pathToComponent]),r=(0,o.default)(e,["modifiedData",...t.pathToComponent,t.dragIndex]),l=(0,d.moveFields)(n,t.dragIndex,t.hoverIndex,r);(0,i.default)(a,["modifiedData",...t.pathToComponent],l);break}case"MOVE_COMPONENT_UP":case"MOVE_COMPONENT_DOWN":{const{currentIndex:n,dynamicZoneName:r,shouldCheckErrors:l}=t;l&&(a.shouldCheckErrors=!e.shouldCheckErrors);const o=e.modifiedData[r],u="MOVE_COMPONENT_UP"===t.type?n-1:n+1,s=e.modifiedData[r][n],c=(0,d.moveFields)(o,n,u,s);(0,i.default)(a,["modifiedData",t.dynamicZoneName],c);break}case"MOVE_FIELD":{const n=(0,o.default)(e,["modifiedData",...t.keys],[]).slice(),r=(0,o.default)(e,["modifiedData",...t.keys,t.dragIndex]),l=(0,d.moveFields)(n,t.dragIndex,t.overIndex,r);(0,i.default)(a,["modifiedData",...t.keys],l);break}case"ON_CHANGE":{const[n]=t.keys;if(t.shouldSetInitialValue&&(0,i.default)(a,["initialData",...t.keys],t.value),2===t.keys.length&&null===(0,o.default)(e,["modifiedData",n])){(0,i.default)(a,["modifiedData",n],{[t.keys[1]]:t.value});break}(0,i.default)(a,["modifiedData",...t.keys],t.value);break}case"REMOVE_COMPONENT_FROM_DYNAMIC_ZONE":t.shouldCheckErrors&&(a.shouldCheckErrors=!e.shouldCheckErrors),a.modifiedData[t.dynamicZoneName].splice(t.index,1);break;case"REMOVE_COMPONENT_FROM_FIELD":{const e=["modifiedData",...t.keys];(0,i.default)(a,e,null);break}case"REMOVE_PASSWORD_FIELD":(0,l.default)(a,["modifiedData",...t.keys]);break;case"REMOVE_REPEATABLE_FIELD":{const n=t.keys.length-1,r=["modifiedData",...(0,u.default)(t.keys,n)];Object.keys(e.formErrors).length>0&&(a.shouldCheckErrors=!e.shouldCheckErrors);const l=(0,o.default)(e,r).slice();l.splice(parseInt(t.keys[n],10),1),(0,i.default)(a,r,l);break}case"REMOVE_RELATION":{const n=t.keys.split("."),r=n.length-1,l=["modifiedData",...(0,u.default)(n,r)],d=(0,o.default)(e,l).slice(),s=parseInt(n[r],10);d.splice(s,1),(0,i.default)(a,l,d);break}case"SET_DEFAULT_DATA_STRUCTURES":a.componentsDataStructure=t.componentsDataStructure,a.contentTypeDataStructure=t.contentTypeDataStructure;break;case"SET_FORM_ERRORS":a.modifiedDZName=null,a.formErrors=t.errors;break;case"TRIGGER_FORM_VALIDATION":Object.keys(e.formErrors).length>0&&(a.shouldCheckErrors=!e.shouldCheckErrors);break;default:return a}}));t.default=c},62170:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.helperCleanData=t.default=void 0;var r=n(a(27361)),l=n(a(1469)),o=n(a(13218));const i=(e,t)=>(0,l.default)(e)?e.map((e=>e[t]?e[t]:e)):(0,o.default)(e)?e[t]:e;t.helperCleanData=i;var u=(e,t,a)=>{const n=(e,t)=>(0,r.default)(e,["attributes",...t],""),l=(e,t)=>Object.keys(e).reduce(((o,u)=>{const d=((e,t)=>(0,r.default)(e,["attributes",t,"type"],""))(t,u),s=(0,r.default)(e,u),c=n(t,[u,"component"]),f=n(t,[u,"repeatable"]);let p;switch(d){case"json":p=JSON.parse(s);break;case"time":p=s,s&&s.split(":").length<3&&(p=`${s}:00`);break;case"media":p=!0===n(t,[u,"multiple"])?s?s.filter((e=>!(e instanceof File))):null:(0,r.default)(s,0)instanceof File?null:(0,r.default)(s,"id",null);break;case"component":p=f?s?s.map((e=>l(e,a[c]))):s:s?l(s,a[c]):s;break;case"dynamiczone":p=s.map((e=>l(e,a[e.__component])));break;default:p=i(s,"id")}return o[u]=p,o}),{});return l(e,t)};t.default=u},73584:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIInnerError=function(e){const t=e.response.data.error.details.errors;return t.reduce(((e,t)=>(e[t.path.join(".")]={id:(0,n.getTrad)(`apiError.${t.message}`),defaultMessage:t.message,values:{field:t.path[t.path.length-1]}},e)),{})};var n=a(28564)},80300:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cleanData",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"createYupSchema",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"moveFields",{enumerable:!0,get:function(){return r.default}});var r=n(a(23650)),l=n(a(62170)),o=n(a(9210))},23650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t,a,n)=>{const r=e.slice();return r.splice(t,1),r.splice(a,0,n),r};t.default=a},9210:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(27361)),l=n(a(51584)),o=n(a(41609)),i=n(a(7654)),u=n(a(14841)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53209)),s=a(68547),c=n(a(69824));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}d.addMethod(d.mixed,"defined",(function(){return this.test("defined",s.translatedErrors.required,(e=>void 0!==e))})),d.addMethod(d.array,"notEmptyMin",(function(e){return this.test("notEmptyMin",s.translatedErrors.min,(t=>!!(0,o.default)(t)||t.length>=e))})),d.addMethod(d.string,"isInferior",(function(e,t){return this.test("isInferior",e,(function(e){return!e||(!!Number.isNaN((0,u.default)(e))||(0,u.default)(t)>=(0,u.default)(e))}))})),d.addMethod(d.string,"isSuperior",(function(e,t){return this.test("isSuperior",e,(function(e){return!e||(!!Number.isNaN((0,u.default)(e))||(0,u.default)(e)>=(0,u.default)(t))}))}));const p=function(e,t){let{components:a}=t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isCreatingEntry:!0,isDraft:!0,isFromComponent:!1};const l=(i=e,(0,r.default)(i,["attributes"],{}));var i;return d.object().shape(Object.keys(l).reduce(((e,t)=>{const r=l[t];if("relation"!==r.type&&"component"!==r.type&&"dynamiczone"!==r.type){const a=m(r.type,r,n);e[t]=a}if("relation"===r.type&&(e[t]=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"].includes(r.relationType)?d.object().nullable():d.array().nullable()),"component"===r.type){const l=p(a[r.component],{components:a},{...n,isFromComponent:!0});if(!0===r.repeatable){const{min:a,max:i,required:u}=r;let c=d.lazy((e=>{let t=d.array().of(l);return a?t=u?t.min(a,s.translatedErrors.min):!0!==u&&(0,o.default)(e)?t.nullable():t.min(a,s.translatedErrors.min):u&&!n.isDraft&&(t=t.min(1,s.translatedErrors.required)),i&&(t=t.max(i,s.translatedErrors.max)),t}));return e[t]=c,e}const i=d.lazy((e=>void 0!==e?!0!==r.required||n.isDraft?l.nullable():l.defined():!0===r.required?d.object().defined():d.object().nullable()));return e[t]=i,e}if("dynamiczone"===r.type){let l=d.array().of(d.lazy((e=>{let{__component:t}=e;return p(a[t],{components:a},{...n,isFromComponent:!0})})));const{max:o,min:i}=r;i?l=r.required?l.test("min",s.translatedErrors.min,(e=>n.isCreatingEntry?e&&e.length>=i:void 0===e||null!==e&&e.length>=i)).test("required",s.translatedErrors.required,(e=>n.isCreatingEntry?null!==e||void 0!==e:void 0===e||null!==e)):l.notEmptyMin(i):r.required&&!n.isDraft&&(l=l.test("required",s.translatedErrors.required,(e=>n.isCreatingEntry?null!==e||void 0!==e:void 0===e||null!==e))),o&&(l=l.max(o,s.translatedErrors.max)),e[t]=l}return e}),{}))},m=(e,t,a)=>{let n=d.mixed();return["string","uid","text","richtext","email","password","enumeration"].includes(e)&&(n=d.string()),"json"===e&&(n=d.mixed(s.translatedErrors.json).test("isJSON",s.translatedErrors.json,(e=>{if(void 0===e)return!0;try{return JSON.parse(e),!0}catch(t){return!1}})).nullable()),"email"===e&&(n=n.email(s.translatedErrors.email)),["number","integer","float","decimal"].includes(e)&&(n=d.number().transform((e=>(0,i.default)(e)?void 0:e)).typeError()),"biginteger"===e&&(n=d.string().matches(/^-?\d*$/)),["date","datetime"].includes(e)&&(n=d.date()),Object.keys(t).forEach((r=>{const i=t[r];if(i||!(0,l.default)(i)&&Number.isInteger(Math.floor(i))||0===i)switch(r){case"required":a.isDraft||("password"===e&&a.isCreatingEntry&&(n=n.required(s.translatedErrors.required)),"password"!==e&&(n=a.isCreatingEntry?n.required(s.translatedErrors.required):n.test("required",s.translatedErrors.required,(t=>void 0===t&&!a.isFromComponent||((0,c.default)(e)?0===t||!!t:"boolean"===e?null!==t:"date"===e||"datetime"===e?"string"===typeof t?!(0,o.default)(t):!(0,o.default)(null===t||void 0===t?void 0:t.toString()):!(0,o.default)(t))))));break;case"max":n="biginteger"===e?n.isInferior(s.translatedErrors.max,i):n.max(i,s.translatedErrors.max);break;case"maxLength":n=n.max(i,s.translatedErrors.maxLength);break;case"min":n="biginteger"===e?n.isSuperior(s.translatedErrors.min,i):n.min(i,s.translatedErrors.min);break;case"minLength":a.isDraft||(n=n.min(i,s.translatedErrors.minLength));break;case"regex":n=n.matches(new RegExp(i),{message:s.translatedErrors.regex,excludeEmptyString:!t.required});break;case"lowercase":["text","textarea","email","string"].includes(e)&&(n=n.strict().lowercase());break;case"uppercase":["text","textarea","email","string"].includes(e)&&(n=n.strict().uppercase());break;case"positive":(0,c.default)(e)&&(n=n.positive());break;case"negative":(0,c.default)(e)&&(n=n.negative());break;default:n=n.nullable()}})),n};var g=p;t.default=g},69817:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(78384)),u=a(94117),d=a(40264),s=a(33483);const c=(0,i.default)(u.Box).withConfig({displayName:"Label__LabelAction",componentId:"sc-fda47w-0"})(["svg path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),f=e=>{let{intlLabel:t,id:a,labelAction:n,name:l,numberOfEntries:i,showNumberOfEntries:f,required:p}=e;const{formatMessage:m}=(0,o.useIntl)(),g=null!==t&&void 0!==t&&t.id?m(t):l;return r.default.createElement(u.Box,{paddingBottom:1},r.default.createElement(d.Flex,null,r.default.createElement(s.Typography,{textColor:"neutral800",htmlFor:a||l,variant:"pi",fontWeight:"bold",as:"label"},g,f&&r.default.createElement(r.default.Fragment,null,"\xa0(",i,")"),p&&r.default.createElement(s.Typography,{textColor:"danger600"},"*")),n&&r.default.createElement(c,{paddingLeft:1},n)))};f.defaultProps={id:void 0,labelAction:void 0,numberOfEntries:0,required:!1,showNumberOfEntries:!1},f.propTypes={id:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}).isRequired,labelAction:l.default.element,name:l.default.string.isRequired,numberOfEntries:l.default.number,required:l.default.bool,showNumberOfEntries:l.default.bool};var p=f;t.default=p},49925:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(84238)),i=n(a(69590)),u=a(97132),d=a(68547),s=n(a(62982)),c=a(94117),f=a(49549),p=a(40264),m=a(9524),g=a(28564),y=n(a(4185)),b=n(a(13269)),h=n(a(14832)),v=n(a(51271)),E=n(a(52574)),M=n(a(69817));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const O=e=>{let{addNonRepeatableComponentToField:t,componentUid:a,intlLabel:n,isCreatingEntry:l,isFromDynamicZone:i,isRepeatable:v,isNested:E,labelAction:C,max:O,min:_,name:R,hasChildrenAllowedFields:w,hasChildrenReadableFields:k,isReadOnly:T,componentValue:P,removeComponentFromField:x,required:j}=e;const{formatMessage:D}=(0,u.useIntl)(),I=(0,o.default)(P),S=null!==P||i,q=!v&&S&&!i&&w;if(!w&&l)return r.default.createElement(d.NotAllowedInput,{labelAction:C,intlLabel:n,name:R});if(!w&&!l&&!k)return r.default.createElement(d.NotAllowedInput,{labelAction:C,intlLabel:n,name:R});return r.default.createElement(c.Box,null,r.default.createElement(p.Flex,{justifyContent:"space-between"},n&&r.default.createElement(M.default,{intlLabel:n,labelAction:C,name:R,numberOfEntries:I,showNumberOfEntries:v,required:j}),q&&r.default.createElement(f.IconButton,{label:D({id:(0,g.getTrad)("components.reset-entry"),defaultMessage:"Reset Entry"}),icon:r.default.createElement(s.default,null),noBorder:!0,onClick:()=>{x(R,a)}})),r.default.createElement(m.Stack,{spacing:1},!v&&!S&&r.default.createElement(y.default,{isReadOnly:T,onClick:()=>{t(R,a)}}),!v&&S&&r.default.createElement(b.default,{componentUid:a,isFromDynamicZone:i,isNested:E,name:R}),v&&r.default.createElement(h.default,{componentValue:P,componentValueLength:I,componentUid:a,isNested:E,isReadOnly:T,max:O,min:_,name:R})))};O.defaultProps={componentValue:null,hasChildrenAllowedFields:!1,hasChildrenReadableFields:!1,intlLabel:void 0,isFromDynamicZone:!1,isReadOnly:!1,isRepeatable:!1,isNested:!1,labelAction:void 0,max:1/0,min:-1/0,required:!1},O.propTypes={addNonRepeatableComponentToField:l.default.func.isRequired,componentUid:l.default.string.isRequired,componentValue:l.default.oneOfType([l.default.object,l.default.array]),hasChildrenAllowedFields:l.default.bool,hasChildrenReadableFields:l.default.bool,isCreatingEntry:l.default.bool.isRequired,isFromDynamicZone:l.default.bool,isReadOnly:l.default.bool,isRepeatable:l.default.bool,isNested:l.default.bool,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),labelAction:l.default.element,max:l.default.number,min:l.default.number,name:l.default.string.isRequired,removeComponentFromField:l.default.func.isRequired,required:l.default.bool};const _=(0,r.memo)(O,i.default);var R=(0,v.default)(_,E.default);t.default=R},51271:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},52574:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(96486),l=a(68547),o=a(28564),i=a(14772);var u=function(e){let{isFromDynamicZone:t,name:a}=e;const{addNonRepeatableComponentToField:u,createActionAllowedFields:d,isCreatingEntry:s,modifiedData:c,removeComponentFromField:f,readActionAllowedFields:p,updateActionAllowedFields:m,formErrors:g}=(0,l.useCMEditViewDataManager)(),{contentType:y}=(0,i.useContentTypeLayout)(),b=(0,n.useMemo)((()=>{const e=(0,r.get)(y,["attributes"],{});return Object.keys(e).filter((t=>"dynamiczone"===(0,r.get)(e,[t,"type"],"")))}),[y]),h=(0,n.useMemo)((()=>s?d:m),[s,d,m]),v=(0,r.get)(c,a,null),E=(0,n.useMemo)((()=>(0,o.getFieldName)(a)),[a]),M=(0,n.useMemo)((()=>{if(t&&s)return!0;const e=h.filter((e=>e===E[0]));if(e.length>0)return!0;return h.map((e=>e.split("."))).filter((e=>{if(e.length<E.length)return!1;return(0,r.take)(e,E.length).join(".")===E.join(".")})).length>0}),[t,s,h,E]),C=(0,n.useMemo)((()=>{if(t)return!0;if(b.includes(E[0]))return!0;return(s?[]:p).map((e=>e.split("."))).filter((e=>{if(e.length<E.length)return!1;return(0,r.take)(e,E.length).join(".")===E.join(".")})).length>0}),[t,b,E,s,p]),O=(0,n.useMemo)((()=>!s&&(!M&&C)),[M,C,s]);return{addNonRepeatableComponentToField:u,formErrors:g,hasChildrenAllowedFields:M,hasChildrenReadableFields:C,isCreatingEntry:s,isReadOnly:O,removeComponentFromField:f,componentValue:v}};t.default=u},74373:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(80342)),i=n(a(59196)),u=n(a(99798)),d=n(a(94525)),s=n(a(27856)),c=n(a(72758)),f=n(a(50602)),p=n(a(24199)),m=n(a(38642)),g=n(a(87994)),y=n(a(87449)),b=n(a(51408));const h={biginteger:r.default.createElement(m.default,null),boolean:r.default.createElement(i.default,null),date:r.default.createElement(o.default,null),datetime:r.default.createElement(o.default,null),decimal:r.default.createElement(m.default,null),email:r.default.createElement(u.default,null),enum:r.default.createElement(d.default,null),enumeration:r.default.createElement(d.default,null),file:r.default.createElement(s.default,null),files:r.default.createElement(s.default,null),float:r.default.createElement(m.default,null),integer:r.default.createElement(m.default,null),media:r.default.createElement(s.default,null),number:r.default.createElement(m.default,null),relation:r.default.createElement(c.default,null),string:r.default.createElement(f.default,null),text:r.default.createElement(f.default,null),richtext:r.default.createElement(f.default,null),time:r.default.createElement(o.default,null),timestamp:r.default.createElement(o.default,null),json:r.default.createElement(g.default,null),uid:r.default.createElement(p.default,null),component:r.default.createElement(y.default,null),dynamiczone:r.default.createElement(b.default,null)},v=e=>{let{type:t}=e;return h[t]||null};v.propTypes={type:l.default.string.isRequired};var E=v;t.default=E},32266:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Hint=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(33483);const u=e=>{let{id:t,error:a,name:n,description:l}=e;const{formatMessage:u}=(0,o.useIntl)(),d=l?u({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):"";return!d||a?null:r.default.createElement(i.Typography,{as:"p",variant:"pi",id:`${t||n}-hint`,textColor:"neutral600"},d)};t.Hint=u,u.defaultProps={id:void 0,description:void 0,error:void 0},u.propTypes={description:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),error:l.default.string,id:l.default.string,name:l.default.string.isRequired};var d=u;t.default=d},85117:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(94117),i=a(73460);const u=e=>{let{area:t,...a}=e;const n=(0,i.useInjectionZone)(t);return n?r.default.createElement("ul",null,n.map((e=>e.Component(a)?r.default.createElement(o.Box,{key:e.name,padding:3,style:{textAlign:"center"}},r.default.createElement(e.Component,a)):null))):null};u.propTypes={area:l.default.string.isRequired};var d=u;t.default=d},99614:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(16572);const u=e=>{let{name:t,hint:a,error:n,children:l}=e;const{formatMessage:u}=(0,o.useIntl)(),d=n?u({id:n,defaultMessage:n}):"";return r.default.createElement(i.Field,{name:t,hint:a&&u(a),error:d,id:t},l)};u.defaultProps={hint:void 0,error:""},u.propTypes={name:l.default.string.isRequired,hint:l.default.shape({id:l.default.string,defaultMessage:l.default.string}),error:l.default.string,children:l.default.node.isRequired};var d=u;t.default=d},36464:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(97132),u=a(16572),d=a(94117),s=a(40264);const c=(0,o.default)(d.Box).withConfig({displayName:"Label__LabelAction",componentId:"sc-103sbml-0"})(["svg path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),f=e=>{let{intlLabel:t,labelAction:a,name:n,required:l}=e;const{formatMessage:o}=(0,i.useIntl)(),d=null!==t&&void 0!==t&&t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):n;return r.default.createElement(s.Flex,null,r.default.createElement(u.FieldLabel,{required:l},d),a&&r.default.createElement(c,{paddingLeft:1},a))};f.defaultProps={id:void 0,intlLabel:void 0,labelAction:void 0,required:!1},f.propTypes={id:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),labelAction:l.default.element,name:l.default.string.isRequired,required:l.default.bool};var p=f;t.default=p},39480:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledBox=t.EditorWrapper=void 0;var r=n(a(78384)),l=a(94117);const o=r.default.div.withConfig({displayName:"components__EditorWrapper",componentId:"sc-1ydjvfp-0"})(["cursor:",";.colored{background-color:yellow;color:black !important;}> div{border-radius:3px;> div:last-of-type{min-height:253px;max-height:506px;}}.CodeMirror{font-size:","rem;direction:ltr;z-index:0;}"],(e=>{let{disabled:t}=e;return t?"not-allowed !important":"auto"}),.875);t.EditorWrapper=o;const i=(0,r.default)(l.Box).withConfig({displayName:"components__StyledBox",componentId:"sc-1ydjvfp-1"})(["border-radius:",";border:1px solid ",";"],(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t,error:a}=e;return a?t.colors.danger600:"transparent"}));t.StyledBox=i},80989:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),l=n(a(53547)),o=n(a(45697)),i=n(a(4631)),u=n(a(95659)),d=a(9524),s=a(16572),c=n(a(21237)),f=a(39480),p=n(a(36464)),m=n(a(99614));(async()=>{await a.e(3860).then(a.t.bind(a,17319,23)),await a.e(2781).then(a.t.bind(a,3256,23)),await a.e(953).then(a.t.bind(a,96477,23)),await a.e(5178).then(a.t.bind(a,82801,23)),await a.e(5509).then(a.t.bind(a,64020,23)),await a.e(3973).then(a.bind(a,91380)),await a.e(2218).then(a.bind(a,69039))})();class g extends l.default.Component{constructor(e){super(e),(0,r.default)(this,"timer",null),(0,r.default)(this,"setInitValue",(()=>{const{value:e}=this.props;try{return null===e?this.codeMirror.setValue(""):this.codeMirror.setValue(e)}catch(t){return this.setState({error:!0})}})),(0,r.default)(this,"setSize",(()=>this.codeMirror.setSize("100%","auto"))),(0,r.default)(this,"getContentAtLine",(e=>this.codeMirror.getLine(e))),(0,r.default)(this,"getEditorOption",(e=>this.codeMirror.getOption(e))),(0,r.default)(this,"getValue",(()=>this.codeMirror.getValue())),(0,r.default)(this,"markSelection",(e=>{let{message:t}=e,a=parseInt(t.split(":")[0].split("line ")[1],10)-1,n=this.getContentAtLine(a);"{"===n&&(a+=1,n=this.getContentAtLine(a));const r=n.length,l=r-(0,u.default)(n," ").length,o=this.codeMirror.markText({line:a,ch:l},{line:a,ch:r},{className:"colored"});this.setState({markedText:o})})),(0,r.default)(this,"handleChange",((e,t)=>{if("setValue"===t.origin)return;const{name:a,onChange:n}=this.props;let r=e.getValue();""===r&&(r=null),n({target:{name:a,value:r,type:"json"}}),this.state.markedText&&(this.state.markedText.clear(),this.setState({markedText:null,error:null})),clearTimeout(this.timer),this.timer=setTimeout((()=>this.testJSON(e.getValue())),600)})),(0,r.default)(this,"testJSON",(e=>{try{c.default.parse(e)}catch(t){this.markSelection(t)}})),this.editor=l.default.createRef(),this.state={error:!1,markedText:null}}componentDidMount(){this.codeMirror=i.default.fromTextArea(this.editor.current,{autoCloseBrackets:!0,lineNumbers:!0,matchBrackets:!0,mode:"application/json",readOnly:this.props.disabled,smartIndent:!0,styleSelectedText:!0,tabSize:2,theme:"blackboard",fontSize:"13px"}),this.codeMirror.on("change",this.handleChange),this.setSize(),this.setInitValue()}componentDidUpdate(e){e.value===this.props.value||this.codeMirror.state.focused||this.setInitValue()}render(){return this.state.error?l.default.createElement("div",null,"error json"):l.default.createElement(m.default,{name:this.props.name,hint:this.props.description,error:this.props.error},l.default.createElement(d.Stack,{spacing:1},l.default.createElement(p.default,{intlLabel:this.props.intlLabel,labelAction:this.props.labelAction,name:this.props.name,required:this.props.required}),l.default.createElement(f.StyledBox,{error:this.props.error},l.default.createElement(f.EditorWrapper,{disabled:this.props.disabled},l.default.createElement("textarea",{ref:this.editor,autoComplete:"off",id:this.props.id||this.props.name,defaultValue:""}))),l.default.createElement(s.FieldHint,null),l.default.createElement(s.FieldError,null)))}}g.defaultProps={description:null,disabled:!1,id:void 0,error:void 0,intlLabel:void 0,labelAction:void 0,onChange:()=>{},value:null,required:!1},g.propTypes={description:o.default.shape({id:o.default.string.isRequired,defaultMessage:o.default.string.isRequired,values:o.default.object}),disabled:o.default.bool,error:o.default.string,id:o.default.string,intlLabel:o.default.shape({id:o.default.string.isRequired,defaultMessage:o.default.string.isRequired,values:o.default.object}),labelAction:o.default.element,name:o.default.string.isRequired,onChange:o.default.func,value:o.default.any,required:o.default.bool};var y=g;t.default=y},21237:function(e,t){"use strict";var a=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,a,n,r,l,o){var i=l.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=l[i-1];case 13:this.$={};break;case 14:case 19:this.$=l[i-1];break;case 15:this.$=[l[i-2],l[i]];break;case 16:this.$={},this.$[l[i][0]]=l[i][1];break;case 17:this.$=l[i-2],l[i-2][l[i][0]]=l[i][1];break;case 18:this.$=[];break;case 20:this.$=[l[i]];break;case 21:this.$=l[i-2],l[i-2].push(l[i])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,a=[0],n=[null],r=[],l=this.table,o="",i=0,u=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var s=this.lexer.yylloc;function c(){var e;return"number"!==typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}r.push(s),"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,m,g,y,b,h,v,E,M,C={};;){if(m=a[a.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null==f&&(f=c()),g=l[m]&&l[m][f]),"undefined"===typeof g||!g.length||!g[0]){if(!d){for(b in E=[],l[m])this.terminals_[b]&&b>2&&E.push("'"+this.terminals_[b]+"'");var O="";O=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(O,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:s,expected:E})}if(3==d){if(1==f)throw new Error(O||"Parsing halted.");u=this.lexer.yyleng,o=this.lexer.yytext,i=this.lexer.yylineno,s=this.lexer.yylloc,f=c()}for(;!(2..toString()in l[m]);){if(0==m)throw new Error(O||"Parsing halted.");M=1,a.length=a.length-2*M,n.length=n.length-M,r.length=r.length-M,m=a[a.length-1]}p=f,f=2,g=l[m=a[a.length-1]]&&l[m][2],d=3}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(g[0]){case 1:a.push(f),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),a.push(g[1]),f=null,p?(f=p,p=null):(u=this.lexer.yyleng,o=this.lexer.yytext,i=this.lexer.yylineno,s=this.lexer.yylloc,d>0&&d--);break;case 2:if(h=this.productions_[g[1]][1],C.$=n[n.length-h],C._$={first_line:r[r.length-(h||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(h||1)].first_column,last_column:r[r.length-1].last_column},"undefined"!==typeof(y=this.performAction.call(C,o,u,i,this.yy,g[1],n,r)))return y;h&&(a=a.slice(0,-1*h*2),n=n.slice(0,-1*h),r=r.slice(0,-1*h)),a.push(this.productions_[g[1]][0]),n.push(C.$),r.push(C._$),v=l[a[a.length-2]][a[a.length-1]],a.push(v);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,a,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),o=0;o<l.length&&(!(a=this._input.match(this.rules[l[o]]))||t&&!(a[0].length>t[0].length)||(t=a,n=o,this.options.flex));o++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,l[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!==typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,a,n){switch(a){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return e.lexer=t,e}();t.parser=a,t.parse=function(){return a.parse.apply(a,arguments)},t.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE")}},65690:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextValidation=t.LoadingWrapper=t.FieldActionWrapper=t.EndActionWrapper=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(78384)),r=a(94117),l=a(40264),o=a(16572);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}const u=(0,n.default)(r.Box).withConfig({displayName:"endActionStyle__EndActionWrapper",componentId:"sc-1nwzcuq-0"})(["position:relative;"]);t.EndActionWrapper=u;const d=(0,n.default)(o.FieldAction).withConfig({displayName:"endActionStyle__FieldActionWrapper",componentId:"sc-1nwzcuq-1"})(["svg{height:1rem;width:1rem;path{fill:",";}}svg:hover{path{fill:",";}}"],(e=>{let{theme:t}=e;return t.colors.neutral400}),(e=>{let{theme:t}=e;return t.colors.primary600}));t.FieldActionWrapper=d;const s=(0,n.default)(l.Flex).withConfig({displayName:"endActionStyle__TextValidation",componentId:"sc-1nwzcuq-2"})(["position:absolute;right:",";width:100px;pointer-events:none;svg{margin-right:",";height:","rem;width:","rem;path{fill:",";}}"],(e=>{let{theme:t}=e;return t.spaces[6]}),(e=>{let{theme:t}=e;return t.spaces[1]}),.75,.75,(e=>{let{theme:t,notAvailable:a}=e;return a?t.colors.danger600:t.colors.success600}));t.TextValidation=s;const c=(0,n.keyframes)(["from{transform:rotate(0deg);}to{transform:rotate(359deg);}"]),f=(0,n.default)(l.Flex).withConfig({displayName:"endActionStyle__LoadingWrapper",componentId:"sc-1nwzcuq-3"})(["animation:"," 2s infinite linear;"],c);t.LoadingWrapper=f},95414:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(68547),i=a(97132),u=n(a(27361)),d=a(99136),s=a(33483),c=n(a(79274)),f=n(a(37694)),p=n(a(49993)),m=n(a(79386)),g=a(53777),y=a(28564),b=n(a(9730)),h=n(a(74665)),v=a(65690);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const M=e=>{let{attribute:t,contentTypeUID:a,description:n,disabled:l,error:E,intlLabel:M,labelAction:C,name:O,onChange:_,value:R,placeholder:w,required:k}=e;const{modifiedData:T,initialData:P,layout:x}=(0,o.useCMEditViewDataManager)(),[j,D]=(0,r.useState)(!1),[I,S]=(0,r.useState)(null),q=(0,b.default)(R,300),F=(0,r.useRef)(),L=P[O],{formatMessage:A}=(0,i.useIntl)(),B=!P[(0,u.default)(x,["options","timestamps",0])],N=(0,b.default)(T[t.targetField],300),[W,$]=(0,r.useState)(!1),[U,z]=(0,r.useState)(null),V=M.id?A({id:M.id,defaultMessage:M.defaultMessage},{...M.values}):O,H=n?A({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):"",G=w?A({id:w.id,defaultMessage:w.defaultMessage},{...w.values}):"";F.current=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];D(!0);const t=(0,y.getRequestUrl)("uid/generate");try{const{data:{data:n}}=await g.axiosInstance.post(t,{contentTypeUID:a,field:O,data:T});_({target:{name:O,value:n,type:"text"}},e),D(!1)}catch(n){D(!1)}};(0,r.useEffect)((()=>{!R&&t.required&&F.current(!0)}),[]),(0,r.useEffect)((()=>{q&&q.trim().match(h.default)&&q!==L&&(async()=>{D(!0);const e=(0,y.getRequestUrl)("uid/check-availability");if(R)try{const{data:t}=await g.axiosInstance.post(e,{contentTypeUID:a,field:O,value:R?R.trim():""});S(t),D(!1)}catch(t){D(!1)}})(),q||S(null)}),[q,L]),(0,r.useEffect)((()=>{let e;return I&&I.isAvailable&&(e=setTimeout((()=>{S(null)}),4e3)),()=>{e&&clearTimeout(e)}}),[I]),(0,r.useEffect)((()=>{!W&&B&&N&&T[t.targetField]&&!R&&F.current(!0)}),[N,W,B]);return r.default.createElement(d.TextInput,{disabled:l,error:E,endAction:r.default.createElement(v.EndActionWrapper,null,I&&I.isAvailable&&!U&&r.default.createElement(v.TextValidation,{alignItems:"center",justifyContent:"flex-end"},r.default.createElement(f.default,null),r.default.createElement(s.Typography,{textColor:"success600",variant:"pi"},A({id:"content-manager.components.uid.available",defaultMessage:"Available"}))),I&&!I.isAvailable&&!U&&r.default.createElement(v.TextValidation,{notAvailable:!0,alignItems:"center",justifyContent:"flex-end"},r.default.createElement(p.default,null),r.default.createElement(s.Typography,{textColor:"danger600",variant:"pi"},A({id:"content-manager.components.uid.unavailable",defaultMessage:"Unavailable"}))),U&&r.default.createElement(v.TextValidation,{alignItems:"center",justifyContent:"flex-end"},r.default.createElement(s.Typography,{textColor:"primary600",variant:"pi"},U)),r.default.createElement(v.FieldActionWrapper,{onClick:()=>F.current(),label:"regenerate",onMouseEnter:()=>{z(A({id:"content-manager.components.uid.regenerate",defaultMessage:"Regenerate"}))},onMouseLeave:()=>{z(null)}},j?r.default.createElement(v.LoadingWrapper,null,r.default.createElement(m.default,null)):r.default.createElement(c.default,null))),hint:H,label:V,labelAction:C,name:O,onChange:e=>{e.target.value&&B&&$(!0),_(e)},placeholder:G,value:R||"",required:k})};M.propTypes={attribute:l.default.shape({targetField:l.default.string,required:l.default.bool}).isRequired,contentTypeUID:l.default.string.isRequired,description:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),disabled:l.default.bool,error:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}).isRequired,labelAction:l.default.element,name:l.default.string.isRequired,onChange:l.default.func.isRequired,value:l.default.string,placeholder:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),required:l.default.bool},M.defaultProps={description:void 0,disabled:!1,error:void 0,labelAction:void 0,placeholder:void 0,value:"",required:!1};var C=M;t.default=C},74665:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=new RegExp(/^[A-Za-z0-9-_.~]*$/);t.default=a},9730:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547);var r=(e,t)=>{const[a,r]=(0,n.useState)(e);return(0,n.useEffect)((()=>{const a=setTimeout((()=>{r(e)}),t);return()=>{clearTimeout(a)}}),[e,t]),a};t.default=r},15141:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=n(a(45697)),i=a(97132),u=n(a(27361)),d=n(a(57557)),s=n(a(69572)),c=n(a(69590)),f=a(68547),p=a(14772),m=a(28564),g=n(a(50424)),y=n(a(80989)),b=n(a(95414)),h=n(a(54865)),v=a(80434);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function M(e){let{allowedFields:t,fieldSchema:a,formErrors:n,isCreatingEntry:o,keys:c,labelAction:E,metadatas:M,onChange:C,readableFields:O,shouldNotRunValidations:_,queryInfos:R,value:w}=e;const{fields:k}=(0,f.useLibrary)(),{formatMessage:T}=(0,i.useIntl)(),{contentType:P}=(0,p.useContentTypeLayout)(),x=(0,l.useMemo)((()=>!(0,u.default)(M,"editable",!0)),[M]),j=a.type,D=(0,u.default)(n,[c],null),I=(0,l.useMemo)((()=>(0,m.getFieldName)(c)),[c]),S=(0,l.useMemo)((()=>{const e=(0,d.default)(a,_?[...v.VALIDATIONS_TO_OMIT,"required","minLength"]:v.VALIDATIONS_TO_OMIT),t=a.regex||null;if(t){const a=new RegExp(t);a&&(e.regex=a)}return e}),[a,_]),q=(0,l.useMemo)((()=>(0,u.default)(S,["required"],!1)),[S]),F=(0,l.useMemo)((()=>{const e=(0,u.default)(P,["attributes"],{});return"dynamiczone"===(0,u.default)(e,[I[0],"type"],null)}),[P,I]),L=(0,l.useMemo)((()=>(0,v.getInputType)(j)),[j]),A=(0,l.useMemo)((()=>"media"!==j||w?w:[]),[j,w]),B=(0,l.useMemo)((()=>(0,v.getStep)(j)),[j]),N=(0,l.useMemo)((()=>{const e=I.join(".");if(t.includes(e))return!0;if(F)return t.includes(I[0]);if(I.length>1){const e=(0,s.default)(I,I.length-1).join(".");return t.includes(e)}return!1}),[t,I,F]),W=(0,l.useMemo)((()=>{const e=I.join(".");if(O.includes(e))return!0;if(F)return O.includes(I[0]);if(I.length>1){const e=(0,s.default)(I,I.length-1).join(".");return O.includes(e)}return!1}),[O,I,F]),$=(0,l.useMemo)((()=>W||N),[N,W]),U=(0,l.useMemo)((()=>{if(!o){return!!(W&&!N)||x}return x}),[x,o,N,W]),z=(0,l.useMemo)((()=>(0,v.generateOptions)(a.enum||[],q)),[a,q]),{label:V,description:H,placeholder:G,visible:Z}=M;return!1===Z?null:$?"relation"===j?l.default.createElement(h.default,(0,r.default)({},M,a,{description:M.description?T({id:M.description,defaultMessage:M.description}):void 0,intlLabel:{id:M.label,defaultMessage:M.label},labelAction:E,isUserAllowedToEditField:N,isUserAllowedToReadField:W,name:c,placeholder:M.placeholder?{id:M.placeholder,defaultMessage:M.placeholder}:null,queryInfos:R,value:w,error:D&&T(D)})):l.default.createElement(f.GenericInput,{attribute:a,autoComplete:"new-password",intlLabel:{id:V,defaultMessage:V},isNullable:"bool"===L&&[null,void 0].includes(a.default),description:H?{id:H,defaultMessage:H}:null,disabled:U,error:D,labelAction:E,contentTypeUID:P.uid,customInputs:{json:y.default,uid:b.default,media:k.media,wysiwyg:g.default,...k},multiple:a.multiple||!1,name:c,onChange:C,options:z,placeholder:G?{id:G,defaultMessage:G}:null,required:a.required||!1,step:B,type:L,value:A,withDefaultValue:!1}):l.default.createElement(f.NotAllowedInput,{description:H?{id:H,defaultMessage:H}:null,intlLabel:{id:V,defaultMessage:V},labelAction:E,error:D&&T(D),name:c,required:q})}M.defaultProps={formErrors:{},labelAction:void 0,queryInfos:{},value:null},M.propTypes={allowedFields:o.default.array.isRequired,fieldSchema:o.default.object.isRequired,formErrors:o.default.object,keys:o.default.string.isRequired,isCreatingEntry:o.default.bool.isRequired,labelAction:o.default.element,metadatas:o.default.object.isRequired,onChange:o.default.func.isRequired,readableFields:o.default.array.isRequired,shouldNotRunValidations:o.default.bool.isRequired,queryInfos:o.default.shape({containsKey:o.default.string,defaultParams:o.default.object,endPoint:o.default.string}),value:o.default.any};const C=(0,l.memo)(M,c.default);var O=(0,v.connect)(C,v.select);t.default=O},3160:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=["type","model","via","collection","default","plugin","enum","regex","pluginOptions"];t.default=a},57781:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a.keys);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},28080:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},disabled:t,hidden:t},key:"__enum_option_null",value:""},...e.map((e=>({metadatas:{intlLabel:{id:e,defaultMessage:e},hidden:!1,disabled:!1},key:e,value:e})))]};t.default=a},48986:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((0,n.toLower)(e)){case"boolean":return"bool";case"biginteger":case"string":return"text";case"decimal":case"float":case"integer":return"number";case"date":case"datetime":case"time":return e;case"email":return"email";case"enumeration":return"select";case"password":return"password";case"text":return"textarea";case"media":case"file":case"files":return"media";case"json":return"json";case"wysiwyg":case"WYSIWYG":case"richtext":return"wysiwyg";case"uid":return"uid";default:return e||"text"}};t.default=r},12994:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>{let t;return t="float"===e||"decimal"===e?.01:1,t};t.default=a},80434:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"VALIDATIONS_TO_OMIT",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"generateOptions",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"getInputType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getStep",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return u.default}});var r=n(a(57781)),l=n(a(28080)),o=n(a(48986)),i=n(a(12994)),u=n(a(57319)),d=n(a(3160))},57319:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(96486),l=a(68547);var o=function(e){const{createActionAllowedFields:t,formErrors:a,isCreatingEntry:o,modifiedData:i,onChange:u,readActionAllowedFields:d,shouldNotRunValidations:s,updateActionAllowedFields:c}=(0,l.useCMEditViewDataManager)(),f=(0,n.useMemo)((()=>o?t:c),[o,t,c]),p=(0,n.useMemo)((()=>o?[]:d),[o,d]),m=(0,r.get)(i,e,null);return{allowedFields:f,formErrors:a,isCreatingEntry:o,onChange:u,readableFields:p,shouldNotRunValidations:s,value:m}};t.default=o},95758:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(22869));function i(e){let{attributes:t,buttonData:a,children:n,goTo:l,layout:i,metadatas:u,moveItem:d,moveRow:s,onAddData:c,relationsLayout:f,removeField:p,selectedItemName:m,setEditFieldToSelect:g,...y}=e;return r.default.createElement(o.default.Provider,{value:{attributes:t,buttonData:a,goTo:l,layout:i,metadatas:u,moveItem:d,moveRow:s,onAddData:c,relationsLayout:f,removeField:p,selectedItemName:m,setEditFieldToSelect:g,...y}},n)}i.defaultProps={attributes:{},buttonData:[],goTo:()=>{},layout:[],metadatas:{},moveItem:()=>{},moveRow:()=>{},onAddData:()=>{},relationsLayout:[],removeField:()=>{},selectedItemName:null,setEditFieldToSelect:()=>{}},i.propTypes={attributes:l.default.object,buttonData:l.default.array,children:l.default.node.isRequired,goTo:l.default.func,layout:l.default.array,metadatas:l.default.object,moveItem:l.default.func,moveRow:l.default.func,onAddData:l.default.func,relationsLayout:l.default.array,removeField:l.default.func,selectedItemName:l.default.string,setEditFieldToSelect:l.default.func};var u=i;t.default=u},13269:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(94117),i=a(39272),u=a(9524),d=a(14772),s=n(a(49925)),c=n(a(15141));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=e=>{let{componentUid:t,isFromDynamicZone:a,isNested:n,name:l}=e;const{getComponentLayout:f}=(0,d.useContentTypeLayout)(),p=(0,r.useMemo)((()=>f(t)),[t,f]).layouts.edit;return r.default.createElement(o.Box,{background:a?"":"neutral100",paddingLeft:6,paddingRight:6,paddingTop:6,paddingBottom:6,hasRadius:n,borderColor:n?"neutral200":""},r.default.createElement(u.Stack,{spacing:6},p.map(((e,t)=>r.default.createElement(i.Grid,{gap:4,key:t},e.map((e=>{let{name:t,size:a,metadatas:n,fieldSchema:o,queryInfos:u}=e;const d="component"===o.type,f=`${l}.${t}`;if(d){const e=o.component;return r.default.createElement(i.GridItem,{col:a,s:12,xs:12,key:t},r.default.createElement(s.default,{componentUid:e,intlLabel:{id:n.label,defaultMessage:n.label},isNested:!0,isRepeatable:o.repeatable,max:o.max,min:o.min,name:f,required:o.required||!1}))}return r.default.createElement(i.GridItem,{col:a,key:t,s:12,xs:12},r.default.createElement(c.default,{keys:f,fieldSchema:o,metadatas:n,queryInfos:u}))})))))))};p.defaultProps={isFromDynamicZone:!1,isNested:!1},p.propTypes={componentUid:l.default.string.isRequired,isFromDynamicZone:l.default.bool,isNested:l.default.bool,name:l.default.string.isRequired};var m=p;t.default=m},92150:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78384)).default.div.withConfig({displayName:"Wrapper",componentId:"sc-1dz4vrk-0"})(["position:absolute;top:0;width:100%;height:100%;overflow:auto;padding:",";font-size:","rem;background-color:",";z-index:2;cursor:not-allowed;color:",";h1,h2,h3,h4,h5,h6{margin-block-start:10px;margin-block-end:10px;}p{margin-bottom:10px;}h1{font-size:","rem;font-weight:600;}h2{font-size:","rem;font-weight:500;}h3{font-size:","rem;font-weight:500;}h4{font-size:","rem;font-weight:500;}strong{font-weight:800;}em{font-style:italic;}blockquote{margin-top:41px;margin-bottom:34px;font-size:","rem;font-weight:400;border-left:5px solid #eee;font-style:italic;padding:10px 20px;}img{max-width:100%;}table{font-size:13px;thead{background:rgb(243,243,243);tr{height:43px;}}tr{border:1px solid #c6cbd1;}th,td{padding:0 25px;border:1px solid #c6cbd1;border-bottom:0;border-top:0;}tbody{tr{height:54px;}}}pre,code{font-size:13px;border-radius:3px;background-color:#002b36;}p,pre,td{> code{color:#839496;}}.warning{background-color:#faa684;padding:30px;border-radius:3px;}.tip{padding:30px;border-radius:3px;}.footnote-ref,.footnote-backref{color:#007bff;}ol{list-style-type:decimal;margin-block-start:",";margin-block-end:",";margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:",";ol,ul{margin-block-start:0px;margin-block-end:0px;}}ul{list-style-type:disc;margin-block-start:",";margin-block-end:",";margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:",";ul,ol{margin-block-start:0px;margin-block-end:0px;}}"],(e=>{let{theme:t}=e;return`${t.spaces[3]} ${t.spaces[4]}`}),.875,(e=>{let{theme:t}=e;return t.colors.neutral0}),(e=>{let{theme:t}=e;return t.colors.neutral800}),2.25,1.875,1.5,1.25,.875,(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}));t.default=r},76957:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(50183)),i=n(a(66814)),u=n(a(92150));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const s=e=>{let{data:t}=e;const a=(0,r.useMemo)((()=>(0,i.default)(o.default.render(t||""))),[t]);return r.default.createElement(u.default,null,r.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}}))};s.defaultProps={data:""},s.propTypes={data:l.default.string};var c=(0,r.memo)(s);t.default=c},50183:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(9980)),l=a(77869),o=n(a(79411)),i=n(a(40591)),u=n(a(30645)),d=n(a(46635)),s=n(a(52384)),c=n(a(44266)),f=n(a(94574)),p=n(a(40700)),m=n(a(97003));(async()=>{await a.e(7347).then(a.bind(a,24840))})();const g=new r.default({html:!0,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,highlight:(e,t)=>{if(t&&"auto"!==t&&(0,l.getLanguage)(t))return'<pre class="hljs language-'+g.utils.escapeHtml(t.toLowerCase())+'"><code>'+(0,l.highlight)(t,e,!0).value+"</code></pre>";if("auto"===t){const t=(0,l.highlightAuto)(e);return'<pre class="hljs language-'+g.utils.escapeHtml(t.language)+'"><code>'+t.value+"</code></pre>"}return'<pre class="hljs"><code>'+g.utils.escapeHtml(e)+"</code></pre>"}}).use(o.default).use(i.default,"warning").use(i.default,"tip").use(u.default).use(d.default).use(s.default).use(c.default).use(f.default).use(p.default).use(m.default);g.renderer.rules.footnote_ref=(e,t,a,n,r)=>'<sup class="footnote-ref"><span>'+r.rules.footnote_caption(e,t,a,n,r)+"</span></sup>",g.renderer.rules.footnote_anchor=()=>' <span class="footnote-backref">\u21a9\ufe0e</span>';var y=g;t.default=y},66814:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(91036));const l={...r.default.defaults,allowedTags:!1,allowedAttributes:{"*":["href","align","alt","center","width","height","type","controls","target"],img:["src","alt"],source:["src","type"]}};var o=e=>(0,r.default)(e,l);t.default=o},60977:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(78384)),u=a(94117),d=a(33483),s=a(40264),c=a(33247);function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=(0,i.default)(u.Box).withConfig({displayName:"AccordionGroupCustom__AccordionFooter",componentId:"sc-pcvz8-0"})(["overflow:hidden;border-bottom:1px solid ",";border-right:1px solid ",";border-left:1px solid ",";border-radius:0 0 "," ",";"],(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.borderRadius})),m=(0,i.default)(u.Box).withConfig({displayName:"AccordionGroupCustom__EnhancedGroup",componentId:"sc-pcvz8-1"})(["> div{& > *{border-radius:unset;border-right:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}> div{> div:first-of-type{border-radius:unset;}}}> div:first-of-type{> div{border-radius:"," "," 0 0;> div:first-of-type{border-radius:"," "," 0 0;}}> div:not([data-strapi-expanded='true']){border-top:1px solid ",";&:hover{border-top:1px solid ",";}}> span{border-radius:"," "," 0 0;border-top:1px solid ",";}}& [data-strapi-expanded='true']{border:1px solid ",";}",""],(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.primary600}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.primary600}),(e=>{let{theme:t,footer:a}=e;return`\n    &:not(${a}) {\n      & > *:last-of-type {\n        border-radius: 0 0 ${t.borderRadius} ${t.borderRadius};\n      }\n    }\n  `})),g=(0,i.default)(u.Box).withConfig({displayName:"AccordionGroupCustom__LabelAction",componentId:"sc-pcvz8-2"})(["svg path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),y=e=>{let{children:t,footer:a,label:n,labelAction:l,error:i}=e;const{formatMessage:f}=(0,o.useIntl)(),y=r.Children.toArray(t).map((e=>(0,r.cloneElement)(e,{hasErrorMessage:!1})));return r.default.createElement(c.KeyboardNavigable,{attributeName:"data-strapi-accordion-toggle"},n&&r.default.createElement(s.Flex,{paddingBottom:1},r.default.createElement(d.Typography,{as:"label",textColor:"neutral800",variant:"pi",fontWeight:"bold"},n),l&&r.default.createElement(g,{paddingLeft:1},l)),r.default.createElement(m,{footer:a},y),a&&r.default.createElement(p,null,a),i&&r.default.createElement(u.Box,{paddingTop:1},r.default.createElement(d.Typography,{variant:"pi",textColor:"danger600"},f({id:i.id,defaultMessage:i.id},{...i.values}))))};y.defaultProps={error:void 0,footer:null,label:null,labelAction:void 0},y.propTypes={children:l.default.node.isRequired,error:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),footer:l.default.node,label:l.default.string,labelAction:l.default.node};var b=y;t.default=b},65506:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(68547),u=a(94117),d=a(40264),s=a(33483),c=a(49549),f=n(a(62982)),p=n(a(58506)),m=n(a(40413));const g=(0,o.default)(u.Box).withConfig({displayName:"DragPreview__DragPreviewBox",componentId:"sc-63x7ge-0"})(["border:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.neutral200})),y=(0,o.default)(u.Box).withConfig({displayName:"DragPreview__DropdownIconWrapper",componentId:"sc-63x7ge-1"})(["height:","rem;width:","rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{height:","rem;width:","rem;> path{fill:",";}}"],2,2,6/16,11/16,(e=>{let{theme:t}=e;return t.colors.neutral600})),b=o.default.button.withConfig({displayName:"DragPreview__ToggleButton",componentId:"sc-63x7ge-2"})(["border:none;background:transparent;display:block;width:100%;text-align:unset;padding:0;"]),h=e=>{let{displayedValue:t}=e;return r.default.createElement(g,{paddingLeft:3,paddingRight:3,paddingTop:3,paddingBottom:3,hasRadius:!0,background:"neutral0",width:(0,i.pxToRem)(300)},r.default.createElement(d.Flex,{justifyContent:"space-between"},r.default.createElement(b,{type:"button"},r.default.createElement(d.Flex,null,r.default.createElement(y,{background:"neutral200"},r.default.createElement(m.default,null)),r.default.createElement(u.Box,{paddingLeft:6,maxWidth:(0,i.pxToRem)(150)},r.default.createElement(s.Typography,{textColor:"neutral700",ellipsis:!0},t)))),r.default.createElement(u.Box,{paddingLeft:3},r.default.createElement(d.Flex,null,r.default.createElement(c.IconButton,{icon:r.default.createElement(f.default,null)}),r.default.createElement(u.Box,{paddingLeft:2},r.default.createElement(c.IconButton,{icon:r.default.createElement(p.default,null)}))))))};h.propTypes={displayedValue:l.default.string.isRequired};var v=h;t.default=v},17407:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(78384)),o=n(a(45697)),i=a(9524),u=a(40264),d=a(82212),s=a(33699),c=a(33483),f=n(a(62982)),p=n(a(58506)),m=n(a(40413)),g=a(57061);const y=l.default.span.withConfig({displayName:"DraggingSibling__SiblingWrapper",componentId:"sc-xitlmo-0"})(["display:flex;justify-content:space-between;padding-left:",";padding-right:",";background-color:",";height:","rem;"],(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.spaces[4]}),(e=>{let{theme:t}=e;return t.colors.neutral0}),3.125),b=(0,l.default)(d.TextButton).withConfig({displayName:"DraggingSibling__ToggleButton",componentId:"sc-xitlmo-1"})(["text-align:left;svg{width:","rem;height:","rem;path{fill:",";}}"],.875,.875,(e=>{let{theme:t,expanded:a}=e;return a?t.colors.primary600:t.colors.neutral500})),h=e=>{let{displayedValue:t}=e;return r.default.createElement(y,null,r.default.createElement(i.Stack,{horizontal:!0,spacing:3,flex:1},r.default.createElement(u.Flex,{justifyContent:"center",borderRadius:"50%",height:"1.5rem}",width:"1.5rem}","aria-hidden":!0,as:"span",background:"neutral200"},r.default.createElement(s.Icon,{as:m.default,width:"0.5rem}",color:"neutral600"})),r.default.createElement(b,{onClick:()=>{},flex:1},r.default.createElement(c.Typography,{fontWeight:"bold",textColor:"neutral700"},t))),r.default.createElement(i.Stack,{horizontal:!0,spacing:0},r.default.createElement(g.CustomIconButtonSibling,{noBorder:!0,onClick:()=>{},icon:r.default.createElement(f.default,null)}),r.default.createElement(g.CustomIconButtonSibling,{icon:r.default.createElement(p.default,null),noBorder:!0})))};h.propTypes={displayedValue:o.default.string.isRequired};var v=h;t.default=v},57061:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomIconButtonSibling=t.CustomIconButton=void 0;var r=n(a(78384)),l=a(49549);const o=(0,r.default)(l.IconButton).withConfig({displayName:"IconButtonCustoms__CustomIconButton",componentId:"sc-dz6xvz-0"})(["background-color:transparent;svg{path{fill:",";}}&:hover{svg{path{fill:",";}}}"],(e=>{let{theme:t,expanded:a}=e;return a?t.colors.primary600:t.colors.neutral600}),(e=>{let{theme:t}=e;return t.colors.primary600}));t.CustomIconButton=o;const i=(0,r.default)(l.IconButton).withConfig({displayName:"IconButtonCustoms__CustomIconButtonSibling",componentId:"sc-dz6xvz-1"})(["background-color:transparent;svg{path{fill:",";}}"],(e=>{let{theme:t,expanded:a}=e;return a?t.colors.primary600:t.colors.neutral600}));t.CustomIconButtonSibling=i},19566:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547));const l=n(a(78384)).default.span.withConfig({displayName:"Preview__StyledSpan",componentId:"sc-rdi4ej-0"})(["display:block;background-color:",";outline:1px dashed ",";outline-offset:-1px;padding:",";"],(e=>{let{theme:t}=e;return t.colors.primary100}),(e=>{let{theme:t}=e;return t.colors.primary500}),(e=>{let{theme:t}=e;return t.spaces[6]}));var o=()=>r.default.createElement(l,{padding:6,background:"primary100"});t.default=o},9525:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DraggedItem=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(99168),i=a(61080),u=n(a(78384)),d=a(97132),s=n(a(79833)),c=a(47949),f=a(39272),p=a(9524),m=a(94117),g=a(55639),y=n(a(62982)),b=n(a(58506)),h=n(a(26135)),v=n(a(36169)),E=n(a(15141)),M=n(a(49925)),C=n(a(19566)),O=n(a(17407)),_=a(57061),R=a(38122);function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const k=u.default.span.withConfig({displayName:"DraggedItem__DragButton",componentId:"sc-1nd44df-0"})(["display:flex;align-items:center;height:",";padding:0 ",";cursor:all-scroll;svg{width:","rem;height:","rem;}"],(e=>{let{theme:t}=e;return t.spaces[7]}),(e=>{let{theme:t}=e;return t.spaces[3]}),.75,.75),T=e=>{let{componentFieldName:t,hasErrorMessage:a,hasErrors:n,isDraggingSibling:l,isOpen:u,isReadOnly:R,onClickToggle:w,schema:T,toggleCollapses:P,moveComponentField:x,removeRepeatableField:j,setIsDraggingSibling:D,triggerFormValidation:I,displayedValue:S}=e;const q=(0,r.useRef)(null),F=(0,r.useRef)(null),[,L]=(0,r.useState)(!1),{formatMessage:A}=(0,d.useIntl)(),B=T.layouts.edit,[,N]=(0,o.useDrop)({accept:h.default.COMPONENT,canDrop:()=>!1,hover(e,a){if(!F.current)return;const n=e.originalPath,r=t,l=n.split("."),o=l.slice().splice(-1).join(""),i=r.split(".").splice(-1).join(""),u=l.slice(0,l.length-1),d=parseInt(o,10),s=parseInt(i,10);if(d===s)return;const c=F.current.getBoundingClientRect(),f=(c.bottom-c.top)/2,p=a.getClientOffset().y-c.top;d<s&&p<f||d>s&&p>f||n.split(".").length===r.split(".").length&&(x(u,d,s),e.originalPath=r)}}),[{isDragging:W},$,U]=(0,o.useDrag)({type:h.default.COMPONENT,item:()=>(P(-1),{displayedValue:S,originalPath:t}),end:()=>{I(),D(!1)},collect:e=>({isDragging:e.isDragging()})});(0,r.useEffect)((()=>{U((0,i.getEmptyImage)(),{captureDraggingState:!1})}),[U]),(0,r.useEffect)((()=>{W&&D(!0)}),[W,D]),(0,r.useEffect)((()=>{l||L((e=>!e))}),[l]);const z={dragRef:$(q),dropRef:N(F)},V=(0,s.default)(S),H=n?"error":void 0;return r.default.createElement(m.Box,{ref:z?z.dropRef:null},W&&r.default.createElement(C.default,null),!W&&l&&r.default.createElement(O.default,{displayedValue:V,componentFieldName:t}),!W&&!l&&r.default.createElement(c.Accordion,{error:H,hasErrorMessage:a,expanded:u,onToggle:w,id:t,size:"S"},r.default.createElement(c.AccordionToggle,{action:R?null:r.default.createElement(p.Stack,{horizontal:!0,spacing:0},r.default.createElement(_.CustomIconButton,{expanded:u,noBorder:!0,onClick:()=>{j(t),P()},label:A({id:(0,v.default)("containers.Edit.delete"),defaultMessage:"Delete"}),icon:r.default.createElement(y.default,null)}),r.default.createElement(g.Tooltip,{description:A({id:(0,v.default)("components.DragHandle-label"),defaultMessage:"Drag"})},r.default.createElement(k,{role:"button",tabIndex:-1,ref:z.dragRef,onClick:e=>e.stopPropagation()},r.default.createElement(b.default,null)))),title:V,togglePosition:"left"}),r.default.createElement(c.AccordionContent,null,r.default.createElement(p.Stack,{background:"neutral100",padding:6,spacing:6},B.map(((e,a)=>r.default.createElement(f.Grid,{gap:4,key:a},e.map((e=>{let{name:a,fieldSchema:n,metadatas:l,queryInfos:o,size:i}=e;const u="component"===n.type,d=`${t}.${a}`;if(u){const e=n.component;return r.default.createElement(f.GridItem,{col:i,s:12,xs:12,key:a},r.default.createElement(M.default,{componentUid:e,intlLabel:{id:l.label,defaultMessage:l.label},isRepeatable:n.repeatable,isNested:!0,name:d,max:n.max,min:n.min,required:n.required}))}return r.default.createElement(f.GridItem,{key:d,col:i,s:12,xs:12},r.default.createElement(E.default,{fieldSchema:n,keys:d,metadatas:l,queryInfos:o}))})))))))))};t.DraggedItem=T,T.defaultProps={isDraggingSibling:!1,isOpen:!1,setIsDraggingSibling:()=>{},toggleCollapses:()=>{}},T.propTypes={componentFieldName:l.default.string.isRequired,hasErrorMessage:l.default.bool.isRequired,hasErrors:l.default.bool.isRequired,isDraggingSibling:l.default.bool,isOpen:l.default.bool,isReadOnly:l.default.bool.isRequired,onClickToggle:l.default.func.isRequired,schema:l.default.object.isRequired,toggleCollapses:l.default.func,moveComponentField:l.default.func.isRequired,removeRepeatableField:l.default.func.isRequired,setIsDraggingSibling:l.default.func,triggerFormValidation:l.default.func.isRequired,displayedValue:l.default.string.isRequired};const P=(0,r.memo)(T);var x=(0,R.connect)(P,R.select);t.default=x},49972:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},38122:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return l.default}});var r=n(a(49972)),l=n(a(60257))},60257:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(96486),l=a(68547);var o=function(e){let{schema:t,componentFieldName:a}=e;const{checkFormErrors:o,modifiedData:i,moveComponentField:u,removeRepeatableField:d,triggerFormValidation:s}=(0,l.useCMEditViewDataManager)(),c=(0,n.useMemo)((()=>(0,r.get)(t,["settings","mainField"],"id")),[t]);return{displayedValue:(0,r.toString)((0,r.get)(i,[...a.split("."),c],"")),mainField:c,checkFormErrors:o,moveComponentField:u,removeRepeatableField:d,schema:t,triggerFormValidation:s}};t.default=o},14832:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RepeatableComponent=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(99168),o=a(97132),i=n(a(78384)),u=n(a(45697)),d=n(a(27361)),s=n(a(69572)),c=a(68547),f=a(94117),p=a(40264),m=a(82212),g=n(a(89326)),y=a(28564),b=a(14772),h=n(a(26135)),v=n(a(4185)),E=n(a(44743)),M=n(a(49247)),C=n(a(9525)),O=n(a(60977));function _(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const R=(0,i.default)(m.TextButton).withConfig({displayName:"RepeatableComponent__TextButtonCustom",componentId:"sc-1h62y5j-0"})(["height:100%;width:100%;border-radius:0 0 4px 4px;display:flex;justify-content:center;span{font-weight:600;font-size:14px;}"]),w=e=>{let{addRepeatableComponentToField:t,formErrors:a,componentUid:n,componentValue:i,componentValueLength:u,isNested:m,isReadOnly:E,max:M,min:_,name:w}=e;const k=(0,c.useNotification)(),{formatMessage:T}=(0,o.useIntl)(),[P,x]=(0,r.useState)(""),[j,D]=(0,r.useState)(!1),[,I]=(0,l.useDrop)({accept:h.default.COMPONENT}),{getComponentLayout:S}=(0,b.useContentTypeLayout)(),q=(0,r.useMemo)((()=>S(n)),[n,S]),F=(0,r.useMemo)((()=>(0,y.getMaxTempKey)(i||[])+1),[i]),L=Object.keys(a).filter((e=>(0,s.default)(e.split("."),m?3:1).join(".")===w)).map((e=>e.split(".").slice(0,w.split(".").length+1).join("."))),A=()=>{x("")},B=_-u,N=(0,d.default)(a,w,{id:""}).id.includes("min"),W=(0,r.useCallback)((()=>{if(!E)if(u<M){t(w,n,N),x(F)}else u>=M&&k({type:"info",message:{id:(0,y.getTrad)("components.notification.info.maximum-requirement")}})}),[t,n,u,N,E,M,w,F,k]);let $=a[w];if(N&&($={id:(0,y.getTrad)("components.DynamicZone.missing-components"),defaultMessage:"There {number, plural, =0 {are # missing components} one {is # missing component} other {are # missing components}}",values:{number:B}}),0===u)return r.default.createElement(v.default,{error:$,isReadOnly:E,onClick:W});return L.some((e=>e.split(".").length>1))&&!N&&($={id:(0,y.getTrad)("components.RepeatableComponent.error-message"),defaultMessage:"The component(s) contain error(s)"}),r.default.createElement(f.Box,{hasRadius:!0,ref:I},r.default.createElement(O.default,{error:$,footer:r.default.createElement(p.Flex,{justifyContent:"center",height:"48px",background:"neutral0"},r.default.createElement(R,{disabled:E,onClick:W,startIcon:r.default.createElement(g.default,null)},T({id:(0,y.getTrad)("containers.EditView.add.new-entry"),defaultMessage:"Add an entry"})))},i.map(((e,t)=>{const a=e.__temp_key__,l=P===a,o=`${w}.${t}`,i=L.includes(o);return r.default.createElement(C.default,{componentFieldName:o,componentUid:n,hasErrors:i,hasMinError:N,isDraggingSibling:j,isOpen:l,isReadOnly:E,key:a,onClickToggle:()=>{x(l?"":a)},parentName:w,schema:q,setIsDraggingSibling:D,toggleCollapses:A})}))))};t.RepeatableComponent=w,w.defaultProps={componentValue:null,componentValueLength:0,formErrors:{},isNested:!1,max:1/0,min:0},w.propTypes={addRepeatableComponentToField:u.default.func.isRequired,componentUid:u.default.string.isRequired,componentValue:u.default.oneOfType([u.default.array,u.default.object]),componentValueLength:u.default.number,formErrors:u.default.object,isNested:u.default.bool,isReadOnly:u.default.bool.isRequired,max:u.default.number,min:u.default.number,name:u.default.string.isRequired};const k=(0,r.memo)(w);var T=(0,E.default)(k,M.default);t.default=T},44743:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},49247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(68547);var r=function(){const{addRepeatableComponentToField:e,formErrors:t}=(0,n.useCMEditViewDataManager)();return{addRepeatableComponentToField:e,formErrors:t}};t.default=r},42874:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(68547),u=a(97132),d=a(39711),s=n(a(18721)),c=n(a(41609)),f=a(94117),p=a(40264),m=a(33483),g=a(56156),y=a(28564);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const h=o.default.div.withConfig({displayName:"ListItem__StyledBullet",componentId:"sc-jenzd4-0"})(["width:",";height:",";background:",";border-radius:50%;cursor:pointer;"],(0,i.pxToRem)(6),(0,i.pxToRem)(6),(e=>{let{theme:t,isDraft:a}=e;return t.colors[a?"secondary600":"success600"]}));function v(e){let{data:t,displayNavigationLink:a,isDisabled:n,mainField:l,onRemove:o,searchToPersist:b,targetModel:v}=e;const{formatMessage:E}=(0,u.useIntl)(),M=`/content-manager/collectionType/${v}/${t.id}`;let C="pointer";n&&(C="not-allowed"),a||(C="default");const O=(0,s.default)(t,"publishedAt"),_=(0,c.default)(t.publishedAt),R=t[l.name],w={id:(0,y.getTrad)("components.Select.draft-info-title"),defaultMessage:"State: Draft"},k={id:(0,y.getTrad)("components.Select.publish-info-title"),defaultMessage:"State: Published"},T=E(_?w:k),{pathname:P}=(0,d.useLocation)();return r.default.createElement(p.Flex,{as:"li",alignItems:"center"},r.default.createElement(p.Flex,{style:{flex:1},alignItems:"center"},O&&r.default.createElement(f.Box,{paddingRight:2},r.default.createElement(h,{isDraft:_,title:T})),a?r.default.createElement(g.Link,{to:{pathname:M,state:{from:P},search:b},style:{textTransform:"none"}},R||t.id):r.default.createElement(m.Typography,{variant:"pi"},R||t.id)),r.default.createElement(i.RemoveRoundedButton,{onClick:o,label:"Remove",style:{cursor:C}}))}v.defaultProps={onRemove:()=>{},searchToPersist:null,targetModel:""},v.propTypes={data:l.default.object.isRequired,displayNavigationLink:l.default.bool.isRequired,isDisabled:l.default.bool.isRequired,mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired}).isRequired,onRemove:l.default.func,searchToPersist:l.default.string,targetModel:l.default.string};var E=(0,r.memo)(v);t.default=E},63293:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(41609)),u=m(a(23947)),d=a(94117),s=a(9524),c=a(33483),f=n(a(42874));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function g(e){let{addRelation:t,components:a,displayNavigationLink:n,mainField:l,name:p,isDisabled:m,isLoading:g,onInputChange:y,onMenuClose:b,onMenuOpen:h,onMenuScrollToBottom:v,onRemove:E,options:M,placeholder:C,searchToPersist:O,styles:_,targetModel:R,value:w,description:k}=e;const{formatMessage:T}=(0,o.useIntl)(),P={ignoreCase:!0,ignoreAccents:!0,trim:!1,matchFrom:"any"};return r.default.createElement(s.Stack,{spacing:1},r.default.createElement(u.default,{components:a,isDisabled:m,id:p,filterOption:(e,t)=>{if(!(0,i.default)(w)){if(-1!==w.findIndex((t=>t.id===e.value.id)))return!1}return!t||(0,u.createFilter)(P)(e,t)},mainField:l,isLoading:g,isMulti:!0,isSearchable:!0,options:M,onChange:t,onInputChange:y,onMenuClose:b,onMenuOpen:h,onMenuScrollToBottom:v,placeholder:T(C||{id:"global.select",defaultMessage:"Select..."}),styles:_,value:[]}),r.default.createElement(d.Box,{paddingTop:3,style:{overflow:"auto"}},r.default.createElement(s.Stack,{as:"ul",spacing:4,style:{maxHeight:"128px",overflowX:"hidden"}},null===w||void 0===w?void 0:w.map(((e,t)=>r.default.createElement(f.default,{key:e.id,data:e,displayNavigationLink:n,isDisabled:m,mainField:l,onRemove:()=>{m||E(`${p}.${t}`)},searchToPersist:O,targetModel:R}))))),k&&r.default.createElement(c.Typography,{variant:"pi",textColor:"neutral600"},k))}g.defaultProps={description:"",components:{},placeholder:null,searchToPersist:null,value:null},g.propTypes={addRelation:l.default.func.isRequired,components:l.default.object,displayNavigationLink:l.default.bool.isRequired,isDisabled:l.default.bool.isRequired,isLoading:l.default.bool.isRequired,mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired}).isRequired,name:l.default.string.isRequired,onInputChange:l.default.func.isRequired,onMenuClose:l.default.func.isRequired,onMenuOpen:l.default.func.isRequired,onMenuScrollToBottom:l.default.func.isRequired,onRemove:l.default.func.isRequired,options:l.default.array.isRequired,placeholder:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired}),searchToPersist:l.default.string,styles:l.default.object.isRequired,targetModel:l.default.string.isRequired,value:l.default.array,description:l.default.string};var y=(0,r.memo)(g);t.default=y},28293:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(23947),o=n(a(45697)),i=n(a(78384)),u=a(97132),d=a(68547),s=a(40264),c=a(33483),f=n(a(27361)),p=n(a(18721)),m=n(a(41609)),g=a(28564);const y=i.default.div.withConfig({displayName:"SingleValue__StyledBullet",componentId:"sc-etc1ei-0"})(["width:",";height:",";margin-right:",";background:",";border-radius:50%;cursor:pointer;"],(0,d.pxToRem)(6),(0,d.pxToRem)(6),(e=>{let{theme:t}=e;return t.spaces[2]}),(e=>{let{theme:t,isDraft:a}=e;return t.colors[a?"secondary700":"success200"]})),b=e=>{const{formatMessage:t}=(0,u.useIntl)(),a=l.components.SingleValue,n=(0,p.default)((0,f.default)(e,"data.value"),"publishedAt"),o=(0,m.default)((0,f.default)(e,"data.value.publishedAt"));if(n){const n={id:(0,g.getTrad)("components.Select.draft-info-title"),defaultMessage:"State: Draft"},l={id:(0,g.getTrad)("components.Select.publish-info-title"),defaultMessage:"State: Published"},i=t(o?n:l);return r.default.createElement(a,e,r.default.createElement(s.Flex,null,r.default.createElement(y,{title:i,isDraft:o}),r.default.createElement(c.Typography,{ellipsis:!0},e.data.label||"-")))}return r.default.createElement(a,e,e.data.label||"-")};b.propTypes={data:o.default.object.isRequired,selectProps:o.default.shape({mainField:o.default.shape({name:o.default.string.isRequired,schema:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired}).isRequired};var h=b;t.default=h},77570:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=a(9524),u=a(33483),d=n(a(27361)),s=n(a(45220)),c=n(a(23947)),f=n(a(28293));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){let{components:t,mainField:a,name:n,isDisabled:l,isLoading:p,onChange:m,onInputChange:g,onMenuClose:y,onMenuOpen:b,onMenuScrollToBottom:h,options:v,placeholder:E,styles:M,value:C,description:O}=e;const{formatMessage:_}=(0,o.useIntl)();return r.default.createElement(i.Stack,{spacing:1},r.default.createElement(c.default,{components:{...t,SingleValue:f.default},id:n,isClearable:!0,isDisabled:l,isLoading:p,mainField:a,options:v,onChange:m,onInputChange:g,onMenuClose:y,onMenuOpen:b,onMenuScrollToBottom:h,placeholder:_(E||{id:"global.select",defaultMessage:"Select..."}),styles:M,value:(0,s.default)(C)?null:{label:(0,d.default)(C,[a.name],""),value:C}}),O&&r.default.createElement(u.Typography,{variant:"pi",textColor:"neutral600"},O))}m.defaultProps={description:"",components:{},placeholder:null,value:null},m.propTypes={components:l.default.object,isDisabled:l.default.bool.isRequired,isLoading:l.default.bool.isRequired,mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired}).isRequired,name:l.default.string.isRequired,onChange:l.default.func.isRequired,onInputChange:l.default.func.isRequired,onMenuClose:l.default.func.isRequired,onMenuOpen:l.default.func.isRequired,onMenuScrollToBottom:l.default.func.isRequired,options:l.default.array.isRequired,placeholder:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired}),styles:l.default.object.isRequired,value:l.default.object,description:l.default.string};var g=(0,r.memo)(m);t.default=g},35645:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(23947),o=n(a(7228)),i=n(a(5323));var u=e=>{const t=l.components.ClearIndicator;return r.default.createElement(t,e,r.default.createElement(i.default,{as:"button",type:"button"},r.default.createElement(o.default,null)))};t.default=u},62773:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CarretBox=void 0;var r=n(a(53547)),l=n(a(78384)),o=n(a(40413)),i=n(a(5323));const u=(0,l.default)(i.default).withConfig({displayName:"DropdownIndicator__CarretBox",componentId:"sc-1i2lvx4-0"})(["display:flex;background:none;border:none;svg{width:","rem;}"],6/16);t.CarretBox=u;var d=()=>r.default.createElement(u,{as:"button",type:"button",paddingRight:3},r.default.createElement(o.default,null));t.default=d},5323:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IconBox=void 0;var r=n(a(78384)),l=a(94117);const o=(0,r.default)(l.Box).withConfig({displayName:"IconBox",componentId:"sc-13mo22w-0"})(["background:transparent;border:none;position:relative;z-index:1;svg{height:","rem;width:","rem;}svg path{fill:",";}"],11/16,11/16,(e=>{let{theme:t}=e;return t.colors.neutral600}));t.IconBox=o;var i=o;t.default=i},5998:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=()=>null;t.default=a},89964:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(78384)),u=a(94117),d=a(40264),s=a(33483);const c=(0,i.default)(u.Box).withConfig({displayName:"Label__LabelAction",componentId:"sc-dwnjom-0"})(["svg path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),f=e=>{let{intlLabel:t,id:a,labelAction:n,link:l,name:i,numberOfEntries:u,isSingle:f}=e;const{formatMessage:p}=(0,o.useIntl)(),m=null!==t&&void 0!==t&&t.id?p(t):i;return r.default.createElement(d.Flex,{justifyContent:"space-between"},r.default.createElement(d.Flex,null,r.default.createElement(s.Typography,{textColor:"neutral800",htmlFor:a||i,variant:"pi",fontWeight:"bold",as:"label"},m,!f&&r.default.createElement(r.default.Fragment,null,"\xa0(",u,")")),n&&r.default.createElement(c,{paddingLeft:1},n)),l)};f.defaultProps={id:void 0,labelAction:void 0,link:null,numberOfEntries:0},f.propTypes={id:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}).isRequired,isSingle:l.default.bool.isRequired,labelAction:l.default.element,link:l.default.element,name:l.default.string.isRequired,numberOfEntries:l.default.number};var p=f;t.default=p},51121:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(78384)),o=a(23947),i=a(97132),u=n(a(45697)),d=a(96486),s=a(40264),c=a(33483),f=a(68547),p=a(28564);const m=l.default.div.withConfig({displayName:"Option__StyledBullet",componentId:"sc-qolgge-0"})(["width:",";height:",";margin-right:",";background:",";border-radius:50%;cursor:pointer;"],(0,f.pxToRem)(6),(0,f.pxToRem)(6),(e=>{let{theme:t}=e;return t.spaces[2]}),(e=>{let{theme:t,isDraft:a}=e;return t.colors[a?"secondary600":"success600"]})),g=e=>{const{formatMessage:t}=(0,i.useIntl)(),a=o.components.Option,n=(0,d.has)((0,d.get)(e,"data.value"),"publishedAt"),l=(0,d.isEmpty)((0,d.get)(e,"data.value.publishedAt"));if(n&&n){const n={id:(0,p.getTrad)("components.Select.draft-info-title"),defaultMessage:"State: Draft"},o={id:(0,p.getTrad)("components.Select.publish-info-title"),defaultMessage:"State: Published"},i=t(l?n:o);return r.default.createElement(a,e,r.default.createElement(s.Flex,null,r.default.createElement(m,{title:i,isDraft:l}),r.default.createElement(c.Typography,{ellipsis:!0},e.label||"-")))}return r.default.createElement(a,e,e.label||"-")};g.defaultProps={label:""},g.propTypes={label:u.default.oneOfType([u.default.string,u.default.number]),isFocused:u.default.bool.isRequired,selectProps:u.default.shape({hasDraftAndPublish:u.default.bool,mainField:u.default.shape({name:u.default.string.isRequired,schema:u.default.shape({type:u.default.string.isRequired}).isRequired}).isRequired}).isRequired};var y=g;t.default=y},54865:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=a(39711),u=a(56156),d=a(9524),s=a(78384),c=n(a(30998)),f=n(a(27361)),p=n(a(1469)),m=n(a(41609)),g=n(a(36968)),y=a(68547),b=a(80129),h=n(a(9669)),v=a(53777),E=a(28564),M=n(a(89964)),C=n(a(77570)),O=n(a(63293)),_=n(a(35645)),R=n(a(62773)),w=n(a(5998)),k=n(a(51121)),T=a(58888),P=n(a(11647));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const j={contains:"",limit:20,start:0};function D(e){let{description:t,editable:a,labelAction:n,intlLabel:l,isCreatingEntry:T,isFieldAllowed:x,isFieldReadable:D,mainField:I,name:S,relationType:q,targetModel:F,placeholder:L,queryInfos:A}=e;const{formatMessage:B}=(0,o.useIntl)(),[{query:N}]=(0,y.useQueryParams)(),W=(0,r.useMemo)((()=>q.toLowerCase().includes("morph")),[q]),{addRelation:$,modifiedData:U,moveRelation:z,onChange:V,onRemoveRelation:H}=(0,y.useCMEditViewDataManager)(),{pathname:G}=(0,i.useLocation)(),Z=(0,s.useTheme)(),Q=(0,f.default)(U,S,null),[Y,K]=(0,r.useState)(j),[J,X]=(0,r.useState)([]),[ee,te]=(0,r.useState)(!1),[ae,ne]=(0,r.useState)(!1),re=(0,r.useMemo)((()=>J.filter((e=>!!(0,m.default)(Q)||(Array.isArray(Q)?-1===(0,c.default)(Q,(t=>t.id===e.value.id)):(0,f.default)(Q,"id","")!==e.value.id)))),[J,Q]),{endPoint:le,containsKey:oe,defaultParams:ie,shouldDisplayRelationLink:ue,paramsToKeep:de}=A,se=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"].includes(q),ce=(0,r.useMemo)((()=>Q?se?[Q.id]:Q.map((e=>e.id)):[]),[se,Q]),fe=(0,r.useCallback)((async e=>{if(W)return void te(!1);if(!x)return void te(!1);te(!0);const t={limit:Y.limit,...ie,start:Y.start};Y.contains&&(t[`filters[${oe}][$contains]`]=Y.contains);try{const{data:a}=await v.axiosInstance.post(le,{idsToOmit:ce},{params:t,cancelToken:e.token}),n=a.map((e=>({value:e,label:e[I.name]})));X((e=>e.concat(n).filter(((t,a)=>-1===e.findIndex((e=>e.value.id===t.value.id))||e.findIndex((e=>e.value.id===t.value.id))===a)))),te(!1)}catch(a){te(!1)}}),[oe,ie,le,ce,x,W,I.name,Y.contains,Y.limit,Y.start]);(0,r.useEffect)((()=>{const e=h.default.CancelToken.source();return ae&&fe(e),()=>e.cancel("Operation canceled by the user.")}),[fe,ae]);const pe=`/content-manager/collectionType/${F}/${Q?Q.id:null}`,me=(0,b.stringify)(((e,t)=>t?t.reduce(((t,a)=>{const n=(0,f.default)(e,a,null);return n&&(0,g.default)(t,a,n),t}),{}):{})(N,de),{encode:!1});let ge=null;se&&Q&&ue&&(ge=r.default.createElement(u.Link,{to:{pathname:pe,state:{from:G},search:me}},B({id:(0,E.getTrad)("containers.Edit.seeDetails"),defaultMessage:"Details"})));const ye=se?C.default:O.default,be=(0,p.default)(Q)?Q.length:0,he=(0,r.useMemo)((()=>!!W||(T?!a:!x&&D||!a)),[W,T,a,x,D]);if(!x&&T)return r.default.createElement(y.NotAllowedInput,{intlLabel:l,labelAction:n});if(!T&&!x&&!D)return r.default.createElement(y.NotAllowedInput,{intlLabel:l,labelAction:n});const ve=(0,P.default)(Z);return r.default.createElement(d.Stack,{spacing:1},r.default.createElement(M.default,{intlLabel:l,isSingle:se,labelAction:n,link:ge,name:S,numberOfEntries:be}),r.default.createElement(ye,{addRelation:e=>{(0,m.default)(e)||$({target:{name:S,value:e}})},components:{ClearIndicator:_.default,DropdownIndicator:R.default,IndicatorSeparator:w.default,Option:k.default},displayNavigationLink:ue,id:S,isDisabled:he,isLoading:ee,isClearable:!0,mainField:I,move:z,name:S,options:re,onChange:e=>{V({target:{name:S,value:e?e.value:e}})},onInputChange:(e,t)=>{let{action:a}=t;return"input-change"===a&&K((t=>t.contains===e?t:{...t,contains:e,start:0})),e},onMenuClose:()=>{K(j),ne(!1)},onMenuOpen:()=>{ne(!0)},onMenuScrollToBottom:()=>{K((e=>({...e,start:e.start+20})))},onRemove:H,placeholder:L,searchToPersist:me,styles:ve,targetModel:F,value:Q,description:t}))}D.defaultProps={editable:!0,description:"",labelAction:null,isFieldAllowed:!0,placeholder:null},D.propTypes={editable:l.default.bool,description:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}).isRequired,labelAction:l.default.element,isCreatingEntry:l.default.bool.isRequired,isFieldAllowed:l.default.bool,isFieldReadable:l.default.bool.isRequired,mainField:l.default.shape({name:l.default.string.isRequired,schema:l.default.shape({type:l.default.string.isRequired}).isRequired}).isRequired,name:l.default.string.isRequired,placeholder:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),relationType:l.default.string.isRequired,targetModel:l.default.string.isRequired,queryInfos:l.default.shape({containsKey:l.default.string.isRequired,defaultParams:l.default.object,endPoint:l.default.string.isRequired,shouldDisplayRelationLink:l.default.bool.isRequired,paramsToKeep:l.default.array}).isRequired};const I=(0,r.memo)(D);var S=(0,T.connect)(I,T.select);t.default=S},32869:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t(a);return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},11647:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>({clearIndicator:t=>({...t,padding:0,paddingRight:e.spaces[3]}),container:t=>({...t,background:e.colors.neutral0,fontFamily:"Arial",lineHeight:"normal"}),control:(t,a)=>{let n,r,l;return n=a.isFocused?`1px solid ${e.colors.primary600} !important`:`1px solid ${e.colors.neutral200} !important`,!0===a.menuIsOpen&&(r=`1px solid ${e.colors.primary600} !important`),a.isDisabled&&(l="#fafafb !important"),{...t,fontSize:14,height:40,border:n,outline:0,boxShadow:0,borderRadius:"2px !important",borderBottom:r,backgroundColor:l,borderTopLeftRadius:"4px !important",borderTopRightRadius:"4px !important",borderBottomLeftRadius:"4px !important",borderBottomRightRadius:"4px !important"}},indicatorContainer:t=>({...t,padding:0,paddingRight:e.spaces[3]}),input:e=>({...e,margin:0,padding:0}),menu:t=>({...t,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:"4px !important",borderTopLeftRadius:"4px !important",borderTopRightRadius:"4px !important",border:`1px solid ${e.colors.neutral200} !important`,boxShadow:0,fontSize:"14px",fontFamily:"Arial",zIndex:2}),menuList:t=>({...t,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),option:(t,a)=>{let n=t.backgroundColor;return a.isFocused&&(n=e.colors.primary100),{...t,lineHeight:e.spaces[5],backgroundColor:n,borderRadius:4}},placeholder:e=>({...e,marginLeft:0}),singleValue:t=>({...t,marginLeft:0,color:e.colors.neutral800}),valueContainer:t=>({...t,padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});t.default=a},58888:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return l.default}});var r=n(a(32869)),l=n(a(19124))},19124:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(68547);var l=function(e){let{isUserAllowedToEditField:t,isUserAllowedToReadField:a,name:l}=e;const{isCreatingEntry:o,createActionAllowedFields:i,readActionAllowedFields:u,updateActionAllowedFields:d}=(0,r.useCMEditViewDataManager)(),s=(0,n.useMemo)((()=>{if(!0===t)return!0;return(o?i:d).includes(l)}),[o,i,l,t,d]),c=(0,n.useMemo)((()=>{if(a)return!0;return(o?[]:u).includes(l)}),[o,a,l,u]);return{isCreatingEntry:o,isFieldAllowed:s,isFieldReadable:c}};t.default=l},13995:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(53547),l=a(39711),o=n(a(27361)),i=a(68547),u=a(37424),d=n(a(45697)),s=n(a(9669)),c=a(53777),f=a(28564),p=a(98744),m=n(a(22787)),g=a(40079),y=n(a(62616));const b=e=>{let{allLayoutData:t,children:a,slug:n}=e;const{trackUsage:d}=(0,i.useTracking)(),{push:b}=(0,l.useHistory)(),{setCurrentStep:h}=(0,i.useGuidedTour)(),v=(0,r.useRef)(d),[E,M]=(0,r.useState)(!0),[{query:C,rawQuery:O}]=(0,i.useQueryParams)(),_=(0,y.default)(C),R=(0,i.useNotification)(),w=(0,u.useDispatch)(),{componentsDataStructure:k,contentTypeDataStructure:T,data:P,isLoading:x,status:j}=(0,u.useSelector)(m.default),D=(0,r.useCallback)((e=>{const a=(0,f.removePasswordFieldsFromData)(e,t.contentType,t.components);return(0,i.formatContentTypeData)(a,t.contentType,t.components)}),[t]);(0,r.useEffect)((()=>()=>{w((0,p.resetProps)())}),[w]),(0,r.useEffect)((()=>{const e=Object.keys(t.components).reduce(((e,a)=>{const n=(0,f.createDefaultForm)((0,o.default)(t,["components",a,"attributes"],{}),t.components);return e[a]=(0,i.formatContentTypeData)(n,t.components[a],t.components),e}),{}),a=(0,f.createDefaultForm)(t.contentType.attributes,t.components),n=(0,i.formatContentTypeData)(a,t.contentType,t.components);w((0,p.setDataStructures)(e,n))}),[t,w]),(0,r.useEffect)((()=>{const e=s.default.CancelToken.source();return(async e=>{w((0,p.getData)()),M(!0);try{const{data:t}=await(0,c.axiosInstance)((0,g.getRequestUrl)(`${n}${_}`),{cancelToken:e.token});w((0,p.getDataSucceeded)(D(t))),M(!1)}catch(t){if(s.default.isCancel(t))return;const e=(0,o.default)(t,"response.status",null);404===e&&w((0,p.initForm)(O,!0)),403===e&&(R({type:"info",message:{id:(0,f.getTrad)("permissions.not-allowed.update")}}),b("/"))}})(e),()=>e.cancel("Operation canceled by the user.")}),[D,b,n,w,_,O,R]);const I=(0,r.useCallback)((e=>{const t=e.response.payload;let a=(0,o.default)(t,["message"],"Bad Request");Array.isArray(a)&&(a=(0,o.default)(a,["0","messages","0","id"])),"string"===typeof a&&R({type:"warning",message:a})}),[R]),S=(0,r.useCallback)((async e=>{try{v.current("willDeleteEntry",e);const{data:t}=await c.axiosInstance.delete((0,g.getRequestUrl)(`${n}${_}`));return R({type:"success",message:{id:(0,f.getTrad)("success.record.delete")}}),v.current("didDeleteEntry",e),Promise.resolve(t)}catch(t){return v.current("didNotDeleteEntry",{error:t,...e}),I(t),Promise.reject(t)}}),[n,I,R,_]),q=(0,r.useCallback)((()=>{M(!0),w((0,p.initForm)(O,!0))}),[w,O]),F=(0,r.useCallback)((async(e,t)=>{const a=(0,g.getRequestUrl)(`${n}${O}`);try{w((0,p.setStatus)("submit-pending"));const{data:n}=await c.axiosInstance.put(a,e);return v.current("didCreateEntry",t),R({type:"success",message:{id:(0,f.getTrad)("success.record.save")}}),h("contentManager.success"),w((0,p.submitSucceeded)(D(n))),M(!1),w((0,p.setStatus)("resolved")),Promise.resolve(n)}catch(r){return v.current("didNotCreateEntry",{error:r,trackerProperty:t}),I(r),w((0,p.setStatus)("resolved")),Promise.reject(r)}}),[D,I,n,w,O,R,h]),L=(0,r.useCallback)((async()=>{try{v.current("willPublishEntry");const e=(0,g.getRequestUrl)(`${n}/actions/publish${_}`);w((0,p.setStatus)("publish-pending"));const{data:t}=await c.axiosInstance.post(e);return v.current("didPublishEntry"),R({type:"success",message:{id:(0,f.getTrad)("success.record.publish")}}),w((0,p.submitSucceeded)(D(t))),w((0,p.setStatus)("resolved")),Promise.resolve(t)}catch(e){return I(e),w((0,p.setStatus)("resolved")),Promise.reject(e)}}),[D,I,n,_,w,R]),A=(0,r.useCallback)((async(e,t)=>{const a=(0,g.getRequestUrl)(`${n}${O}`);try{v.current("willEditEntry",t),w((0,p.setStatus)("submit-pending"));const{data:n}=await c.axiosInstance.put(a,e);return R({type:"success",message:{id:(0,f.getTrad)("success.record.save")}}),v.current("didEditEntry",{trackerProperty:t}),w((0,p.submitSucceeded)(D(n))),w((0,p.setStatus)("resolved")),Promise.resolve(n)}catch(r){return I(r),v.current("didNotEditEntry",{error:r,trackerProperty:t}),w((0,p.setStatus)("resolved")),Promise.reject(r)}}),[D,I,n,w,O,R]),B=(0,r.useCallback)((async()=>{const e=(0,g.getRequestUrl)(`${n}/actions/unpublish${_}`);w((0,p.setStatus)("unpublish-pending"));try{v.current("willUnpublishEntry");const{data:t}=await c.axiosInstance.post(e);v.current("didUnpublishEntry"),R({type:"success",message:{id:(0,f.getTrad)("success.record.unpublish")}}),w((0,p.submitSucceeded)(D(t))),w((0,p.setStatus)("resolved"))}catch(t){w((0,p.setStatus)("resolved")),I(t)}}),[D,R,I,n,w,_]);return a({componentsDataStructure:k,contentTypeDataStructure:T,data:P,isCreatingEntry:E,isLoadingForData:x,onDelete:S,onDeleteSucceeded:q,onPost:F,onPublish:L,onPut:A,onUnpublish:B,redirectionLink:"/",status:j})};b.propTypes={allLayoutData:d.default.shape({components:d.default.object.isRequired,contentType:d.default.object.isRequired}).isRequired,children:d.default.func.isRequired,slug:d.default.string.isRequired};var h=(0,r.memo)(b);t.default=h},14261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(28564);var r=e=>(0,n.getRequestUrl)(`single-types/${e}`);t.default=r},40079:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRequestUrl",{enumerable:!0,get:function(){return r.default}});var r=n(a(14261))},27301:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(33483),u=a(94117),d=a(28564);const s=e=>{let{isPublished:t}=e;const{formatMessage:a}=(0,o.useIntl)(),n=a({id:(0,d.getTrad)("containers.List."+(t?"published":"draft"))}),l=t?"success100":"secondary100",s=t?"success700":"secondary700";return r.default.createElement(u.Box,{background:l,hasRadius:!0,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2,style:{width:"fit-content"}},r.default.createElement(i.Typography,{fontWeight:"bold",textColor:s},n))};s.propTypes={isPublished:l.default.bool.isRequired};var c=s;t.default=c},69030:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(4631));a(88386);var i=n(a(76957)),u=a(71281),d=a(54273),s=n(a(25734));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f=e=>{let{disabled:t,editorRef:a,error:n,isPreviewMode:l,isExpandMode:c,name:f,onChange:p,placeholder:m,textareaRef:g,value:y}=e;const b=(0,r.useRef)(p);return(0,r.useEffect)((()=>{a.current=o.default.fromTextArea(g.current,{lineWrapping:!0,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:!1,"Shift-Tab":!1},readOnly:!1,smartIndent:!1,placeholder:m}),o.default.commands.newlineAndIndentContinueMarkdownList=s.default,a.current.on("change",(e=>{b.current({target:{name:f,value:e.getValue(),type:"wysiwyg"}})}))}),[a,g,f,m]),(0,r.useEffect)((()=>{y&&!a.current.state.focused&&a.current.setValue(y)}),[a,y]),(0,r.useEffect)((()=>{l||t?a.current.setOption("readOnly","nocursor"):a.current.setOption("readOnly",!1)}),[t,l,a]),(0,r.useEffect)((()=>{n?a.current.setOption("screenReaderLabel",n):a.current.setOption("screenReaderLabel","Editor")}),[a,n]),r.default.createElement(d.EditorAndPreviewWrapper,null,r.default.createElement(u.EditorStylesContainer,{isExpandMode:c,disabled:t||l},r.default.createElement("textarea",{ref:g})),l&&r.default.createElement(i.default,{data:y}))};f.defaultProps={disabled:!1,error:void 0,isPreviewMode:!1,isExpandMode:!1,placeholder:"",value:""},f.propTypes={disabled:l.default.bool,editorRef:l.default.shape({current:l.default.any}).isRequired,error:l.default.string,isPreviewMode:l.default.bool,isExpandMode:l.default.bool,name:l.default.string.isRequired,onChange:l.default.func.isRequired,placeholder:l.default.string,textareaRef:l.default.shape({current:l.default.any}).isRequired,value:l.default.string};var p=f;t.default=p},57321:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandButton=t.EditorLayout=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(40264),u=a(94117),d=a(15577),s=a(54451),c=a(33289),f=a(33483),p=a(68547),m=n(a(84623)),g=a(97132),y=n(a(76957));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const h=(0,o.default)(i.Flex).withConfig({displayName:"EditorLayout__ExpandWrapper",componentId:"sc-qmn252-0"})(["background:",";"],(e=>{let{theme:t}=e;return a=t.colors.neutral800,n=.2,`${a}${Math.floor(255*n).toString(16).padStart(2,0)}`;var a,n})),v=(0,o.default)(u.Box).withConfig({displayName:"EditorLayout__BoxWithBorder",componentId:"sc-qmn252-1"})(["border-right:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.neutral200})),E=(0,o.default)(c.BaseButton).withConfig({displayName:"EditorLayout__ExpandButton",componentId:"sc-qmn252-2"})(["background-color:transparent;border:none;align-items:center;svg{margin-left:",";path{fill:",";width:","rem;height:","rem;}}"],(e=>{let{theme:t}=e;return`${t.spaces[2]}`}),(e=>{let{theme:t}=e;return t.colors.neutral700}),.75,.75);t.ExpandButton=E;const M=e=>{let{children:t,isExpandMode:a,error:n,previewContent:l,onCollapse:o}=e;const{formatMessage:c}=(0,g.useIntl)();return(0,r.useEffect)((()=>{const e=document.body;return a&&e.classList.add("lock-body-scroll"),()=>{a&&e.classList.remove("lock-body-scroll")}}),[a]),a?r.default.createElement(s.Portal,{role:"dialog","aria-modal":!1},r.default.createElement(d.FocusTrap,{onEscape:o},r.default.createElement(h,{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:4,justifyContent:"center",onClick:o},r.default.createElement(u.Box,{id:"wysiwyg-expand",background:"neutral0",hasRadius:!0,shadow:"popupShadow",overflow:"hidden",width:"70%",height:"70%",onClick:e=>e.stopPropagation()},r.default.createElement(i.Flex,{height:"100%",alignItems:"flex-start"},r.default.createElement(v,{flex:"1",height:"100%"},t),r.default.createElement(u.Box,{flex:"1",height:"100%"},r.default.createElement(i.Flex,{height:(0,p.pxToRem)(48),background:"neutral100",justifyContent:"flex-end"},r.default.createElement(E,{id:"collapse",onClick:o},r.default.createElement(f.Typography,null,c({id:"components.Wysiwyg.collapse",defaultMessage:"Collapse"})),r.default.createElement(m.default,null))),r.default.createElement(u.Box,{position:"relative",height:"100%"},r.default.createElement(y.default,{data:l})))))))):r.default.createElement(u.Box,{borderColor:n?"danger600":"neutral200",borderStyle:"solid",borderWidth:"1px",hasRadius:!0},t)};t.EditorLayout=M,M.defaultProps={error:void 0,previewContent:""},M.propTypes={children:l.default.node.isRequired,error:l.default.string,isExpandMode:l.default.bool.isRequired,previewContent:l.default.string,onCollapse:l.default.func.isRequired}},71281:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EditorStylesContainer=void 0;const r=n(a(78384)).default.div.withConfig({displayName:"EditorStylesContainer",componentId:"sc-kl3z57-0"})(["cursor:",";height:100%;.CodeMirror-placeholder{color:"," !important;}.CodeMirror{font-size:","rem;height:",";color:",";direction:ltr;font-family:--apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.CodeMirror-lines{padding:",";}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:",";}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap;}.CodeMirror-linenumbers{}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap;}.CodeMirror-guttermarker{color:black;}.CodeMirror-guttermarker-subtle{color:#999;}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0;}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver;}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7;}.cm-fat-cursor div.CodeMirror-cursors{}.cm-fat-cursor-mark{background-color:rgba(20,255,20,0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7;}.CodeMirror-overwrite .CodeMirror-cursor{}.cm-tab{display:inline-block;text-decoration:inherit;}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden;}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute;}.cm-header,.cm-strong{font-weight:bold;}.cm-em{font-style:italic;}.cm-link{text-decoration:underline;}.cm-strikethrough{text-decoration:line-through;}.CodeMirror-composing{border-bottom:2px solid;}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0;}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22;}.CodeMirror-matchingtag{background:rgba(255,150,0,0.3);}.CodeMirror-activeline-background{background:#e8f2ff;}.CodeMirror{position:relative;overflow:hidden;background:",";}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;}.CodeMirror-sizer{position:relative;border-right:50px solid transparent;}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:1;display:none;outline:none;}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll;}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll;}.CodeMirror-scrollbar-filler{right:0;bottom:0;}.CodeMirror-lines{cursor:text;min-height:1px;}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:1.5;color:inherit;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual;}.CodeMirror pre.CodeMirror-line-like{z-index:2;}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal;}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;}.CodeMirror-linewidget{position:relative;padding:0.1px;}.CodeMirror-widget{}.CodeMirror-rtl pre{direction:rtl;}.CodeMirror-code{outline:none;}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box;}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden;}.CodeMirror-cursor{position:absolute;pointer-events:none;border-color:",";}.CodeMirror-measure pre{position:static;}div.CodeMirror-cursors{visibility:hidden;position:relative;+ div{z-index:0 !important;}}div.CodeMirror-dragcursors{visibility:visible;}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible;}.CodeMirror-selected{background:",";}.CodeMirror-crosshair{cursor:crosshair;}.cm-force-border{padding-right:0.1px;}.cm-tab-wrap-hack:after{content:'';}span.CodeMirror-selectedtext{background:none;}span{color:"," !important;}"],(e=>{let{disabled:t}=e;return t?"not-allowed !important":"auto"}),(e=>{let{theme:t}=e;return t.colors.neutral600}),.875,(e=>{let{isExpandMode:t}=e;return t?"100%":"290px"}),(e=>{let{theme:t}=e;return t.colors.neutral800}),(e=>{let{theme:t}=e;return`${t.spaces[3]} ${t.spaces[4]}`}),(e=>{let{theme:t}=e;return`${t.colors.neutral0}`}),(e=>{let{theme:t}=e;return`${t.colors.neutral0}`}),(e=>{let{theme:t}=e;return`${t.colors.neutral800}`}),(e=>{let{theme:t}=e;return t.colors.neutral200}),(e=>{let{theme:t}=e;return t.colors.neutral800}));t.EditorStylesContainer=r},27705:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(94117),u=a(40264),d=a(33483),s=n(a(83017)),c=a(54273);const f=e=>{let{onToggleExpand:t}=e;const{formatMessage:a}=(0,o.useIntl)();return r.default.createElement(i.Box,{padding:2,background:"neutral100",hasRadius:!0},r.default.createElement(u.Flex,{justifyContent:"flex-end",alignItems:"flex-end"},r.default.createElement(c.ExpandButton,{id:"expand",onClick:t},r.default.createElement(d.Typography,null,a({id:"components.WysiwygBottomControls.fullscreen",defaultMessage:"Expand"})),r.default.createElement(s.default,null))))};f.defaultProps={onToggleExpand:()=>{}},f.propTypes={onToggleExpand:l.default.func};var p=f;t.default=p},17403:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(97132),i=a(15577),u=a(94117),d=a(64459),s=a(49549),c=a(2632),f=a(39589),p=a(40264),m=n(a(66788)),g=n(a(37500)),y=n(a(75040)),b=n(a(96134)),h=n(a(63645)),v=n(a(4802)),E=n(a(83194)),M=n(a(97018)),C=n(a(70399)),O=n(a(76016)),_=n(a(73551)),R=a(54273);function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const k=e=>{let{disabled:t,editorRef:a,isExpandMode:n,isPreviewMode:l,onActionClick:w,onToggleMediaLib:k,onTogglePreviewMode:T}=e;const[P,x]=(0,r.useState)(!1),{formatMessage:j}=(0,o.useIntl)(),D=j({id:"components.Wysiwyg.selectOptions.title",defaultMessage:"Add a title"}),I=(0,r.useRef)(),S=()=>{x((e=>!e))};return t||l?r.default.createElement(u.Box,{padding:2,background:"neutral100"},r.default.createElement(p.Flex,{justifyContent:"space-between"},r.default.createElement(p.Flex,null,r.default.createElement(c.Select,{disabled:!0,id:"selectTitle",placeholder:D,size:"S","aria-label":D},r.default.createElement(c.Option,{value:"h1"},"h1"),r.default.createElement(c.Option,{value:"h2"},"h2"),r.default.createElement(c.Option,{value:"h3"},"h3"),r.default.createElement(c.Option,{value:"h4"},"h4"),r.default.createElement(c.Option,{value:"h5"},"h5"),r.default.createElement(c.Option,{value:"h6"},"h6")),r.default.createElement(R.MainButtons,null,r.default.createElement(R.CustomIconButton,{disabled:!0,id:"Bold",label:"Bold",name:"Bold",icon:r.default.createElement(m.default,null)}),r.default.createElement(R.CustomIconButton,{disabled:!0,id:"Italic",label:"Italic",name:"Italic",icon:r.default.createElement(g.default,null)}),r.default.createElement(R.CustomIconButton,{disabled:!0,id:"Underline",label:"Underline",name:"Underline",icon:r.default.createElement(y.default,null)})),r.default.createElement(R.MoreButton,{disabled:!0,id:"more",label:"More",icon:r.default.createElement(_.default,null)})),!n&&r.default.createElement(d.Button,{onClick:T,variant:"tertiary",id:"preview"},j({id:"components.Wysiwyg.ToggleMode.markdown-mode",defaultMessage:"Markdown mode"})))):r.default.createElement(u.Box,{padding:2,background:"neutral100"},r.default.createElement(p.Flex,{justifyContent:"space-between"},r.default.createElement(p.Flex,null,r.default.createElement(c.Select,{id:"selectTitle",placeholder:D,size:"S",onChange:e=>w(e,a)},r.default.createElement(c.Option,{value:"h1"},"h1"),r.default.createElement(c.Option,{value:"h2"},"h2"),r.default.createElement(c.Option,{value:"h3"},"h3"),r.default.createElement(c.Option,{value:"h4"},"h4"),r.default.createElement(c.Option,{value:"h5"},"h5"),r.default.createElement(c.Option,{value:"h6"},"h6")),r.default.createElement(R.MainButtons,null,r.default.createElement(R.CustomIconButton,{onClick:()=>w("Bold",a),id:"Bold",label:"Bold",name:"Bold",icon:r.default.createElement(m.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>w("Italic",a),id:"Italic",label:"Italic",name:"Italic",icon:r.default.createElement(g.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>w("Underline",a),id:"Underline",label:"Underline",name:"Underline",icon:r.default.createElement(y.default,null)})),r.default.createElement(R.MoreButton,{ref:I,onClick:S,id:"more",label:"More",icon:r.default.createElement(_.default,null)}),P&&r.default.createElement(f.Popover,{centered:!0,source:I,spacing:4,id:"popover"},r.default.createElement(i.FocusTrap,{onEscape:S,restoreFocus:!1},r.default.createElement(p.Flex,null,r.default.createElement(R.IconButtonGroupMargin,null,r.default.createElement(R.CustomIconButton,{onClick:()=>w("Strikethrough",a,S),id:"Strikethrough",label:"Strikethrough",name:"Strikethrough",icon:r.default.createElement(b.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>w("BulletList",a,S),id:"BulletList",label:"BulletList",name:"BulletList",icon:r.default.createElement(h.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>w("NumberList",a,S),id:"NumberList",label:"NumberList",name:"NumberList",icon:r.default.createElement(v.default,null)})),r.default.createElement(s.IconButtonGroup,null,r.default.createElement(R.CustomIconButton,{onClick:()=>w("Code",a,S),id:"Code",label:"Code",name:"Code",icon:r.default.createElement(E.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>{S(),k()},id:"Image",label:"Image",name:"Image",icon:r.default.createElement(M.default,null)}),r.default.createElement(R.CustomLinkIconButton,{onClick:()=>w("Link",a,S),id:"Link",label:"Link",name:"Link",icon:r.default.createElement(C.default,null)}),r.default.createElement(R.CustomIconButton,{onClick:()=>w("Quote",a,S),id:"Quote",label:"Quote",name:"Quote",icon:r.default.createElement(O.default,null)})))))),T&&r.default.createElement(d.Button,{onClick:T,variant:"tertiary",id:"preview"},j({id:"components.Wysiwyg.ToggleMode.preview-mode",defaultMessage:"Preview mode"}))))};k.defaultProps={isPreviewMode:!1,onActionClick:()=>{},onToggleMediaLib:()=>{},onTogglePreviewMode:void 0},k.propTypes={disabled:l.default.bool.isRequired,editorRef:l.default.shape({current:l.default.any}).isRequired,isExpandMode:l.default.bool.isRequired,isPreviewMode:l.default.bool,onActionClick:l.default.func,onToggleMediaLib:l.default.func,onTogglePreviewMode:l.default.func};var T=k;t.default=T},54273:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MoreButton=t.MainButtons=t.IconButtonGroupMargin=t.ExpandButton=t.EditorAndPreviewWrapper=t.CustomLinkIconButton=t.CustomIconButton=void 0;var r=n(a(78384)),l=a(49549),o=a(33289);const i=(0,r.default)(l.IconButton).withConfig({displayName:"WysiwygStyles__CustomIconButton",componentId:"sc-1omeuq1-0"})(["padding:",";outline-offset:-2px !important;svg{width:","rem;height:","rem;}"],(e=>{let{theme:t}=e;return t.spaces[2]}),1.125,1.125);t.CustomIconButton=i;const u=(0,r.default)(i).withConfig({displayName:"WysiwygStyles__CustomLinkIconButton",componentId:"sc-1omeuq1-1"})(["svg{width:","rem;height:","rem;}"],.5,.5);t.CustomLinkIconButton=u;const d=(0,r.default)(l.IconButtonGroup).withConfig({displayName:"WysiwygStyles__MainButtons",componentId:"sc-1omeuq1-2"})(["margin-left:",";"],(e=>{let{theme:t}=e;return t.spaces[4]}));t.MainButtons=d;const s=(0,r.default)(l.IconButton).withConfig({displayName:"WysiwygStyles__MoreButton",componentId:"sc-1omeuq1-3"})(["margin:",";padding:",";svg{width:","rem;height:","rem;}"],(e=>{let{theme:t}=e;return`0 ${t.spaces[2]}`}),(e=>{let{theme:t}=e;return t.spaces[2]}),1.125,1.125);t.MoreButton=s;const c=(0,r.default)(l.IconButtonGroup).withConfig({displayName:"WysiwygStyles__IconButtonGroupMargin",componentId:"sc-1omeuq1-4"})(["margin-right:",";"],(e=>{let{theme:t}=e;return`${t.spaces[2]}`}));t.IconButtonGroupMargin=c;const f=r.default.div.withConfig({displayName:"WysiwygStyles__EditorAndPreviewWrapper",componentId:"sc-1omeuq1-5"})(["position:relative;height:calc(100% - 48px);"]);t.EditorAndPreviewWrapper=f;const p=(0,r.default)(o.BaseButton).withConfig({displayName:"WysiwygStyles__ExpandButton",componentId:"sc-1omeuq1-6"})(["background-color:transparent;border:none;align-items:center;svg{margin-left:",";path{fill:",";width:","rem;height:","rem;}}"],(e=>{let{theme:t}=e;return`${t.spaces[2]}`}),(e=>{let{theme:t}=e;return t.colors.neutral700}),.75,.75);t.ExpandButton=p},50424:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(97132),u=a(33483),d=a(94117),s=a(9524),c=a(68547),f=n(a(69030)),p=n(a(17403)),m=n(a(27705)),g=n(a(32266)),y=a(15612),b=a(57321);function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const v=(0,o.default)(d.Box).withConfig({displayName:"Wysiwyg__LabelAction",componentId:"sc-c0p90q-0"})(["svg path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),E=(0,o.default)(u.Typography).withConfig({displayName:"Wysiwyg__TypographyAsterisk",componentId:"sc-c0p90q-1"})(["line-height:0;"]),M=e=>{let{description:t,disabled:a,error:n,intlLabel:l,labelAction:o,name:h,onChange:M,placeholder:C,value:O,required:_}=e;const{formatMessage:R}=(0,i.useIntl)(),w=(0,r.useRef)(null),k=(0,r.useRef)(null),[T,P]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!1),{components:S}=(0,c.useLibrary)(),q=S["media-library"],F=()=>j((e=>!e)),L=()=>{P(!1),I((e=>!e))},A=C?R({id:C.id,defaultMessage:C.defaultMessage},{...C.values}):"",B=l.id?R({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):h;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Stack,{spacing:1},r.default.createElement(s.Stack,{horizontal:!0,spacing:1},r.default.createElement(u.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},B,_&&r.default.createElement(E,{textColor:"danger600"},"*")),o&&r.default.createElement(v,{paddingLeft:1},o)),r.default.createElement(b.EditorLayout,{isExpandMode:D,error:n,previewContent:O,onCollapse:L},r.default.createElement(p.default,{isExpandMode:D,editorRef:k,isPreviewMode:T,onActionClick:(e,t,a)=>{switch(e){case"Link":case"Strikethrough":(0,y.markdownHandler)(t,e),a();break;case"Code":case"Quote":(0,y.quoteAndCodeHandler)(t,e),a();break;case"Bold":case"Italic":case"Underline":(0,y.markdownHandler)(t,e);break;case"BulletList":case"NumberList":(0,y.listHandler)(t,e),a();break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":(0,y.titleHandler)(t,e)}},onToggleMediaLib:F,onTogglePreviewMode:D?void 0:()=>P((e=>!e)),disabled:a}),r.default.createElement(f.default,{disabled:a,isExpandMode:D,editorRef:k,error:n,isPreviewMode:T,name:h,onChange:M,placeholder:A,textareaRef:w,value:O}),!D&&r.default.createElement(m.default,{onToggleExpand:L})),r.default.createElement(g.default,{description:t,name:h,error:n})),n&&r.default.createElement(d.Box,{paddingTop:1},r.default.createElement(u.Typography,{variant:"pi",textColor:"danger600","data-strapi-field-error":!0},n)),x&&r.default.createElement(q,{onClose:F,onSelectAssets:e=>{const t=e.map((e=>({alt:e.alternativeText||e.name,url:(0,c.prefixFileUrlWithBackendUrl)(e.url),mime:e.mime})));(0,y.insertFile)(k,t),j(!1)}}))};M.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,required:!1,value:""},M.propTypes={description:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),disabled:l.default.bool,error:l.default.string,intlLabel:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}).isRequired,labelAction:l.default.element,name:l.default.string.isRequired,onChange:l.default.func.isRequired,placeholder:l.default.shape({id:l.default.string.isRequired,defaultMessage:l.default.string.isRequired,values:l.default.object}),required:l.default.bool,value:l.default.string};var C=M;t.default=C},25734:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(4631)),l=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;function u(e,t){var a=t.line,n=0,r=0,o=l.exec(e.getLine(a)),i=o[1];do{var u=a+(n+=1),d=e.getLine(u),s=l.exec(d);if(s){var c=s[1],f=parseInt(o[3],10)+n-r,p=parseInt(s[3],10),m=p;if(i!==c||isNaN(p)){if(i.length>c.length)return;if(i.length<c.length&&1===n)return;r+=1}else f===p&&(m=p+1),f>p&&(m=f+1),e.replaceRange(d.replace(l,c+m+s[4]+s[5]),{line:u,ch:0},{line:u,ch:d.length})}}while(s)}var d=function(e){if(e.getOption("disableInput"))return r.default.Pass;for(var t=e.listSelections(),a=[],n=0;n<t.length;n++){var d=t[n].head,s=e.getStateAfter(d.line),c=!1!==s.list,f=0!==s.quote,p=e.getLine(d.line),m=l.exec(p),g=/^\s*$/.test(p.slice(0,d.ch));if(!t[n].empty()||!c&&!f||!m||g)return void e.execCommand("newlineAndIndent");if(o.test(p)){var y=f&&/>\s*$/.test(p),b=!/>\s*$/.test(p);(y||b)&&e.replaceRange("",{line:d.line,ch:0},{line:d.line,ch:d.ch+1}),a[n]="\n"}else{var h=m[1],v=m[5],E=!(i.test(m[2])||m[2].indexOf(">")>=0),M=E?parseInt(m[3],10)+1+m[4]:m[2].replace("x"," ");a[n]="\n"+h+M+v,E&&u(e,d)}}e.replaceSelections(a)};t.default=d},15612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.titleHandler=t.replaceText=t.quoteAndCodeHandler=t.markdownHandler=t.listHandler=t.insertText=t.insertListOrTitle=t.insertFile=void 0;const a=(e,t)=>{let a;switch(e){case"Strikethrough":a=`~~${t}~~`;break;case"Bold":a=`**${t}**`;break;case"Italic":a=`_${t}_`;break;case"Underline":a=`<u>${t}</u>`;break;case"Code":a=`\`\`\`\n${t}\n\`\`\``;break;case"Link":a=`[${t}](link)`;break;case"Quote":a=`>${t}`;break;default:a=t}return a};t.replaceText=a;const n=e=>{let t,a={start:e.length,end:0};switch(e){case"Strikethrough":t=`~~${e}~~`,a.end=2;break;case"Bold":t=`**${e}**`,a.end=2;break;case"Italic":t=`_${e}_`,a.end=1;break;case"alt":t=`[${e}]()`,a.end=3;break;case"Underline":t=`<u>${e}</u>`,a.end=4;break;case"Code":t=`\`\`\`\n${e}\n\`\`\``,a.end=3;break;case"Link":t=`[${e}](link)`,a.end=7;break;case"Quote":t=`>${e}`,a.end=0;break;default:t=""}return{editedText:t,selection:a}};t.insertText=n;const r=e=>{let t;switch(e){case"BulletList":t="- ";break;case"NumberList":t="1. ";break;case"h1":t="# ";break;case"h2":t="## ";break;case"h3":t="### ";break;case"h4":t="#### ";break;case"h5":t="##### ";break;case"h6":t="###### ";break;default:return""}return t};t.insertListOrTitle=r;t.markdownHandler=(e,t)=>{const r=e.current.getSelection();let l;if(r){const n=a(t,r);e.current.replaceSelection(n),e.current.focus()}else{l=n(t),e.current.replaceSelection(l.editedText),e.current.focus();const{line:a,ch:r}=e.current.getCursor(),o=r-l.selection.end,i=r-l.selection.end-l.selection.start;e.current.setSelection({line:a,ch:i},{line:a,ch:o})}};t.listHandler=(e,t)=>{const a=e.current.getDoc(),n="BulletList"===t?"- ":"1. ";if(a.somethingSelected()){const r=a.listSelections();let l=null;e.current.operation((function(){r.forEach((function(e){const r=[e.head.line,e.anchor.line].sort();null==l&&(l=a.getLine(r[0]).startsWith(n));for(let o=r[0];o<=r[1];o++)if(l)a.getLine(o).startsWith(n)&&a.replaceRange("",{line:o,ch:0},{line:o,ch:n.length});else{const e="BulletList"===t?"- ":`${o+1}. `;a.replaceRange(e,{line:o,ch:0})}}))}))}else{let{line:n}=a.getCursor();const l=r(t),o=e.current.getLine(n),i=l+o;e.current.setSelection({line:n,ch:0},{line:n,ch:o.length}),e.current.replaceSelection(i)}e.current.focus()};t.titleHandler=(e,t)=>{let{line:a}=e.current.getCursor();const n=r(t),l=e.current.getLine(a),o=n+l.replace(/#{1,6}\s/g,"").trim();e.current.setSelection({line:a,ch:0},{line:a,ch:l.length}),e.current.replaceSelection(o),setTimeout((()=>{const t=e.current.getLine(a).length;e.current.focus(),e.current.setCursor({line:a,ch:t})}),0)};t.insertFile=(e,t)=>{let{line:a,ch:n}=e.current.getCursor();t.forEach(((t,r)=>{let l=e.current.getLine(a).length;e.current.setCursor({line:a,ch:l}),(r>0||0===r&&0!==n)&&(l=e.current.getLine(a).length,e.current.setCursor({line:a,ch:l}),a++,e.current.replaceSelection("\n")),t.mime.includes("image")?e.current.replaceSelection(`![${t.alt}](${t.url})`):e.current.replaceSelection(`[${t.alt}](${t.url})`)})),setTimeout((()=>e.current.focus()),0)};t.quoteAndCodeHandler=(e,t)=>{const r=e.current.getSelection();let{line:l}=e.current.getCursor(),o=e.current.getLine(l).length;r?((e,t,n,r,l)=>{const o=a(t,l),i=e.current.getRange({line:n+1,ch:0},{line:1/0,ch:1/0});if(e.current.replaceRange("",{line:n+1,ch:0},{line:1/0,ch:1/0}),e.current.replaceSelection(""),e.current.setCursor({line:n,ch:r}),e.current.replaceSelection("\n"),e.current.replaceSelection(o),"Code"===t){let{line:t}=e.current.getCursor();e.current.setCursor({line:t-1,ch:l.length})}e.current.replaceRange(i,{line:n+4,ch:0},{line:1/0,ch:1/0}),e.current.focus()})(e,t,l,o,r):((e,t,a,r)=>{const l=n(t),o=e.current.getRange({line:a+1,ch:0},{line:1/0,ch:1/0});if(e.current.replaceRange("",{line:a+1,ch:0},{line:1/0,ch:1/0}),e.current.setCursor({line:a,ch:r}),e.current.replaceSelection("\n"),e.current.replaceSelection(l.editedText),"Code"===t)a+=2,e.current.setSelection({line:a,ch:0},{line:a,ch:4});else{a+=1;let{ch:t}=e.current.getCursor(),n=t-l.selection.end,r=t-l.selection.end-l.selection.start;e.current.setSelection({line:a,ch:r},{line:a,ch:n})}e.current.replaceRange(o,{line:a+2,ch:0},{line:1/0,ch:1/0}),e.current.focus()})(e,t,l,o)}},66755:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(53547).createContext)();t.default=n},22869:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(53547).createContext)();t.default=n},66973:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(53547).createContext)();t.default=n},91896:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(53547).createContext)();t.default=n},42688:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ContentTypeLayoutContext",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"LayoutDndContext",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"WysiwygContext",{enumerable:!0,get:function(){return o.default}});var r=n(a(66755)),l=n(a(22869)),o=n(a(91896))},14772:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useContentTypeLayout",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useFetchContentTypeLayout",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useFindRedirectionLink",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useLayoutDnd",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"usePluginsQueryParams",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useSyncRbac",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useWysiwyg",{enumerable:!0,get:function(){return s.default}});var r=n(a(97094)),l=n(a(12222)),o=n(a(2550)),i=n(a(9196)),u=n(a(30995)),d=n(a(30598)),s=n(a(32392))},97094:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(53547),l=a(96486),o=a(37424),i=n(a(94622));var u=()=>{const e=(0,o.useSelector)(i.default),t=(0,r.useCallback)((t=>(0,l.get)(e,["components",t],{})),[e]);return{...e,getComponentLayout:t}};t.default=u},12222:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(53547),o=a(37424),i=r(a(9669)),u=a(53777),d=r(a(14674)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(50670)),c=a(19763),f=a(28564);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=e=>{const[{error:t,isLoading:a,layout:r,layouts:p},m]=(0,l.useReducer)(s.default,s.initialState),g=(0,l.useMemo)(c.makeSelectModelAndComponentSchemas,[]),{schemas:y}=(0,o.useSelector)((e=>g(e)),o.shallowEqual),b=(0,l.useRef)(!0),h=(0,l.useCallback)((async(e,a)=>{if(p[e])m({type:"SET_LAYOUT_FROM_STATE",uid:e});else{m({type:"GET_DATA"});try{const t=(0,f.getRequestUrl)(`content-types/${e}/configuration`),{data:{data:n}}=await u.axiosInstance.get(t,{cancelToken:a.token});m({type:"GET_DATA_SUCCEEDED",data:(0,d.default)(n,y)})}catch(t){if(i.default.isCancel(t))return;b.current&&n.error(t),b.current&&m({type:"GET_DATA_ERROR",error:t})}}}),[p,y]);(0,l.useEffect)((()=>()=>{b.current=!1}),[]),(0,l.useEffect)((()=>{const t=i.default.CancelToken.source();return h(e,t),()=>{t.cancel("Operation canceled by the user.")}}),[e,h]);return{error:t,isLoading:a,layout:r,updateLayout:(0,l.useCallback)((e=>{m({type:"UPDATE_LAYOUT",newLayout:(0,d.default)({contentType:e,components:{}},y)})}),[y])}};t.default=m},50670:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(66312));t.initialState={error:null,isLoading:!0,layout:{},layouts:{}};var l=(e,t)=>(0,r.default)(e,(a=>{switch(t.type){case"GET_DATA":a.isLoading=!0,a.error=null,a.layout={};break;case"GET_DATA_SUCCEEDED":{const e=t.data.contentType.uid;a.layout=t.data,a.layouts[e]=t.data,a.isLoading=!1;break}case"GET_DATA_ERROR":a.isLoading=!1,a.error=t.error;break;case"SET_LAYOUT_FROM_STATE":a.error=null,a.layout=e.layouts[t.uid];break;case"UPDATE_LAYOUT":{const n=e.layout;a.layout={...n,contentType:{uid:n.contentType.uid,...t.newLayout.contentType}},a.layouts[n.contentType.uid]={...n,contentType:{uid:n.contentType.uid,...t.newLayout.contentType}};break}default:return a}}));t.default=l},14674:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayedModels=t.generateRelationQueryInfosForComponents=t.generateRelationQueryInfos=t.formatListLayoutWithMetas=t.formatLayoutWithMetas=t.formatEditRelationsLayoutWithMetas=t.default=void 0;var n=a(96486),r=a(28564);const l=(e,t)=>t.find((t=>t.uid===e)),o=(e,t)=>e.layouts.editRelations.reduce(((a,r)=>{const o=(0,n.get)(e,["attributes",r],{}),i=(0,n.get)(e,["attributes",r,"targetModel"],null),u=l(i,t).pluginOptions||{},d=(0,n.get)(e,["metadatas",r,"edit"],{}),c=s(e,r,t);return a.push({name:r,size:6,fieldSchema:o,metadatas:d,queryInfos:c,targetModelPluginOptions:u}),a}),[]);t.formatEditRelationsLayoutWithMetas=o;const i=(e,t)=>{const a=(0,r.mergeMetasWithSchema)((0,n.cloneDeep)(e),t,"contentType"),{components:o,contentType:i}=a,u=e=>Object.keys(e.metadatas).reduce(((a,r)=>{const o=(0,n.get)(e,["attributes",r],{});let i=e.metadatas[r];if("relation"===o.type){const e=l(o.targetModel,t),a=i.edit.mainField,r={name:a,schema:(0,n.get)(e,["attributes",a])};i={list:{...i.list,mainField:r},edit:{...i.edit,mainField:r}}}return a[r]=i,a}),{});return(0,n.set)(a,["contentType","metadatas"],u(i)),Object.keys(o).forEach((e=>{const t=o[e],r=u(t);(0,n.set)(a,["components",e,"metadatas"],r)})),a},u=(e,t,a)=>e.layouts.edit.reduce(((r,o)=>{const i=o.map((r=>{const o=(0,n.get)(e,["attributes",r.name],{}),i={...r,fieldSchema:o,metadatas:(0,n.get)(e,["metadatas",r.name,"edit"],{})};if("relation"===o.type){const u=o.targetModel,d=l(u,a).pluginOptions||{},f=t?c(e,r.name,t,a):s(e,r.name,a);(0,n.set)(i,"targetModelPluginOptions",d),(0,n.set)(i,"queryInfos",f)}return i}));return r.push(i),r}),[]);t.formatLayoutWithMetas=u;const d=(e,t)=>e.layouts.list.reduce(((a,r)=>{const l=(0,n.get)(e,["attributes",r],{}),o=(0,n.get)(e,["metadatas",r,"list"],{}),i=l.type;if("relation"===i){const t={endPoint:`collection-types/${e.uid}`,defaultParams:{}};return a.push({key:`__${r}_key__`,name:r,fieldSchema:l,metadatas:o,queryInfos:t}),a}if("component"===i){const e=t[l.component],n=e.settings.mainField,i=e.attributes[n];return a.push({key:`__${r}_key__`,name:r,fieldSchema:l,metadatas:{...o,mainField:{...i,name:n}}}),a}return a.push({key:`__${r}_key__`,name:r,fieldSchema:l,metadatas:o}),a}),[]);t.formatListLayoutWithMetas=d;const s=(e,t,a)=>{const l=e.uid,o=(0,r.getRequestUrl)(`relations/${l}/${t}`),i=(0,n.get)(e,["metadatas",t,"edit","mainField","name"],""),u=(0,n.get)(e,["attributes",t,"targetModel"],"");return{endPoint:o,containsKey:`${i}`,defaultParams:{},shouldDisplayRelationLink:-1!==f(a).indexOf(u)}};t.generateRelationQueryInfos=s;const c=(e,t,a,l)=>{const o=(0,r.getRequestUrl)(`relations/${a}/${t}`),i=(0,n.get)(e,["metadatas",t,"edit","mainField","name"],""),u=(0,n.get)(e,["attributes",t,"targetModel"],""),d=-1!==f(l).indexOf(u);return{endPoint:o,containsKey:`${i}`,defaultParams:{_component:e.uid},shouldDisplayRelationLink:d}};t.generateRelationQueryInfosForComponents=c;const f=e=>e.filter((e=>e.isDisplayed)).map((e=>{let{uid:t}=e;return t}));t.getDisplayedModels=f;var p=(e,t)=>{const a=i(e,t),r=u(a.contentType,null,t),l=a.contentType.uid,s=o(a.contentType,t),c=d(a.contentType,a.components);return(0,n.set)(a,["contentType","layouts","edit"],r),(0,n.set)(a,["contentType","layouts","editRelations"],s),(0,n.set)(a,["contentType","layouts","list"],c),Object.keys(a.components).forEach((e=>{const r=u(a.components[e],l,t);(0,n.set)(a,["components",e,"layouts","edit"],r)})),a};t.default=p},2550:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(37424),l=a(68547),o=n(a(70869)),i=n(a(25263));var u=e=>{const[{rawQuery:t}]=(0,l.useQueryParams)(),a=(0,r.useSelector)(o.default);return(0,i.default)(a,e,t)};t.default=u},70869:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>e["content-manager_app"].collectionTypeLinks;t.default=a},25263:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.mergeParams=t.default=void 0;var r=a(80129),l=n(a(27361)),o=n(a(13218));const i=(e,t)=>Object.keys(e).reduce(((a,n)=>{const r=e[n],u=(0,l.default)(t,[n],r);return(0,o.default)(r)?{...a,[n]:i(r,u)}:(a[n]=u,a)}),{});t.mergeParams=i;var u=(e,t,a)=>{const n=e.find((e=>{let{to:a}=e;return a.includes(t)}));if(!n)return"/";const{to:l,search:o}=n,u=(0,r.parse)(o),d=(0,r.parse)(a.substring(1)),s=i(u,d);return`${l}?${(0,r.stringify)(s,{encode:!1})}`};t.default=u},9196:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(53547),l=n(a(22869));var o=()=>(0,r.useContext)(l.default);t.default=o},30995:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(39711),r=a(80129);var l=()=>{const{search:e}=(0,n.useLocation)(),t=e?(0,r.parse)(e.substring(1)):{};return t.plugins?(0,r.stringify)({plugins:t.plugins},{encode:!1}):""};t.default=l},59974:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPermissions=t.resetPermissions=void 0;var n=a(14338);t.setPermissions=(e,t,a)=>({type:n.SET_PERMISSIONS,permissions:e,__meta__:{plugins:t,containerName:a}});t.resetPermissions=()=>({type:n.RESET_PERMISSIONS})},30598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(37424),l=a(59974),o=a(52169);var i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"listView";const i=(0,r.useSelector)(o.selectCollectionTypePermissions),u=(0,r.useSelector)(o.selectPermissions),d=(0,r.useDispatch)(),s=i[t];return(0,n.useEffect)((()=>s?(d((0,l.setPermissions)(s,e?e.plugins:null,a)),()=>{d((0,l.resetPermissions)())}):()=>{}),[s,d,e,a]),u};t.default=i},52169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectPermissions=t.selectCollectionTypePermissions=void 0;t.selectPermissions=e=>e["content-manager_rbacManager"].permissions;t.selectCollectionTypePermissions=e=>e.rbacProvider.collectionTypesRelatedPermissions},32392:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(53547),l=n(a(91896));var o=()=>(0,r.useContext)(l.default);t.default=o},40551:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(29491),o=a(37424),i=a(97132),u=n(a(63852)),d=n(a(89734)),s=n(a(7334)),c=n(a(36169)),f=a(19763);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m=(e,t)=>(0,u.default)(e,(0,s.default)(t),{keys:[e=>(0,s.default)(e.title)]});var g=()=>{const[e,t]=(0,r.useState)(""),{formatMessage:a}=(0,i.useIntl)(),n=(0,r.useMemo)(f.makeSelectModelLinks,[]),{collectionTypeLinks:u,singleTypeLinks:s}=(0,o.useSelector)((e=>n(e)),o.shallowEqual),p=e=>e.map((e=>({...e,title:a({id:e.title,defaultMessage:e.title})}))),g=p(u),y=p(s),b=[{id:"collectionTypes",title:{id:(0,c.default)("components.LeftMenu.collection-types"),defaultMessage:"Collection Types"},searchable:!0,links:(0,d.default)(m(g,e),(e=>e.title.toLowerCase()))},{id:"singleTypes",title:{id:(0,c.default)("components.LeftMenu.single-types"),defaultMessage:"Single Types"},searchable:!0,links:(0,d.default)(m(y,e),(e=>e.title.toLowerCase()))}],h=a({id:(0,c.default)("header.name"),defaultMessage:"Content"});return r.default.createElement(l.SubNav,{ariaLabel:h},r.default.createElement(l.SubNavHeader,{label:h,searchable:!0,value:e,onChange:e=>{let{target:{value:a}}=e;t(a)},onClear:()=>{t("")},searchLabel:a({id:"content-manager.components.LeftMenu.Search.label",defaultMessage:"Search for a content type"})}),r.default.createElement(l.SubNavSections,null,b.map((e=>{const t=a({id:e.title.id,defaultMessage:e.title.defaultMessage},e.title.values);return r.default.createElement(l.SubNavSection,{key:e.id,label:t,badgeLabel:e.links.length.toString()},e.links.map((e=>{const t=e.search?`?${e.search}`:"";return r.default.createElement(l.SubNavLink,{key:e.uid,to:`${e.to}${t}`},e.title)})))}))))};t.default=g},67877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setContentTypeLinks=t.resetProps=t.getData=void 0;var n=a(54617);t.getData=()=>({type:n.GET_DATA});t.resetProps=()=>({type:n.RESET_PROPS});t.setContentTypeLinks=(e,t,a,r)=>({type:n.SET_CONTENT_TYPE_LINKS,data:{authorizedCtLinks:e,authorizedStLinks:t,components:r,contentTypeSchemas:a}})},45161:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.App=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(15482),o=a(39711),i=a(68547),u=a(35395),d=a(80117),s=a(97132),c=n(a(89734)),f=n(a(13240)),p=n(a(36169)),m=n(a(5969)),g=n(a(66973)),y=n(a(79396)),b=n(a(25195)),h=n(a(65639)),v=n(a(20755)),E=n(a(88468)),M=n(a(40551)),C=n(a(3267));function O(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const _=f.default.contentManager,R=()=>{const e=(0,o.useRouteMatch)("/content-manager/:kind/:uid"),{status:t,collectionTypeLinks:a,singleTypeLinks:n,models:l,refetchData:f}=(0,C.default)(),O=(0,c.default)([...a,...n],(e=>e.title.toLowerCase())),{pathname:R}=(0,o.useLocation)(),{formatMessage:w}=(0,s.useIntl)(),{startSection:k}=(0,i.useGuidedTour)(),T=(0,r.useRef)(k);if((0,r.useEffect)((()=>{T.current&&T.current("contentManager")}),[]),"loading"===t)return r.default.createElement(d.Main,{"aria-busy":"true"},r.default.createElement(u.HeaderLayout,{title:w({id:(0,p.default)("header.name"),defaultMessage:"Content"})}),r.default.createElement(i.LoadingIndicatorPage,null));const P=l.filter((e=>{let{isDisplayed:t}=e;return t}));return 0===O.length&&P.length>0&&"/content-manager/403"!==R?r.default.createElement(o.Redirect,{to:"/content-manager/403"}):0===P.length&&"/content-manager/no-content-types"!==R?r.default.createElement(o.Redirect,{to:"/content-manager/no-content-types"}):!e&&O.length>0?r.default.createElement(o.Redirect,{to:`${O[0].to}${O[0].search?`?${O[0].search}`:""}`}):r.default.createElement(u.Layout,{sideNav:r.default.createElement(M.default,null)},r.default.createElement(m.default,null),r.default.createElement(g.default.Provider,{value:{refetchData:f}},r.default.createElement(o.Switch,null,r.default.createElement(o.Route,{path:"/content-manager/components/:uid/configurations/edit"},r.default.createElement(i.CheckPagePermissions,{permissions:_.componentsConfigurations},r.default.createElement(b.default,null))),r.default.createElement(o.Route,{path:"/content-manager/collectionType/:slug",component:y.default}),r.default.createElement(o.Route,{path:"/content-manager/singleType/:slug",component:E.default}),r.default.createElement(o.Route,{path:"/content-manager/403"},r.default.createElement(v.default,null)),r.default.createElement(o.Route,{path:"/content-manager/no-content-types"},r.default.createElement(h.default,null)),r.default.createElement(o.Route,{path:"",component:i.NotFound}))))};t.App=R;t.default=()=>{const{formatMessage:e}=(0,s.useIntl)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Helmet,{title:e({id:(0,p.default)("plugin.name"),defaultMessage:"Content Manager"})}),r.default.createElement(R,null))}},19763:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAppDomain=t.makeSelectModels=t.makeSelectModelLinks=t.makeSelectModelAndComponentSchemas=t.default=void 0;var n=a(42279),r=a(6446);const l=()=>e=>e["content-manager_app"]||r.initialState;t.selectAppDomain=l;t.makeSelectModels=()=>(0,n.createSelector)(l(),(e=>e.models));t.makeSelectModelLinks=()=>(0,n.createSelector)(l(),(e=>({collectionTypeLinks:e.collectionTypeLinks,singleTypeLinks:e.singleTypeLinks})));t.makeSelectModelAndComponentSchemas=()=>(0,n.createSelector)(l(),(e=>{let{components:t,models:a}=e;return{schemas:[...t,...a]}}));var o=()=>(0,n.createSelector)(l(),(e=>e));t.default=o},3267:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(68547),o=a(53547),i=a(37424),u=a(67422),d=r(a(9669)),s=a(97132),c=a(53777),f=a(29499),p=a(28564),m=a(67877),g=a(19763),y=r(a(26036));var b=()=>{const e=(0,i.useDispatch)(),t=(0,l.useNotification)(),a=(0,i.useSelector)((0,g.selectAppDomain)()),r=(0,o.useRef)(),{allPermissions:b}=(0,l.useRBACProvider)(),{runHookWaterfall:h}=(0,l.useStrapiApp)(),v=d.default.CancelToken.source(),{notifyStatus:E}=(0,u.useNotifyAT)(),{formatMessage:M}=(0,s.useIntl)();return r.current=async()=>{e((0,m.getData)());try{const[{data:{data:a}},{data:{data:n}}]=await Promise.all(["components","content-types"].map((e=>c.axiosInstance.get((0,p.getRequestUrl)(e),{cancelToken:v.token}))));E(M({id:(0,p.getTrad)("App.schemas.data-loaded"),defaultMessage:"The schemas have been successfully loaded."}));const{authorizedCtLinks:r,authorizedStLinks:l}=await(0,y.default)(n,b,t),{ctLinks:o}=h(f.MUTATE_COLLECTION_TYPES_LINKS,{ctLinks:r,models:n}),{stLinks:i}=h(f.MUTATE_SINGLE_TYPES_LINKS,{stLinks:l,models:n}),u=(0,m.setContentTypeLinks)(o,i,n,a);e(u)}catch(a){if(d.default.isCancel(a))return;n.error(a),t({type:"warning",message:{id:"notification.error"}})}},(0,o.useEffect)((()=>(r.current(),()=>{v.cancel("Operation canceled by the user."),e((0,m.resetProps)())})),[e,t]),{...a,refetchData:r.current}};t.default=b},75274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(68547);var r=(e,t)=>t.map((t=>{let{permissions:a}=t;return(0,n.hasPermissions)(e,a)}));t.default=r},98891:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLinks=t.default=void 0;var n=a(96486),r=a(80129);const l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.filter((e=>e.isDisplayed)).map((e=>{const n=[{action:"plugin::content-manager.explorer.create",subject:e.uid},{action:"plugin::content-manager.explorer.read",subject:e.uid}],l=[{action:"plugin::content-manager.explorer.read",subject:e.uid}],o="collectionTypes"===t?n:l,i=a.find((t=>{let{uid:a}=t;return a===e.uid}));let u=null;if(i){const e={page:1,pageSize:i.settings.pageSize,sort:`${i.settings.defaultSortBy}:${i.settings.defaultSortOrder}`};u=(0,r.stringify)(e,{encode:!1})}return{permissions:o,search:u,kind:e.kind,title:e.info.displayName,to:`/content-manager/${e.kind}/${e.uid}`,uid:e.uid,name:e.uid,isDisplayed:e.isDisplayed}}))};t.generateLinks=l;var o=(e,t)=>{const[a,r]=(0,n.chain)(e).groupBy("kind").map(((e,t)=>({name:t,links:e}))).sortBy("name").value();return{collectionTypesSectionLinks:l((0,n.get)(a,"links",[]),"collectionTypes",t),singleTypesSectionLinks:l((0,n.get)(r,"links",[]),"singleTypes")}};t.default=o},26036:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(53777),o=r(a(98891)),i=r(a(75274)),u=a(28564);var d=async(e,t,a)=>{try{const{data:{data:a}}=await l.axiosInstance.get((0,u.getRequestUrl)("content-types-settings")),{collectionTypesSectionLinks:n,singleTypesSectionLinks:r}=(0,o.default)(e,a),d=(0,i.default)(t,n),s=await Promise.all(d),c=n.filter(((e,t)=>s[t])),f=(0,i.default)(t,r),p=await Promise.all(f);return{authorizedCtLinks:c,authorizedStLinks:r.filter(((e,t)=>p[t]))}}catch(r){return n.error(r),a({type:"warning",message:{id:"notification.error"}}),{authorizedCtLinks:[],authorizedStLinks:[],contentTypes:[]}}};t.default=d},79396:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(39711),o=a(66730),i=a(96486),u=n(a(45697)),d=a(68547),s=n(a(13240)),c=a(42688),f=a(14772),p=a(28564),m=n(a(11427)),g=n(a(40224)),y=n(a(9017)),b=n(a(41540));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const v=s.default.contentManager,E=e=>{let{match:{params:{slug:t},url:a}}=e;const{isLoading:n,layout:u,updateLayout:s}=(0,f.useFetchContentTypeLayout)(t),{rawContentTypeLayout:h,rawComponentsLayouts:E}=(0,r.useMemo)((()=>{let e={},t={};return u.contentType&&(e=(0,p.formatLayoutToApi)(u.contentType)),u.components&&(t=Object.keys(u.components).reduce(((e,t)=>(e[t]=(0,p.formatLayoutToApi)(u.components[t]),e)),{})),{rawContentTypeLayout:e,rawComponentsLayouts:t}}),[u]);if((0,i.get)(u,["contentType","uid"],null)!==t||n)return r.default.createElement(d.LoadingIndicatorPage,null);const M=[{path:"create/clone/:origin",comp:m.default},{path:"create",comp:m.default},{path:":id",comp:m.default},{path:"",comp:y.default}].map((e=>{let{path:n,comp:o}=e;return r.default.createElement(l.Route,{key:n,path:`${a}/${n}`,render:e=>((e,a)=>{let{location:{state:n},history:{goBack:l},match:{params:{id:o,origin:i}}}=e;return r.default.createElement(a,{slug:t,layout:u,state:n,goBack:l,id:o,origin:i})})(e,o)})}));return r.default.createElement(o.ErrorBoundary,{FallbackComponent:d.ErrorFallback},r.default.createElement(c.ContentTypeLayoutContext.Provider,{value:u},r.default.createElement(l.Switch,null,r.default.createElement(l.Route,{path:`${a}/configurations/list`},r.default.createElement(d.CheckPagePermissions,{permissions:v.collectionTypesConfigurations},r.default.createElement(b.default,{layout:h,slug:t,updateLayout:s}))),r.default.createElement(l.Route,{path:`${a}/configurations/edit`},r.default.createElement(d.CheckPagePermissions,{permissions:v.collectionTypesConfigurations},r.default.createElement(g.default,{components:E,isContentTypeView:!0,mainLayout:h,slug:t,updateLayout:s}))),M)))};E.propTypes={match:u.default.shape({url:u.default.string.isRequired,params:u.default.shape({slug:u.default.string.isRequired}).isRequired}).isRequired};var M=(0,r.memo)(E);t.default=M},25195:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=h(a(53547)),o=a(39711),i=a(68547),u=a(37424),d=r(a(9669)),s=a(53777),c=a(28564),f=a(19763),p=r(a(13240)),m=h(a(62476)),g=a(98744),y=r(a(40224));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}const v=p.default.contentManager,E=()=>{const[{isLoading:e,data:t},a]=(0,l.useReducer)(m.default,m.crudInitialState),r=(0,l.useMemo)(f.makeSelectModelAndComponentSchemas,[]),{schemas:p}=(0,u.useSelector)((e=>r(e)),u.shallowEqual),{uid:b}=(0,o.useParams)();return(0,l.useEffect)((()=>{const e=d.default.CancelToken.source();return(async e=>{try{a((0,g.getData)());const{data:{data:t}}=await s.axiosInstance.get((0,c.getRequestUrl)(`components/${b}/configuration`),{cancelToken:e.token});a((0,g.getDataSucceeded)((0,c.mergeMetasWithSchema)(t,p,"component")))}catch(t){if(d.default.isCancel(t))return;n.error(t)}})(e),()=>{e.cancel("Operation canceled by the user.")}}),[b,p]),e?l.default.createElement(i.LoadingIndicatorPage,null):l.default.createElement(i.CheckPagePermissions,{permissions:v.componentsConfigurations},l.default.createElement(y.default,{components:t.components,mainLayout:t.component,slug:b}))};var M=(0,l.memo)(E);t.default=M},65067:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(94117),i=a(40264),u=a(56156),d=a(33483),s=n(a(17581)),c=a(97132),f=n(a(27361)),p=a(39272),m=n(a(9196)),g=n(a(36169));const y=e=>{let{componentUid:t}=e;const{componentLayouts:a}=(0,m.default)(),{formatMessage:n}=(0,c.useIntl)(),l=(0,f.default)(a,[t],{}),y=(0,f.default)(l,["layouts","edit"],[]);return r.default.createElement(o.Box,{padding:3},y.map(((e,t)=>r.default.createElement(p.Grid,{gap:4,key:t},e.map((e=>r.default.createElement(p.GridItem,{key:e.name,col:e.size},r.default.createElement(o.Box,{paddingTop:2},r.default.createElement(i.Flex,{alignItems:"center",background:"neutral0",paddingLeft:3,paddingRight:3,height:"2rem",hasRadius:!0,borderColor:"neutral200"},r.default.createElement(d.Typography,{textColor:"neutral800"},e.name))))))))),r.default.createElement(o.Box,{paddingTop:2},r.default.createElement(u.Link,{startIcon:r.default.createElement(s.default,null),to:`/content-manager/components/${t}/configurations/edit`},n({id:(0,g.default)("components.FieldItem.linkToComponentLayout"),defaultMessage:"Set the component's layout"}))))};y.propTypes={componentUid:l.default.string.isRequired};var b=y;t.default=b},73566:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(78384)),o=n(a(45697)),i=a(99168),u=a(61080),d=a(40264),s=a(94117),c=a(39272),f=n(a(58506)),p=a(28564),m=n(a(95684)),g=a(14772);function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const b=(0,l.default)(d.Flex).withConfig({displayName:"DisplayedFieldButton__Wrapper",componentId:"sc-19kzwqt-0"})(["position:relative;"," ",";"],(e=>{let{isFirst:t,isLast:a,hasHorizontalPadding:n}=e;return t?"\n        padding-right: 4px;\n      ":a?"\n        padding-left: 4px;\n      ":n?"\n        padding: 0 4px;\n      ":""}),(e=>{let{showRightCarret:t,showLeftCarret:a,theme:n}=e;return t?`\n        &:after {\n          content: '';\n          position: absolute;\n          right: -1px;\n          background-color: ${n.colors.primary600};\n          width: 2px;\n          height: 100%;\n          align-self: stretch;\n          z-index: 1;\n        }\n      `:a?`\n        &:before {\n          content: '';\n          position: absolute;\n          left: -1px;\n          background-color: ${n.colors.primary600};\n          width: 2px;\n          height: 100%;\n          align-self: stretch;\n          z-index: 1;\n        }\n      `:""})),h=(0,l.default)(f.default).withConfig({displayName:"DisplayedFieldButton__CustomDragIcon",componentId:"sc-19kzwqt-1"})(["height:","rem;width:","rem;path{fill:",";}"],.75,.75,(e=>{let{theme:t}=e;return t.colors.neutral600})),v=(0,l.default)(d.Flex).withConfig({displayName:"DisplayedFieldButton__CustomFlex",componentId:"sc-19kzwqt-2"})(["display:",";opacity:",";"],(e=>{let{dragStart:t}=e;return t?"none":"flex"}),(e=>{let{isDragging:t,isFullSize:a,isHidden:n}=e;return t&&!a?.2:t&&a||n?0:1})),E=(0,l.default)(d.Flex).withConfig({displayName:"DisplayedFieldButton__DragButton",componentId:"sc-19kzwqt-3"})(["cursor:all-scroll;border-right:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.neutral200})),M=e=>{let{attribute:t,children:a,index:n,lastIndex:l,moveItem:o,moveRow:d,name:f,onDeleteField:y,onEditField:M,rowIndex:C,size:O}=e;const[_,R]=(0,r.useState)(!1),w="_TEMP_"===f,{setIsDraggingSibling:k}=(0,g.useLayoutDnd)(),T=12===O,P=(0,r.useRef)(null),x=(0,r.useRef)(null),[{clientOffset:j,isOver:D},I]=(0,i.useDrop)({accept:p.ItemTypes.EDIT_FIELD,hover(e,t){if(!x.current)return;if(12!==e.size)return;const a=t.getItem().index,r=n,l=t.getItem().rowIndex,o=C;if(a===r&&l===o)return;const i=x.current.getBoundingClientRect(),u=(i.bottom-i.top)/2,s=t.getClientOffset().y-i.top;l<o&&s<u||l>o&&s>u||(d(l,o),e.rowIndex=o,e.itemIndex=r)},drop(e,t){if(!x.current)return;const a=t.getItem().index,r=n,l=t.getItem().rowIndex,i=C;if(12===e.size)return;if(a===r&&l===i)return;const u=x.current.getBoundingClientRect();if(Math.abs(t.getClientOffset().x-u.left)>u.width/1.8)return o(a,r+1,l,i),e.itemIndex=r+1,void(e.rowIndex=i);o(a,r,l,i),e.itemIndex=r,e.rowIndex=i},collect:e=>({canDrop:e.canDrop(),clientOffset:e.getClientOffset(),isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0}),itemType:e.getItemType()})}),[{isDragging:S,getItem:q},F,L]=(0,i.useDrag)({type:p.ItemTypes.EDIT_FIELD,item:()=>(k(!0),{index:n,labelField:a,rowIndex:C,name:f,size:O}),canDrag:()=>"_TEMP_"!==f,collect:e=>({isDragging:e.isDragging(),getItem:e.getItem()}),end:()=>{k(!1)}});(0,r.useEffect)((()=>{L((0,u.getEmptyImage)(),{captureDraggingState:!0})}),[L]);const A={dragRef:F(P),dropRef:I(x)};let B=!1,N=!1;if(x.current&&j){const e=x.current.getBoundingClientRect();B=D&&12!==q.size&&Math.abs(j.x-e.left)<e.width/2,N=D&&12!==q.size&&Math.abs(j.x-e.left)>e.width/2,"_TEMP_"===f&&(B=D&&12!==q.size,N=!1)}const W=0===n&&!T,$=n===l&&!T,U=0!==n&&!T;return r.default.createElement(c.GridItem,{col:O},r.default.createElement(b,{ref:A.dropRef,showLeftCarret:B,showRightCarret:N,isFirst:W,isLast:$,hasHorizontalPadding:U,onDrag:()=>{T&&!_&&R(!0)},onDragEnd:()=>{T&&R(!1)}},_&&T&&r.default.createElement(s.Box,{width:"100%",height:"2px",background:"primary600"}),r.default.createElement(v,{width:T&&_?0:"100%",borderColor:"neutral150",hasRadius:!0,background:"neutral100",minHeight:t&&T?"4.625rem":"2rem",alignItems:"stretch",isDragging:S,dragStart:_,isFullSize:T,isHidden:w},r.default.createElement(E,{as:"span",type:"button",ref:A.dragRef,onClick:e=>e.stopPropagation(),alignItems:"center",paddingLeft:3,paddingRight:3,tabIndex:-1},r.default.createElement(h,null)),!w&&r.default.createElement(m.default,{attribute:t,onEditField:M,onDeleteField:y},a))))};M.defaultProps={attribute:void 0},M.propTypes={attribute:o.default.shape({components:o.default.array,component:o.default.string,type:o.default.string}),children:o.default.string.isRequired,index:o.default.number.isRequired,moveItem:o.default.func.isRequired,moveRow:o.default.func.isRequired,name:o.default.string.isRequired,onDeleteField:o.default.func.isRequired,onEditField:o.default.func.isRequired,rowIndex:o.default.number.isRequired,lastIndex:o.default.number.isRequired,size:o.default.number.isRequired};var C=M;t.default=C},66650:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=a(64459),u=a(94117),d=a(33483),s=a(9524),c=a(40264),f=a(12615),p=n(a(89326)),m=a(28564),g=n(a(79075)),y=n(a(20519));const b=e=>{let{editLayout:t,editLayoutRemainingFields:a,onRemoveField:n,onAddField:l}=e;const{formatMessage:b}=(0,o.useIntl)();return r.default.createElement(s.Stack,{spacing:4},r.default.createElement(c.Flex,{justifyContent:"space-between"},r.default.createElement("div",null,r.default.createElement(u.Box,null,r.default.createElement(d.Typography,{fontWeight:"bold"},b({id:(0,m.getTrad)("containers.ListPage.displayedFields"),defaultMessage:"Displayed fields"}))),r.default.createElement(u.Box,null,r.default.createElement(d.Typography,{variant:"pi",textColor:"neutral600"},b({id:"containers.SettingPage.editSettings.description",defaultMessage:"Drag & drop the fields to build the layout"})))),r.default.createElement(y.default,null)),r.default.createElement(u.Box,{padding:4,hasRadius:!0,borderStyle:"dashed",borderWidth:"1px",borderColor:"neutral300"},r.default.createElement(s.Stack,{spacing:2},t.map(((e,t)=>r.default.createElement(g.default,{key:e.rowId,row:e,rowIndex:t,onRemoveField:n}))),r.default.createElement(f.SimpleMenu,{id:"label",label:b({id:(0,m.getTrad)("containers.SettingPage.add.field"),defaultMessage:"Insert another field"}),as:i.Button,"data-testid":"add-field",fullWidth:!0,startIcon:r.default.createElement(p.default,null),endIcon:null,variant:"secondary",disabled:0===a.length},a.map((e=>r.default.createElement(f.MenuItem,{key:e,onClick:()=>l(e)},e)))))))};b.propTypes={editLayout:l.default.array.isRequired,editLayoutRemainingFields:l.default.array.isRequired,onAddField:l.default.func.isRequired,onRemoveField:l.default.func.isRequired};var h=b;t.default=h},19039:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(27361)),o=n(a(45697)),i=a(40264),u=a(33483),d=a(94117),s=a(9524),c=a(67814),f=n(a(78384)),p=a(39711),m=n(a(9196));const g=(0,f.default)(i.Flex).withConfig({displayName:"DynamicZoneList__CustomFlex",componentId:"sc-1v54jae-0"})(["border-radius:50%;svg{& > *{fill:",";}width:12px;height:12px;}"],(e=>{let{theme:t}=e;return t.colors.neutral500})),y=(0,f.default)(i.Flex).withConfig({displayName:"DynamicZoneList__CustomLink",componentId:"sc-1v54jae-1"})(["text-decoration:none;&:hover{","}"],(e=>{let{theme:t}=e;return`\n      background: ${t.colors.primary100};\n      svg {\n        & > * {\n          fill: ${t.colors.primary600};\n        }\n      }\n      ${u.Typography} {\n          color: ${t.colors.primary600};\n      }\n      ${g} {\n        background: ${t.colors.primary200};\n      }\n      border-color: ${t.colors.primary200};\n    `})),b=e=>{let{components:t}=e;const{componentLayouts:a}=(0,m.default)();return r.default.createElement(s.Stack,{spacing:2,horizontal:!0,overflow:"scroll hidden",padding:3},t.map((e=>r.default.createElement(y,{hasRadius:!0,background:"neutral0",justifyContent:"center",alignItems:"center",height:"5.25rem",minWidth:"8.75rem",key:e,padding:2,direction:"column",borderColor:"neutral200",as:p.Link,to:`/content-manager/components/${e}/configurations/edit`},r.default.createElement(g,{width:"2rem",height:"2rem",background:"neutral150",justifyContent:"center",alignItems:"center",padding:2},r.default.createElement(c.FontAwesomeIcon,{icon:(0,l.default)(a,[e,"info","icon"],"")})),r.default.createElement(d.Box,{paddingTop:1},r.default.createElement(u.Typography,{fontSize:1,textColor:"neutral600",fontWeight:"bold"},(0,l.default)(a,[e,"info","displayName"],"")))))))};b.propTypes={components:o.default.arrayOf(o.default.string).isRequired};var h=b;t.default=h},95684:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(78384)),o=n(a(45697)),i=a(97132),u=a(94117),d=a(40264),s=a(49549),c=a(33483),f=n(a(56204)),p=n(a(62982)),m=a(28564),g=n(a(65067)),y=n(a(19039));const b=(0,l.default)(s.IconButton).withConfig({displayName:"FieldButtonContent__CustomIconButton",componentId:"sc-fps4fp-0"})(["background-color:transparent;path{fill:",";}"],(e=>{let{theme:t}=e;return t.colors.neutral600})),h=e=>{let{attribute:t,onEditField:a,onDeleteField:n,children:l}=e;const{formatMessage:o}=(0,i.useIntl)();return r.default.createElement(u.Box,{overflow:"hidden",width:"100%"},r.default.createElement(d.Flex,{paddingLeft:3,alignItems:"center",justifyContent:"space-between"},r.default.createElement(c.Typography,{fontWeight:"semiBold",textColor:"neutral800",ellipsis:!0},l),r.default.createElement(d.Flex,null,r.default.createElement(b,{label:o({id:(0,m.getTrad)("containers.ListSettingsView.modal-form.edit-label"),defaultMessage:"Edit {fieldName}"},{fieldName:l}),onClick:a,icon:r.default.createElement(f.default,null),noBorder:!0}),r.default.createElement(b,{label:o({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:l}),"data-testid":"delete-field",onClick:n,icon:r.default.createElement(p.default,null),noBorder:!0}))),"component"===(null===t||void 0===t?void 0:t.type)&&r.default.createElement(g.default,{componentUid:t.component}),"dynamiczone"===(null===t||void 0===t?void 0:t.type)&&r.default.createElement(y.default,{components:t.components}))};h.defaultProps={attribute:void 0},h.propTypes={attribute:o.default.shape({components:o.default.array,component:o.default.string,type:o.default.string}),onEditField:o.default.func.isRequired,onDeleteField:o.default.func.isRequired,children:o.default.string.isRequired};var v=h;t.default=v},71667:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(11700)),u=a(68991),d=a(33483),s=a(64459),c=a(40264),f=a(39272),p=n(a(78384)),m=a(28564),g=a(14772),y=n(a(74373)),b=n(a(75007));const h=(0,p.default)(c.Flex).withConfig({displayName:"FormModal__HeaderContainer",componentId:"sc-jabfhd-0"})(["svg{width:","rem;height:","rem;margin-right:",";}"],2,1.5,(e=>{let{theme:t}=e;return t.spaces[3]})),v=e=>{let{onToggle:t,onMetaChange:a,onSizeChange:n,onSubmit:l,type:c}=e;const{selectedField:p}=(0,g.useLayoutDnd)(),{formatMessage:v}=(0,o.useIntl)();return r.default.createElement(u.ModalLayout,{onClose:t,labelledBy:"title"},r.default.createElement("form",{onSubmit:l},r.default.createElement(u.ModalHeader,null,r.default.createElement(h,null,r.default.createElement(y.default,{type:"timestamp"===c?"date":["decimal","float","integer","biginter"].includes(c)?"number":c}),r.default.createElement(d.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},v({id:(0,m.getTrad)("containers.ListSettingsView.modal-form.edit-label"),defaultMessage:"Edit {fieldName}"},{fieldName:(0,i.default)(p)})))),r.default.createElement(u.ModalBody,null,r.default.createElement(f.Grid,{gap:4},r.default.createElement(b.default,{onMetaChange:a,onSizeChange:n}))),r.default.createElement(u.ModalFooter,{startActions:r.default.createElement(s.Button,{onClick:t,variant:"tertiary"},v({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:r.default.createElement(s.Button,{type:"submit"},v({id:"global.finish",defaultMessage:"Finish"}))})))};v.propTypes={onSubmit:l.default.func.isRequired,onToggle:l.default.func.isRequired,onMetaChange:l.default.func.isRequired,onSizeChange:l.default.func.isRequired,type:l.default.string.isRequired};var E=v;t.default=E},88544:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=a(99136),u=a(53575),d=a(2632),s=a(97132);const c=e=>{let{type:t,options:a,onChange:n,value:o,name:c,...f}=e;const{formatMessage:p}=(0,s.useIntl)();switch(t){case"text":return l.default.createElement(i.TextInput,(0,r.default)({onChange:n,value:o,name:c},f));case"bool":return l.default.createElement(u.ToggleInput,(0,r.default)({onChange:e=>{n({target:{name:c,value:e.target.checked}})},checked:o,name:c,onLabel:p({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),offLabel:p({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"})},f));case"select":return l.default.createElement(d.Select,(0,r.default)({value:o,name:c,onChange:e=>n({target:{name:c,value:e}})},f),a.map((e=>l.default.createElement(d.Option,{key:e,value:e},e))));default:return null}};c.defaultProps={options:void 0},c.propTypes={type:o.default.string.isRequired,options:o.default.arrayOf(o.default.string),onChange:o.default.func.isRequired,value:o.default.oneOfType([o.default.string,o.default.bool]).isRequired,name:o.default.string.isRequired};var f=c;t.default=f},20519:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(68547),o=a(97132),i=n(a(27361)),u=a(31512),d=n(a(56204)),s=n(a(36169)),c=n(a(9196));const f=[{action:"plugin::content-type-builder.read",subject:null}];var p=()=>{const{trackUsage:e}=(0,l.useTracking)(),{formatMessage:t}=(0,o.useIntl)(),{slug:a,modifiedData:n,isContentTypeView:p}=(0,c.default)(),m=p?"content-types":"components",g=`/plugins/content-type-builder/${"content-types"===m?m:"component-categories"}`,y=(0,i.default)(n,"category",""),b="content-types"===m?a:`${y}/${a}`;return"strapi::administrator"===a?null:r.default.createElement(l.CheckPermissions,{permissions:f},r.default.createElement(u.LinkButton,{to:`${g}/${b}`,onClick:()=>{e("willEditEditLayout")},size:"S",startIcon:r.default.createElement(d.default,null),variant:"secondary"},t({id:(0,s.default)(`edit-settings-view.link-to-ctb.${m}`),defaultMessage:"Edit the content type"})))};t.default=p},75007:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=n(a(27361)),i=a(39272),u=a(2632),d=a(37424),s=a(97132),c=a(14772),f=a(13107),p=a(19763),m=n(a(36169)),g=n(a(88544));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const b=[[4,"33%"],[6,"50%"],[8,"66%"],[12,"100%"]],h=["dynamiczone","component","json","richtext"],v=e=>{let{onMetaChange:t,onSizeChange:a}=e;const{formatMessage:n}=(0,s.useIntl)(),{modifiedData:l,selectedField:y,attributes:v,fieldForm:E}=(0,c.useLayoutDnd)(),M=(0,r.useMemo)(p.makeSelectModelAndComponentSchemas,[]),{schemas:C}=(0,d.useSelector)((e=>M(e)),d.shallowEqual),O=(0,r.useMemo)((()=>{if(!y)return[];const e=(0,o.default)(l,["metadatas",y,"edit"],{});return Object.keys(e).filter((e=>"visible"!==e))}),[y,l]),_=(0,r.useMemo)((()=>(0,f.createPossibleMainFieldsForModelsAndComponents)(C)),[C]),R=(0,r.useCallback)((e=>{if("relation"!==e&&"component"!==e)return[];const t="component"===e?"component":"targetModel",a=(0,o.default)(l,["attributes",y,t],"");return(0,o.default)(_,[a],[])}),[y,_,l]),w=O.map((e=>{const a=(0,o.default)(v,[y,"type"]);return"dynamiczone"===a||"component"===a&&!["label","description"].includes(e)||"component"===a&&"label"!==e||["media","json","boolean"].includes(a)&&"placeholder"===e?null:r.default.createElement(i.GridItem,{col:6,key:e},r.default.createElement(g.default,{type:(0,f.getInputProps)(e).type,hint:"mainField"===e?n({id:(0,m.default)("containers.SettingPage.editSettings.relation-field.description")}):"",label:n({id:(0,o.default)((0,f.getInputProps)(e),"label.id","app.utils.defaultMessage")}),name:e,onChange:t,value:(0,o.default)(E,["metadata",e],""),options:R(a)}))})),k=!h.includes(v[y].type),T=r.default.createElement(i.GridItem,{col:6,key:"size"},r.default.createElement(u.Select,{value:null===E||void 0===E?void 0:E.size,name:"size",onChange:e=>{a({name:y,value:e})},label:n({id:(0,m.default)("containers.SettingPage.editSettings.size.label"),defaultMessage:"Size"})},b.map((e=>{let[t,a]=e;return r.default.createElement(u.Option,{key:t,value:t},a)}))));return r.default.createElement(r.default.Fragment,null,w,k&&T)};v.propTypes={onMetaChange:l.default.func.isRequired,onSizeChange:l.default.func.isRequired};var E=v;t.default=E},50225:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(78384)),o=n(a(45697)),i=a(99168),u=a(61080),d=a(40264),s=n(a(58506)),c=a(28564),f=n(a(95684));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m=(0,l.default)(s.default).withConfig({displayName:"RelationalFieldButton__CustomDragIcon",componentId:"sc-1fz9b02-0"})(["height:","rem;width:","rem;path{fill:",";}"],.75,.75,(e=>{let{theme:t}=e;return t.colors.neutral600})),g=(0,l.default)(d.Flex).withConfig({displayName:"RelationalFieldButton__CustomFlex",componentId:"sc-1fz9b02-1"})(["opacity:",";"],(e=>{let{isDragging:t}=e;return t?0:1})),y=(0,l.default)(d.Flex).withConfig({displayName:"RelationalFieldButton__DragButton",componentId:"sc-1fz9b02-2"})(["cursor:all-scroll;border-right:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.neutral200})),b=e=>{let{attribute:t,onEditField:a,onDeleteField:n,children:l,index:o,name:d,onMoveField:s}=e;const p=(0,r.useRef)(),[,b]=(0,i.useDrop)({accept:c.ItemTypes.EDIT_RELATION,hover(e){if(!p.current)return;const t=e.index,a=o;t!==a&&(s(t,a),e.index=a)}}),[{isDragging:h},v,E]=(0,i.useDrag)({type:c.ItemTypes.EDIT_RELATION,item:()=>({index:o,labelField:l,name:d}),collect:e=>({isDragging:e.isDragging()})});(0,r.useEffect)((()=>{E((0,u.getEmptyImage)(),{captureDraggingState:!0})}),[E]),v(b(p));return r.default.createElement(g,{width:"100%",borderColor:"neutral150",hasRadius:!0,background:"neutral100",minHeight:t&&["json","text","file","media","component","richtext","dynamiczone"].includes(t.type)?"4.625rem":"2rem",alignItems:"stretch",isDragging:h},r.default.createElement(y,{as:"span",type:"button",ref:p,onClick:e=>e.stopPropagation(),alignItems:"center",paddingLeft:3,paddingRight:3,tabIndex:-1},r.default.createElement(m,null)),r.default.createElement(f.default,{attribute:t,onEditField:a,onDeleteField:n},l))};b.defaultProps={attribute:void 0},b.propTypes={attribute:o.default.shape({components:o.default.array,component:o.default.string,type:o.default.string}),onEditField:o.default.func.isRequired,onDeleteField:o.default.func.isRequired,children:o.default.string.isRequired,index:o.default.number.isRequired,name:o.default.string.isRequired,onMoveField:o.default.func.isRequired};var h=b;t.default=h},8010:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(27361)),i=a(97132),u=a(64459),d=a(94117),s=a(33483),c=a(9524),f=a(12615),p=n(a(89326)),m=a(28564),g=a(14772),y=n(a(50225));const b=e=>{let{relationsLayout:t,editRelationsLayoutRemainingFields:a,onRemoveField:n,onAddField:l}=e;const{formatMessage:b}=(0,i.useIntl)(),{setEditFieldToSelect:h,modifiedData:v,onMoveRelation:E}=(0,g.useLayoutDnd)();return r.default.createElement(c.Stack,{spacing:4},r.default.createElement("div",null,r.default.createElement(d.Box,null,r.default.createElement(s.Typography,{fontWeight:"bold"},b({id:(0,m.getTrad)("containers.SettingPage.relations"),defaultMessage:"Relational fields"}))),r.default.createElement(d.Box,null,r.default.createElement(s.Typography,{variant:"pi",textColor:"neutral600"},b({id:"containers.SettingPage.editSettings.description",defaultMessage:"Drag & drop the fields to build the layout"})))),r.default.createElement(d.Box,{padding:4,hasRadius:!0,borderStyle:"dashed",borderWidth:"1px",borderColor:"neutral300"},r.default.createElement(c.Stack,{spacing:2},t.map(((e,t)=>{const a=(0,o.default)(v,["metadatas",e,"edit","label"],"");return r.default.createElement(y.default,{onEditField:()=>h(e),onDeleteField:()=>n(t),key:e,index:t,name:e,onMoveField:E},a||e)})),r.default.createElement(f.SimpleMenu,{id:"label",label:b({id:"containers.SettingPage.add.relational-field",defaultMessage:"Insert another relational field"}),"data-testid":"add-relation",as:u.Button,fullWidth:!0,startIcon:r.default.createElement(p.default,null),endIcon:null,variant:"secondary",disabled:0===a.length},a.map((e=>r.default.createElement(f.MenuItem,{id:`menuItem-${e}`,key:`menuItem-${e}`,onClick:()=>l(e)},e)))))))};b.propTypes={relationsLayout:l.default.array.isRequired,editRelationsLayoutRemainingFields:l.default.array.isRequired,onRemoveField:l.default.func.isRequired,onAddField:l.default.func.isRequired};var h=b;t.default=h},10198:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(27361)),i=a(14772),u=n(a(73566));const d=e=>{let{rowItem:t,onRemoveField:a,rowId:n,rowIndex:l,index:d,lastIndex:s}=e;const{setEditFieldToSelect:c,attributes:f,modifiedData:p,moveRow:m,moveItem:g}=(0,i.useLayoutDnd)(),y=(0,o.default)(f,[t.name],{}),b=(0,o.default)(p,["metadatas",t.name,"edit","label"],"");return r.default.createElement(u.default,{onEditField:()=>c(t.name),onDeleteField:()=>a(n,d),attribute:y,index:d,lastIndex:s,rowIndex:l,name:t.name,size:t.size,moveRow:m,moveItem:g},b||t.name)};d.propTypes={index:l.default.number.isRequired,lastIndex:l.default.number.isRequired,onRemoveField:l.default.func.isRequired,rowId:l.default.number.isRequired,rowIndex:l.default.number.isRequired,rowItem:l.default.object.isRequired};var s=d;t.default=s},79075:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(39272),i=n(a(10198));const u=e=>{let{row:t,onRemoveField:a,rowIndex:n}=e;return r.default.createElement(o.Grid,null,t.rowContent.map(((e,l)=>r.default.createElement(i.default,{key:e.name,rowItem:e,index:l,rowId:t.rowId,onRemoveField:a,rowIndex:n,lastIndex:t.rowContent.length-1}))))};u.propTypes={onRemoveField:l.default.func.isRequired,row:l.default.object.isRequired,rowIndex:l.default.number.isRequired};var d=u;t.default=d},40224:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=B(a(53547)),l=n(a(45697)),o=a(97132),i=a(23724),u=n(a(11700)),d=n(a(78718)),s=n(a(50361)),c=n(a(94654)),f=n(a(18446)),p=n(a(27361)),m=n(a(36968)),g=a(68547),y=a(39711),b=a(80117),h=a(35395),v=a(56156),E=a(64459),M=a(94117),C=a(33483),O=a(39272),_=a(2632),R=a(9524),w=a(97833),k=n(a(87760)),T=n(a(22754)),P=a(28564),x=B(a(74569)),j=n(a(98608)),D=n(a(66650)),I=n(a(8010)),S=n(a(71667)),q=n(a(95758)),F=a(28550),L=n(a(1189));function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}const N=e=>{let{mainLayout:t,components:a,isContentTypeView:n,slug:l,updateLayout:A}=e;const[B,N]=(0,r.useReducer)(x.default,x.initialState,(()=>(0,j.default)(x.initialState,t,a))),[W,$]=(0,r.useState)(!1),{trackUsage:U}=(0,g.useTracking)(),z=(0,g.useNotification)(),{goBack:V}=(0,y.useHistory)(),[H,G]=(0,r.useState)(!1),[Z,Q]=(0,r.useState)(!1),{componentLayouts:Y,initialData:K,modifiedData:J,metaToEdit:X,metaForm:ee}=B,{formatMessage:te}=(0,o.useIntl)(),ae=(0,p.default)(t,["info","displayName"],""),ne=(0,p.default)(J,["attributes"],{}),re=Object.keys(ne).filter((e=>{const t=(0,p.default)(ne,[e,"type"],"");return!["dynamiczone","json","text","relation","component","boolean","date","media","richtext","timestamp"].includes(t)&&!!t})),le=(0,p.default)(J,["layouts","edit"],[]),oe=(0,c.default)(le,"rowContent"),ie=Object.keys(J.attributes).filter((e=>!n||"relation"!==(0,p.default)(J,["attributes",e,"type"],""))).filter((e=>!0===(0,p.default)(J,["metadatas",e,"edit","visible"],!1))).filter((e=>-1===oe.findIndex((t=>t.name===e)))).sort(),ue=(0,p.default)(J,["layouts","editRelations"],[]),de=Object.keys(ne).filter((e=>"relation"===ne[e].type)).filter((e=>-1===ue.indexOf(e))),se=()=>{G((e=>!e))},ce=()=>{Q((e=>!e))},fe=(0,i.useMutation)((e=>(0,L.default)(e,l,n)),{onSuccess:e=>{let{data:t}=e;A&&A(t.data),N({type:"SUBMIT_SUCCEEDED"}),ce(),U("didEditEditSettings")},onError:()=>{z({type:"warning",message:{id:"notification.error"}})}}),{isLoading:pe}=fe;return r.default.createElement(q.default,{isContentTypeView:n,attributes:ne,modifiedData:J,slug:l,componentLayouts:Y,selectedField:X,fieldForm:ee,onMoveRelation:(e,t)=>{N({type:"MOVE_RELATION",fromIndex:e,toIndex:t})},onMoveField:(e,t)=>{N({type:"MOVE_FIELD",fromIndex:e,toIndex:t})},moveRow:(e,t)=>{N({type:"MOVE_ROW",fromIndex:e,toIndex:t})},moveItem:(e,t,a,n)=>{N(a===n?{type:"REORDER_ROW",dragRowIndex:a,dragIndex:e,hoverIndex:t}:{type:"REORDER_DIFF_ROW",dragIndex:e,hoverIndex:t,dragRowIndex:a,hoverRowIndex:n})},setEditFieldToSelect:e=>{N({type:"SET_FIELD_TO_EDIT",name:e}),se()},isDraggingSibling:W,setIsDraggingSibling:$},r.default.createElement(b.Main,null,r.default.createElement("form",{onSubmit:e=>{e.preventDefault(),ce()}},r.default.createElement(h.HeaderLayout,{title:te({id:(0,P.getTrad)("components.SettingsViewWrapper.pluginHeader.title"),defaultMessage:`Configure the view - ${(0,u.default)(ae)}`},{name:(0,u.default)(ae)}),subtitle:te({id:(0,P.getTrad)("components.SettingsViewWrapper.pluginHeader.description.edit-settings"),defaultMessage:"Customize how the edit view will look like."}),navigationAction:r.default.createElement(v.Link,{startIcon:r.default.createElement(k.default,null),onClick:e=>{e.preventDefault(),V()},to:"/"},te({id:"global.back",defaultMessage:"Back"})),primaryAction:r.default.createElement(E.Button,{disabled:(0,f.default)(K,J),startIcon:r.default.createElement(T.default,null),type:"submit"},te({id:"global.save",defaultMessage:"Save"}))}),r.default.createElement(h.ContentLayout,null,r.default.createElement(M.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},r.default.createElement(R.Stack,{spacing:4},r.default.createElement(C.Typography,{variant:"delta",as:"h2"},te({id:(0,P.getTrad)("containers.SettingPage.settings"),defaultMessage:"Settings"})),r.default.createElement(O.Grid,null,r.default.createElement(O.GridItem,{col:6,s:12},r.default.createElement(_.Select,{label:te({id:(0,P.getTrad)("containers.SettingPage.editSettings.entry.title"),defaultMessage:"Entry title"}),hint:te({id:(0,P.getTrad)("containers.SettingPage.editSettings.entry.title.description"),defaultMessage:"Set the display field of your entry"}),onChange:e=>{(e=>{let{target:{name:t,value:a}}=e;N({type:"ON_CHANGE",keys:t.split("."),value:a})})({target:{name:"settings.mainField",value:""===e?null:e}})},value:J.settings.mainField},re.map((e=>r.default.createElement(_.Option,{key:e,value:e},e)))))),r.default.createElement(M.Box,{paddingTop:2,paddingBottom:2},r.default.createElement(w.Divider,null)),r.default.createElement(C.Typography,{variant:"delta",as:"h3"},te({id:(0,P.getTrad)("containers.SettingPage.view"),defaultMessage:"View"})),r.default.createElement(O.Grid,{gap:4},r.default.createElement(O.GridItem,{col:n?8:12,s:12},r.default.createElement(D.default,{attributes:ne,editLayout:le,editLayoutRemainingFields:ie,onAddField:e=>{N({type:"ON_ADD_FIELD",name:e})},onRemoveField:(e,t)=>{N({type:"REMOVE_FIELD",rowIndex:e,fieldIndex:t})}})),n&&r.default.createElement(O.GridItem,{col:4,s:12},r.default.createElement(I.default,{editRelationsLayoutRemainingFields:de,relationsLayout:ue,onAddField:e=>N({type:"ADD_RELATION",name:e}),onRemoveField:e=>N({type:"REMOVE_RELATION",index:e})})))))),r.default.createElement(g.ConfirmDialog,{bodyText:{id:(0,P.getTrad)("popUpWarning.warning.updateAllSettings"),defaultMessage:"This will modify all your settings"},iconRightButton:r.default.createElement(T.default,null),isConfirmButtonLoading:pe,isOpen:Z,onToggleDialog:ce,onConfirm:()=>{const e=(0,d.default)((0,s.default)(J),["layouts","metadatas","settings"]);(0,m.default)(e,"layouts.edit",(0,F.unformatLayout)(e.layouts.edit)),fe.mutate(e)},variantRightButton:"success-light"})),H&&r.default.createElement(S.default,{onSubmit:e=>{e.preventDefault(),N({type:"SUBMIT_META_FORM"}),se()},onToggle:se,type:(0,p.default)(ne,[X,"type"],""),onMetaChange:e=>{let{target:{name:t,value:a}}=e;N({type:"ON_CHANGE_META",keys:t.split("."),value:a})},onSizeChange:e=>{let{name:t,value:a}=e;N({type:"ON_CHANGE_SIZE",name:t,value:a})}})))};N.defaultProps={isContentTypeView:!1,updateLayout:null},N.propTypes={components:l.default.object.isRequired,isContentTypeView:l.default.bool,mainLayout:l.default.shape({attributes:l.default.object.isRequired,info:l.default.object.isRequired,layouts:l.default.shape({list:l.default.array.isRequired,editRelations:l.default.array.isRequired,edit:l.default.array.isRequired}).isRequired,metadatas:l.default.object.isRequired,options:l.default.object.isRequired}).isRequired,slug:l.default.string.isRequired,updateLayout:l.default.func};var W=N;t.default=W},98608:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=a(28550);var l=(e,t,a)=>{let l=(0,n.cloneDeep)(t);return(0,n.set)(l,["layouts","edit"],(0,r.formatLayout)((0,r.createLayout)(t.layouts.edit))),{...e,initialData:l,modifiedData:l,componentLayouts:a}};t.default=l},74569:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(66312)),l=n(a(36968)),o=n(a(27361)),i=n(a(50361)),u=a(28564),d=a(28550);const s={fieldForm:{},componentLayouts:{},metaToEdit:"",initialData:{},metaForm:{},modifiedData:{}};t.initialState=s;var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)(e,(a=>{const n=["modifiedData","layouts","edit"],r=["modifiedData","layouts","editRelations"];switch(t.type){case"ADD_RELATION":{const n=(0,o.default)(e,r,[]);(0,l.default)(a,r,[...n,t.name]);break}case"MOVE_RELATION":{const n=(0,o.default)(e,r,[]),{fromIndex:i,toIndex:d}=t;(0,l.default)(a,r,(0,u.arrayMoveItem)(n,i,d));break}case"MOVE_ROW":{const r=(0,o.default)(e,n,[]),{fromIndex:i,toIndex:d}=t;(0,l.default)(a,n,(0,u.arrayMoveItem)(r,i,d));break}case"ON_ADD_FIELD":{const r=(0,i.default)(e),u=(0,d.getDefaultInputSize)((0,o.default)(r,["modifiedData","attributes",t.name,"type"],"")),s=(0,o.default)(r,n,[]).length,c=[...n,s-1,"rowContent"],f=(0,o.default)(r,c,[]);let p=(0,o.default)(r,n,[]);Array.isArray(f)?(0,l.default)(p,[s>0?s-1:0,"rowContent"],[...f,{name:t.name,size:u}]):(0,l.default)(p,[s>0?s-1:0,"rowContent"],[{name:t.name,size:u}]);const m=(0,d.formatLayout)(p);(0,l.default)(a,n,m);break}case"ON_CHANGE":(0,l.default)(a,["modifiedData",...t.keys],t.value);break;case"ON_CHANGE_META":(0,l.default)(a,["metaForm","metadata",...t.keys],t.value);break;case"ON_CHANGE_SIZE":(0,l.default)(a,["metaForm","size"],t.value);break;case"ON_RESET":a.modifiedData=e.initialData;break;case"REMOVE_FIELD":{const r=(0,o.default)(e,[...n,t.rowIndex,"rowContent"],[]);let u=(0,i.default)(e);if(1===r.length||2===r.length&&"_TEMP_"===(0,o.default)(r,[1,"name"],"")){const a=(0,o.default)(e,n,[]);(0,l.default)(u,n,a.filter(((e,a)=>t.rowIndex!==a)))}else(0,l.default)(u,[...n,t.rowIndex,"rowContent"],r.filter(((e,a)=>a!==t.fieldIndex)));const s=(0,d.formatLayout)((0,o.default)(u,n,[]));(0,l.default)(a,n,s);break}case"REMOVE_RELATION":{const n=(0,o.default)(e,r,[]);(0,l.default)(a,r,n.filter(((e,a)=>t.index!==a)));break}case"REORDER_DIFF_ROW":{const r=(0,o.default)(e,[...n,t.dragRowIndex,"rowContent"],[]),s=[...(0,o.default)(e,[...n,t.hoverRowIndex,"rowContent"],[]),(0,o.default)(e,[...n,t.dragRowIndex,"rowContent",t.dragIndex],{})];let c=(0,i.default)(e);(0,l.default)(c,[...n,t.dragRowIndex,"rowContent"],r.filter(((e,a)=>t.dragIndex!==a))),(0,l.default)(c,[...n,t.hoverRowIndex,"rowContent"],(0,u.arrayMoveItem)(s,s.length-1,t.hoverIndex));const f=(0,d.formatLayout)((0,o.default)(c,n,[]));(0,l.default)(a,n,f);break}case"REORDER_ROW":{const r=(0,i.default)(e),s=(0,o.default)(r,[...n,t.dragRowIndex,"rowContent"],[]);(0,l.default)(r,[...n,t.dragRowIndex,"rowContent"],(0,u.arrayMoveItem)(s,t.dragIndex,t.hoverIndex));const c=(0,d.formatLayout)((0,o.default)(r,n,[]));(0,l.default)(a,n,c);break}case"SET_FIELD_TO_EDIT":var s,c;a.metaToEdit=t.name,a.metaForm={metadata:(0,o.default)(e,["modifiedData","metadatas",t.name,"edit"],{}),size:(0,d.getFieldSize)(t.name,null===(s=e.modifiedData)||void 0===s||null===(c=s.layouts)||void 0===c?void 0:c.edit)??(0,d.getDefaultInputSize)()};break;case"SUBMIT_META_FORM":{(0,l.default)(a,["modifiedData","metadatas",e.metaToEdit,"edit"],e.metaForm.metadata);const t=(0,i.default)((0,o.default)(e,n,[])),r=(0,d.setFieldSize)(e.metaToEdit,e.metaForm.size,t);r.length>0&&(0,l.default)(a,n,(0,d.formatLayout)(r));break}case"SUBMIT_SUCCEEDED":a.initialData=e.modifiedData;break;case"UNSET_FIELD_TO_EDIT":a.metaToEdit="",a.metaForm={};break;default:return a}}))};t.default=c},1189:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53777),r=a(28564);var l=(e,t,a)=>n.axiosInstance.put((0,r.getRequestUrl)(a?`content-types/${t}/configuration`:`components/${t}/configuration`),e);t.default=l},71830:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=e=>e.reduce(((e,t)=>{const a=(0,n.get)(t,["attributes"],{}),r=Object.keys(a).filter((e=>!["boolean","component","dynamiczone","json","media","password","relation","text","richtext"].includes((0,n.get)(a,[e,"type"],""))));return e[t.uid]=r,e}),{});t.default=r},357:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(28564);var r=e=>{let t;switch(e){case"description":case"label":case"placeholder":t="text";break;case"mainField":t="select";break;case"editable":t="bool";break;default:t=""}return{type:t,label:{id:"mainField"===e?(0,n.getTrad)("containers.SettingPage.editSettings.entry.title"):(0,n.getTrad)(`form.Input.${e}`)}}};t.default=r},13107:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createPossibleMainFieldsForModelsAndComponents",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getInputProps",{enumerable:!0,get:function(){return l.default}});var r=n(a(71830)),l=n(a(357))},28550:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unformatLayout=t.setFieldSize=t.getRowSize=t.getFieldSize=t.getDefaultInputSize=t.formatLayout=t.createLayout=void 0;const a=e=>e.reduce(((e,t)=>e+t.size),0);t.getRowSize=a;t.createLayout=e=>e.reduce(((e,t,a)=>{const n={rowId:a,rowContent:t};return e.concat(n)}),[]);t.formatLayout=e=>e.reduce(((e,t)=>{let n=[];const r=t.rowContent.reduce(((e,t)=>{const r=a(e);return"_TEMP_"===t.name||(r+t.size<=12?e.push(t):n.push(t)),e}),[]),l=0===e.length?0:Math.max.apply(Math,e.map((e=>e.rowId)))+1,o=a(r);if(o<12&&r.push({name:"_TEMP_",size:12-o}),e.push({rowId:l,rowContent:r}),n.length>0){const t=a(n);t<12&&n.push({name:"_TEMP_",size:12-t}),e.push({rowId:l+1,rowContent:n}),n=[]}return e}),[]).filter((e=>e.rowContent.length>0)).filter((e=>1!==e.rowContent.length||"_TEMP_"!==e.rowContent[0].name));t.unformatLayout=e=>e.reduce(((e,t)=>{const a=t.rowContent.filter((e=>"_TEMP_"!==e.name));return e.concat([a])}),[]);t.getDefaultInputSize=e=>{switch(e){case"boolean":case"date":case"integer":case"float":case"biginteger":case"decimal":case"time":return 4;case"json":case"component":case"richtext":case"dynamiczone":return 12;default:return 6}};t.getFieldSize=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((t,a)=>{var n;let{rowContent:r}=a;const l=(null===(n=r.find((t=>t.name===e)))||void 0===n?void 0:n.size)??null;return l&&(t=l),t}),null)};t.setFieldSize=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).map((a=>(a.rowContent=a.rowContent.map((a=>a.name===e?{...a,size:t}:a)),a)))}},1260:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=n(a(45697)),i=a(68547),u=n(a(69590)),d=n(a(13420)),s=a(28564);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const f=e=>{const t=(0,l.useMemo)((()=>(0,s.generatePermissionsObject)(e.slug)),[e.slug]),{isLoading:a,allowedActions:n}=(0,i.useRBAC)(t,e.userPermissions);return a?l.default.createElement(i.LoadingIndicatorPage,null):l.default.createElement(d.default,(0,r.default)({},e,{allowedActions:n}))};f.defaultProps={permissions:[]},f.propTypes={permissions:o.default.array,slug:o.default.string.isRequired,userPermissions:o.default.array.isRequired};var p=(0,l.memo)(f,u.default);t.default=p},70595:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLayout=t.resetProps=void 0;var n=a(79906);t.resetProps=()=>({type:n.RESET_PROPS});t.setLayout=(e,t)=>({type:n.SET_LAYOUT,layout:e,query:t})},11427:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=n(a(45697)),i=a(37424),u=a(68547),d=a(29499),s=a(14772),c=a(70595),f=n(a(94622)),p=n(a(1260));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=e=>{let{layout:t,...a}=e;const n=(0,i.useSelector)(f.default),o=(0,i.useDispatch)(),[{query:m}]=(0,u.useQueryParams)(),{runHookWaterfall:g}=(0,u.useStrapiApp)(),y=(0,s.useSyncRbac)(m,a.slug,"editView");return(0,l.useEffect)((()=>{const e=g(d.MUTATE_EDIT_VIEW_LAYOUT,{layout:t,query:m});return o((0,c.setLayout)(e.layout,m)),()=>{o((0,c.resetProps)())}}),[t,o,m,g]),n&&y?l.default.createElement(p.default,(0,r.default)({},a,{layout:n,userPermissions:y})):l.default.createElement(u.LoadingIndicatorPage,null)};g.propTypes={layout:o.default.shape({components:o.default.object.isRequired,contentType:o.default.shape({uid:o.default.string.isRequired,settings:o.default.object.isRequired,metadatas:o.default.object.isRequired,options:o.default.object.isRequired,attributes:o.default.object.isRequired}).isRequired}).isRequired};var y=g;t.default=y},94622:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>e["content-manager_editViewLayoutManager"].currentLayout;t.default=a},96155:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(97132),o=n(a(27361)),i=n(a(69590)),u=a(64459),d=n(a(62982)),s=a(68547),c=n(a(45697)),f=a(28564),p=a(87227);function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=e=>{let{isCreatingEntry:t,onDelete:a,onDeleteSucceeded:n,trackerProperty:i}=e;const[c,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),{formatMessage:y}=(0,l.useIntl)(),b=(0,s.useNotification)(),h=()=>p((e=>!e));return t?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Button,{onClick:h,size:"S",startIcon:r.default.createElement(d.default,null),variant:"danger-light"},y({id:(0,f.getTrad)("containers.Edit.delete-entry"),defaultMessage:"Delete this entry"})),r.default.createElement(s.ConfirmDialog,{isConfirmButtonLoading:m,isOpen:c,onConfirm:async()=>{try{g(!0),await a(i),g(!1),h(),n()}catch(e){const t=(0,o.default)(e,"response.payload.message",y({id:(0,f.getTrad)("error.record.delete")}));g(!1),h(),b({type:"warning",message:t})}},onToggleDialog:h}))};g.propTypes={isCreatingEntry:c.default.bool.isRequired,onDelete:c.default.func.isRequired,onDeleteSucceeded:c.default.func.isRequired,trackerProperty:c.default.object.isRequired};const y=(0,r.memo)(g,i.default);var b=(0,p.connect)(y,p.select);t.default=b},42404:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t();return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},87227:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return l.default}});var r=n(a(42404)),l=n(a(35591))},35591:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=a(68547);var l=function(){const{hasDraftAndPublish:e,modifiedData:t}=(0,r.useCMEditViewDataManager)();let a={};if(e){a=(0,n.isEmpty)(t.publishedAt)?{status:"draft"}:{status:"published"}}return{hasDraftAndPublish:e,trackerProperty:a}};t.default=l},18382:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DraftAndPublishBadge=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=a(97132),u=n(a(78384)),d=a(94117),s=a(40264),c=a(33483),f=n(a(33109)),p=a(68547),m=a(28564),g=a(62090);const y=(0,u.default)(f.default).withConfig({displayName:"DraftAndPublishBadge__CustomBullet",componentId:"sc-q3ebj8-0"})(["width:",";height:",";*{fill:",";}"],(0,p.pxToRem)(6),(0,p.pxToRem)(6),(e=>{let{theme:t,$bulletColor:a}=e;return t.colors[a]})),b=e=>{let{hasDraftAndPublish:t,isPublished:a}=e;const{formatMessage:n}=(0,i.useIntl)();if(!t)return null;const o={draft:{textColor:"secondary700",bulletColor:"secondary600",box:{background:"secondary100",borderColor:"secondary200"}},published:{textColor:"success700",bulletColor:"success600",box:{background:"success100",borderColor:"success200"}}},u=a?o.published:o.draft;return l.default.createElement(d.Box,(0,r.default)({hasRadius:!0,as:"aside",paddingTop:4,paddingBottom:4,paddingLeft:5,paddingRight:5},u.box),l.default.createElement(d.Box,{as:s.Flex},l.default.createElement(y,{$bulletColor:u.bulletColor}),l.default.createElement(d.Box,{paddingLeft:3},l.default.createElement(c.Typography,{textColor:u.textColor},n({id:(0,m.getTrad)("containers.Edit.information.editing"),defaultMessage:"Editing"}),"\xa0"),l.default.createElement(c.Typography,{fontWeight:"bold",textColor:u.textColor},a&&n({id:(0,m.getTrad)("containers.Edit.information.publishedVersion"),defaultMessage:"published version"}),!a&&n({id:(0,m.getTrad)("containers.Edit.information.draftVersion"),defaultMessage:"draft version"})))))};t.DraftAndPublishBadge=b,b.propTypes={hasDraftAndPublish:o.default.bool.isRequired,isPublished:o.default.bool.isRequired};var h=(0,g.connect)(b,g.select);t.default=h},27951:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t();return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},62090:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return l.default}});var r=n(a(27951)),l=n(a(43237))},43237:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(68547);var r=function(){const{initialData:e,hasDraftAndPublish:t}=(0,n.useCMEditViewDataManager)();return{hasDraftAndPublish:t,isPublished:void 0!==e.publishedAt&&null!==e.publishedAt}};t.default=r},22543:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Header=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(97132),o=a(39711),i=n(a(27361)),u=n(a(18446)),d=n(a(41609)),s=n(a(87760)),c=a(35395),f=a(94117),p=a(64459),m=a(81895),g=a(56156),y=a(40264),b=a(33483),h=a(9524),v=n(a(49993)),E=n(a(22754)),M=n(a(45697)),C=n(a(69590)),O=a(28564),_=a(87172);function R(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}const w=e=>{let{allowedActions:{canUpdate:t,canCreate:a,canPublish:n},componentLayouts:M,initialData:C,isCreatingEntry:R,isSingleType:w,hasDraftAndPublish:k,layout:T,modifiedData:P,onPublish:x,onUnpublish:j,status:D}=e;const{goBack:I}=(0,o.useHistory)(),[S,q]=(0,r.useState)(!1),[F,L]=(0,r.useState)(!1),{formatMessage:A}=(0,l.useIntl)(),B=(0,r.useRef)(0),N=(0,i.default)(T,["settings","mainField"],"id"),W=(0,i.default)(T,["info","displayName"],"NOT FOUND"),$=!(0,u.default)(C,P)||R&&!(0,d.default)(P);let U=A({id:(0,O.getTrad)("containers.Edit.pluginHeader.title.new"),defaultMessage:"Create an entry"});R||w||(U=C[N]||W),w&&(U=W);let z=null;if(R&&a&&(z=r.default.createElement(h.Stack,{horizontal:!0,spacing:2},k&&r.default.createElement(p.Button,{disabled:!0,startIcon:r.default.createElement(E.default,null),variant:"secondary"},A({id:"app.utils.publish",defaultMessage:"Publish"})),r.default.createElement(p.Button,{disabled:!$,isLoading:"submit-pending"===D,type:"submit"},A({id:(0,O.getTrad)("containers.Edit.submit"),defaultMessage:"Save"})))),!R&&t){const e=k&&n,t=!(0,d.default)(C.publishedAt),a=t?"unpublish-pending"===D:"publish-pending"===D,l=t?{id:"app.utils.unpublish",defaultMessage:"Unpublish"}:{id:"app.utils.publish",defaultMessage:"Publish"},o=t?()=>q(!0):()=>{0===(()=>{const e=(0,_.getDraftRelations)(P,T,M);return B.current=e,e})()?x():L(!0)};z=r.default.createElement(y.Flex,null,e&&r.default.createElement(p.Button,{disabled:$,loading:a,onClick:o,startIcon:r.default.createElement(E.default,null),variant:"secondary"},A(l)),r.default.createElement(f.Box,{paddingLeft:e?2:0},r.default.createElement(p.Button,{disabled:!$,loading:"submit-pending"===D,type:"submit"},A({id:(0,O.getTrad)("containers.Edit.submit"),defaultMessage:"Save"}))))}const V=()=>q((e=>!e)),H=()=>L((e=>!e)),G=`${A({id:(0,O.getTrad)("api.id"),defaultMessage:"API ID "})} : ${T.apiID}`;return r.default.createElement(r.default.Fragment,null,r.default.createElement(c.HeaderLayout,{title:U.toString(),primaryAction:z,subtitle:G,navigationAction:r.default.createElement(g.Link,{startIcon:r.default.createElement(s.default,null),onClick:e=>{e.preventDefault(),I()},to:"/"},A({id:"global.back",defaultMessage:"Back"}))}),S&&r.default.createElement(m.Dialog,{onClose:V,title:"Confirmation",labelledBy:"confirmation",describedBy:"confirm-description",isOpen:S},r.default.createElement(m.DialogBody,{icon:r.default.createElement(v.default,null)},r.default.createElement(h.Stack,{spacing:2},r.default.createElement(y.Flex,{justifyContent:"center",style:{textAlign:"center"}},r.default.createElement(b.Typography,{id:"confirm-description"},A({id:(0,O.getTrad)("popUpWarning.warning.unpublish"),defaultMessage:"Unpublish this content will automatically change it to a draft."},{br:()=>r.default.createElement("br",null)}))),r.default.createElement(y.Flex,{justifyContent:"center",style:{textAlign:"center"}},r.default.createElement(b.Typography,{id:"confirm-description"},A({id:(0,O.getTrad)("popUpWarning.warning.unpublish-question"),defaultMessage:"Are you sure you want to unpublish it?"}))))),r.default.createElement(m.DialogFooter,{startAction:r.default.createElement(p.Button,{onClick:V,variant:"tertiary"},A({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:r.default.createElement(p.Button,{variant:"danger-light",onClick:()=>{V(),j()}},A({id:"components.popUpWarning.button.confirm",defaultMessage:"Yes, confirm"}))})),F&&r.default.createElement(m.Dialog,{onClose:H,title:"Confirmation",labelledBy:"confirmation",describedBy:"confirm-description",isOpen:F},r.default.createElement(m.DialogBody,{icon:r.default.createElement(v.default,null)},r.default.createElement(h.Stack,{spacing:2},r.default.createElement(y.Flex,{justifyContent:"center",style:{textAlign:"center"}},r.default.createElement(b.Typography,{id:"confirm-description"},B.current,A({id:(0,O.getTrad)("popUpwarning.warning.has-draft-relations.message"),defaultMessage:"<b>{count, plural, =0 { of your content relations is} one { of your content relations is} other { of your content relations are}}</b> not published yet.<br></br>It might engender broken links and errors on your project."},{br:()=>r.default.createElement("br",null),b:e=>r.default.createElement(b.Typography,{fontWeight:"bold"},e),count:B.current}))),r.default.createElement(y.Flex,{justifyContent:"center",style:{textAlign:"center"}},r.default.createElement(b.Typography,{id:"confirm-description"},A({id:(0,O.getTrad)("popUpWarning.warning.publish-question"),defaultMessage:"Do you still want to publish it?"}))))),r.default.createElement(m.DialogFooter,{startAction:r.default.createElement(p.Button,{onClick:H,variant:"tertiary"},A({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:r.default.createElement(p.Button,{variant:"success",onClick:()=>{H(),B.current=0,x()}},A({id:(0,O.getTrad)("popUpwarning.warning.has-draft-relations.button-confirm"),defaultMessage:"Yes, publish"}))})))};t.Header=w,w.propTypes={allowedActions:M.default.shape({canUpdate:M.default.bool.isRequired,canCreate:M.default.bool.isRequired,canPublish:M.default.bool.isRequired}).isRequired,componentLayouts:M.default.object.isRequired,initialData:M.default.object.isRequired,isCreatingEntry:M.default.bool.isRequired,isSingleType:M.default.bool.isRequired,status:M.default.string.isRequired,layout:M.default.object.isRequired,hasDraftAndPublish:M.default.bool.isRequired,modifiedData:M.default.object.isRequired,onPublish:M.default.func.isRequired,onUnpublish:M.default.func.isRequired};const k=(0,r.memo)(w,C.default);var T=(0,_.connect)(k,_.select);t.default=T},96860:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547));var o=function(e,t){return function(a){const n=t();return l.default.createElement(e,(0,r.default)({},a,n))}};t.default=o},81375:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=(e,t,a)=>{const r=(e,t)=>Object.keys(e).reduce(((l,o)=>{const i=(0,n.get)(t,["attributes",o,"type"],"string"),u=(0,n.get)(t,["attributes",o,"relationType"],""),d=u.toLowerCase().includes("morph"),s=["oneWay","oneToOne","manyToOne"],c=e[o];if((0,n.isNil)(c))return l;if("dynamiczone"===i&&c.forEach((e=>{const t=(0,n.get)(a,e.__component,{});l+=r(e,t)})),"component"===i){const e=(0,n.get)(t,["attributes",o,"repeatable"],!1),i=(0,n.get)(t,["attributes",o,"component"],""),u=(0,n.get)(a,i,{});e?c.forEach((e=>{l+=r(e,u)})):l+=r(c,u)}if("relation"===i&&!d)if(s.includes(u)){(0,n.has)(c,"publishedAt")&&(0,n.isEmpty)(c.publishedAt)&&(l+=1)}else c.forEach((e=>{(0,n.has)(e,"publishedAt")&&(0,n.isEmpty)(e.publishedAt)&&(l+=1)}));return l}),0);return r(e,t,a)};t.default=r},87172:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getDraftRelations",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return o.default}});var r=n(a(96860)),l=n(a(81375)),o=n(a(26041))},26041:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(68547);var r=function(){const{allLayoutData:e,initialData:t,isCreatingEntry:a,isSingleType:r,status:l,layout:o,hasDraftAndPublish:i,modifiedData:u,onPublish:d,onUnpublish:s}=(0,n.useCMEditViewDataManager)();return{componentLayouts:e.components,initialData:t,isCreatingEntry:a,isSingleType:r,status:l,layout:o,hasDraftAndPublish:i,modifiedData:u,onPublish:d,onUnpublish:s}};t.default=r},61154:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(97132),o=a(68547),i=a(94117),u=a(97833),d=a(33483),s=a(40264),c=a(9524),f=a(28564),p=n(a(20962)),m=a(26595);function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var y=()=>{const{formatMessage:e,formatRelativeTime:t}=(0,l.useIntl)(),{initialData:a,isCreatingEntry:n}=(0,o.useCMEditViewDataManager)(),g=(0,r.useRef)(Date.now()),y=(e,r)=>{var l,o,i;const u=(null===(l=a[r])||void 0===l?void 0:l.firstname)||"",d=(null===(o=a[r])||void 0===o?void 0:o.lastname)||"",s=(null===(i=a[r])||void 0===i?void 0:i.username)||(0,m.getFullName)(u,d),c=(a[e]?new Date(a[e]).getTime():Date.now())-g.current,{unit:f,value:y}=(0,p.default)(-c);return{at:t(y,f,{numeric:"auto"}),by:n?"-":s}},b=y("updatedAt","updatedBy"),h=y("createdAt","createdBy");return r.default.createElement(i.Box,null,r.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600",id:"additional-informations"},e({id:(0,f.getTrad)("containers.Edit.information"),defaultMessage:"Information"})),r.default.createElement(i.Box,{paddingTop:2,paddingBottom:6},r.default.createElement(u.Divider,null)),r.default.createElement(c.Stack,{spacing:4},r.default.createElement(s.Flex,{justifyContent:"space-between"},r.default.createElement(d.Typography,{fontWeight:"bold"},e({id:(0,f.getTrad)("containers.Edit.information.created"),defaultMessage:"Created"})),r.default.createElement(d.Typography,null,h.at)),r.default.createElement(s.Flex,{justifyContent:"space-between"},r.default.createElement(d.Typography,{fontWeight:"bold"},e({id:(0,f.getTrad)("containers.Edit.information.by"),defaultMessage:"By"})),r.default.createElement(d.Typography,null,h.by)),r.default.createElement(s.Flex,{justifyContent:"space-between"},r.default.createElement(d.Typography,{fontWeight:"bold"},e({id:(0,f.getTrad)("containers.Edit.information.lastUpdate"),defaultMessage:"Last update"})),r.default.createElement(d.Typography,null,b.at)),r.default.createElement(s.Flex,{justifyContent:"space-between"},r.default.createElement(d.Typography,{fontWeight:"bold"},e({id:(0,f.getTrad)("containers.Edit.information.by"),defaultMessage:"By"})),r.default.createElement(d.Typography,null,b.by))))};t.default=y},20962:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=6e4,n=36e5,r=864e5,l=2592e6,o=31536e6;var i=e=>e<a?{unit:"second",value:-Math.round(e/1e3)}:e<n?{unit:"minute",value:-Math.round(e/a)}:e<r?{unit:"hour",value:-Math.round(e/n)}:e<l?{unit:"day",value:-Math.round(e/r)}:e<o?{unit:"month",value:-Math.round(e/l)}:{unit:"year",value:-Math.round(e/o)};t.default=i},13420:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditView=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=n(a(45697)),i=n(a(27361)),u=a(68547),d=a(97132),s=a(35395),c=a(94117),f=a(97833),p=a(39272),m=a(31512),g=a(80117),y=a(9524),b=a(33483),h=n(a(16923)),v=n(a(56204)),E=a(78024),M=n(a(13240)),C=n(a(58827)),O=n(a(49925)),_=n(a(15141)),R=n(a(54865)),w=n(a(56229)),k=n(a(80249)),T=n(a(13995)),P=a(28564),x=n(a(18382)),j=n(a(61154)),D=n(a(22543)),I=a(73391),S=n(a(96155));function q(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}const F=M.default.contentManager,L=[{action:"plugin::content-type-builder.read",subject:null}],A=e=>{let{allowedActions:t,isSingleType:a,goBack:n,layout:o,slug:M,id:q,origin:A,userPermissions:B}=e;const{trackUsage:N}=(0,u.useTracking)(),{formatMessage:W}=(0,d.useIntl)(),{createActionAllowedFields:$,readActionAllowedFields:U,updateActionAllowedFields:z}=(0,l.useMemo)((()=>(0,I.getFieldsActionMatchingPermissions)(B,M)),[B,M]),V=(0,l.useMemo)((()=>a?F.singleTypesConfigurations:F.collectionTypesConfigurations),[a]),H=`/content-manager/${a?"singleType":"collectionType"}/${M}/configurations/edit`,G=(0,i.default)(o,["contentType"],{}),Z=(0,l.useMemo)((()=>a?T.default:w.default),[a]),Q=(0,l.useCallback)((e=>e.every((e=>e.every((e=>"dynamiczone"===e.fieldSchema.type))))),[]),Y=(0,l.useMemo)((()=>G.layouts?(0,I.createAttributesLayout)(G.layouts.edit,G.attributes):[]),[G]),K=G.layouts.editRelations,J=K.length;return l.default.createElement(Z,{allLayoutData:o,slug:M,id:q,origin:A},(e=>{let{componentsDataStructure:i,contentTypeDataStructure:d,data:w,isCreatingEntry:T,isLoadingForData:I,onDelete:q,onDeleteSucceeded:F,onPost:A,onPublish:B,onPut:G,onUnpublish:Z,redirectionLink:X,status:ee}=e;return l.default.createElement(k.default,{allowedActions:t,allLayoutData:o,createActionAllowedFields:$,componentsDataStructure:i,contentTypeDataStructure:d,from:X,initialValues:w,isCreatingEntry:T,isLoadingForData:I,isSingleType:a,onPost:A,onPublish:B,onPut:G,onUnpublish:Z,readActionAllowedFields:U,redirectToPreviousPage:n,slug:M,status:ee,updateActionAllowedFields:z},l.default.createElement(g.Main,{"aria-busy":"resolved"!==ee},l.default.createElement(D.default,{allowedActions:t}),l.default.createElement(s.ContentLayout,null,l.default.createElement(p.Grid,{gap:4},l.default.createElement(p.GridItem,{col:9,s:12},l.default.createElement(y.Stack,{spacing:6},Y.map(((e,t)=>{if(Q(e)){const{0:{0:{name:a,fieldSchema:n,metadatas:r,labelAction:o}}}=e;return l.default.createElement(c.Box,{key:t},l.default.createElement(p.Grid,{gap:4},l.default.createElement(p.GridItem,{col:12,s:12,xs:12},l.default.createElement(C.default,{name:a,fieldSchema:n,labelAction:o,metadatas:r}))))}return l.default.createElement(c.Box,{key:t,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingLeft:6,paddingRight:6,paddingTop:6,paddingBottom:6,borderColor:"neutral150"},l.default.createElement(y.Stack,{spacing:6},e.map(((e,t)=>l.default.createElement(p.Grid,{gap:4,key:t},e.map((e=>{let{fieldSchema:t,labelAction:a,metadatas:n,name:r,size:o}=e;if("component"===t.type){const{component:e,max:i,min:u,repeatable:d=!1,required:s=!1}=t;return l.default.createElement(p.GridItem,{col:o,s:12,xs:12,key:e},l.default.createElement(O.default,{componentUid:e,labelAction:a,isRepeatable:d,intlLabel:{id:n.label,defaultMessage:n.label},max:i,min:u,name:r,required:s}))}return l.default.createElement(p.GridItem,{col:o,key:r,s:12,xs:12},l.default.createElement(_.default,{fieldSchema:t,keys:r,labelAction:a,metadatas:n}))})))))))})))),l.default.createElement(p.GridItem,{col:3,s:12},l.default.createElement(y.Stack,{spacing:2},l.default.createElement(x.default,null),l.default.createElement(c.Box,{as:"aside","aria-labelledby":"additional-informations",background:"neutral0",borderColor:"neutral150",hasRadius:!0,paddingBottom:4,paddingLeft:4,paddingRight:4,paddingTop:6,shadow:"tableShadow"},l.default.createElement(j.default,null),l.default.createElement(E.InjectionZone,{area:"contentManager.editView.informations"})),J>0&&l.default.createElement(c.Box,{as:"aside","aria-labelledby":"relations-title",background:"neutral0",borderColor:"neutral150",hasRadius:!0,paddingBottom:4,paddingLeft:4,paddingRight:4,paddingTop:6,shadow:"tableShadow"},l.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600",id:"relations-title"},W({id:(0,P.getTrad)("containers.Edit.relations"),defaultMessage:"{number, plural, =0 {relations} one {relation} other {relations}}"},{number:J})),l.default.createElement(c.Box,{paddingTop:2,paddingBottom:6},l.default.createElement(f.Divider,null)),l.default.createElement(y.Stack,{spacing:4},K.map((e=>{let{name:t,fieldSchema:a,labelAction:n,metadatas:o,queryInfos:i}=e;return l.default.createElement(R.default,(0,r.default)({},a,o,{key:t,description:o.description,intlLabel:{id:o.label,defaultMessage:o.label},labelAction:n,name:t,relationsType:a.relationType,queryInfos:i,placeholder:o.placeholder?{id:o.placeholder,defaultMessage:o.placeholder}:null}))})))),l.default.createElement(c.Box,{as:"aside","aria-labelledby":"links"},l.default.createElement(y.Stack,{spacing:2},l.default.createElement(E.InjectionZone,{area:"contentManager.editView.right-links",slug:M}),"strapi::administrator"!==M&&l.default.createElement(u.CheckPermissions,{permissions:L},l.default.createElement(m.LinkButton,{onClick:()=>{N("willEditEditLayout")},size:"S",startIcon:l.default.createElement(v.default,null),style:{width:"100%"},to:`/plugins/content-type-builder/content-types/${M}`,variant:"secondary"},W({id:(0,P.getTrad)("link-to-ctb"),defaultMessage:"Edit the model"}))),l.default.createElement(u.CheckPermissions,{permissions:V},l.default.createElement(m.LinkButton,{size:"S",startIcon:l.default.createElement(h.default,null),style:{width:"100%"},to:H,variant:"secondary"},W({id:"app.links.configure-view",defaultMessage:"Configure the view"}))),t.canDelete&&l.default.createElement(S.default,{isCreatingEntry:T,onDelete:q,onDeleteSucceeded:F})))))))))}))};t.EditView=A,A.defaultProps={id:null,isSingleType:!1,origin:null,userPermissions:[]},A.propTypes={allowedActions:o.default.shape({canRead:o.default.bool.isRequired,canUpdate:o.default.bool.isRequired,canCreate:o.default.bool.isRequired,canDelete:o.default.bool.isRequired}).isRequired,layout:o.default.shape({components:o.default.object.isRequired,contentType:o.default.shape({uid:o.default.string.isRequired,settings:o.default.object.isRequired,metadatas:o.default.object.isRequired,options:o.default.object.isRequired,attributes:o.default.object.isRequired}).isRequired}).isRequired,id:o.default.string,isSingleType:o.default.bool,goBack:o.default.func.isRequired,origin:o.default.string,slug:o.default.string.isRequired,userPermissions:o.default.array};var B=(0,l.memo)(A);t.default=B},22653:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=(e,t)=>{const a=e=>(0,n.get)(t,[e,"type"],"");let r=0;const l=[];for(let o of e){const e=o.some((e=>{let{name:t}=e;return"dynamiczone"===a(t)}));l[r]||(l[r]=[]),e?(r=0===r&&(0,n.isEmpty)(l[0])?0:r+1,l[r]||(l[r]=[]),l[r].push(o),r+=1):l[r].push(o)}return l.filter((e=>e.length>0))};t.default=r},15834:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=a(68547);var l=(e,t)=>{const a=a=>{const l=(0,r.findMatchingPermissions)(e,[{action:`plugin::content-manager.explorer.${a}`,subject:t}]);return(0,n.uniq)((0,n.flatMap)(l,"properties.fields"))};return{createActionAllowedFields:a("create"),readActionAllowedFields:a("read"),updateActionAllowedFields:a("update")}};t.default=l},73391:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createAttributesLayout",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getFieldsActionMatchingPermissions",{enumerable:!0,get:function(){return l.default}});var r=n(a(22653)),l=n(a(15834))},83715:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(40264),u=a(33483),d=a(9524),s=n(a(56204)),c=n(a(7228)),f=n(a(58506)),p=n(a(77236));const m=(0,o.default)(i.Flex).withConfig({displayName:"CardPreview__ActionBox",componentId:"sc-15sgsby-0"})(["height:",";&:last-child{padding:0 ",";}"],(e=>{let{theme:t}=e;return t.spaces[7]}),(e=>{let{theme:t}=e;return t.spaces[3]})),g=(0,o.default)(m).withConfig({displayName:"CardPreview__DragButton",componentId:"sc-15sgsby-1"})(["padding:0 ",";border-right:1px solid ",";cursor:all-scroll;svg{width:","rem;height:","rem;}"],(e=>{let{theme:t}=e;return t.spaces[3]}),(e=>{let{theme:t}=e;return t.colors.neutral150}),.75,.75),y=(0,o.default)(i.Flex).withConfig({displayName:"CardPreview__FieldContainer",componentId:"sc-15sgsby-2"})(["display:inline-flex;max-height:","rem;opacity:",";background-color:",";border:1px solid ",";svg{width:","rem;height:","rem;path{fill:",";}}","{color:",";}","{border-right:1px solid ",";}"],2,(e=>{let{transparent:t}=e;return t?0:1}),(e=>{let{theme:t,isSibling:a}=e;return a?t.colors.neutral100:t.colors.primary100}),(e=>{let{theme:t,isSibling:a}=e;return a?t.colors.neutral150:t.colors.primary200}),.625,.625,(e=>{let{theme:t,isSibling:a}=e;return a?void 0:t.colors.primary600}),u.Typography,(e=>{let{theme:t,isSibling:a}=e;return a?void 0:t.colors.primary600}),g,(e=>{let{theme:t,isSibling:a}=e;return a?t.colors.neutral150:t.colors.primary200})),b=e=>{let{labelField:t,transparent:a,isSibling:n}=e;const l=(0,p.default)(t);return r.default.createElement(y,{hasRadius:!0,justifyContent:"space-between",transparent:a,isSibling:n},r.default.createElement(d.Stack,{horizontal:!0,spacing:3},r.default.createElement(g,{alignItems:"center"},r.default.createElement(f.default,null)),r.default.createElement(u.Typography,{fontWeight:"bold"},l)),r.default.createElement(i.Flex,{paddingLeft:3},r.default.createElement(m,{alignItems:"center"},r.default.createElement(s.default,null)),r.default.createElement(m,{alignItems:"center"},r.default.createElement(c.default,null))))};b.defaultProps={isSibling:!1,transparent:!1},b.propTypes={isSibling:l.default.bool,labelField:l.default.string.isRequired,transparent:l.default.bool};var h=b;t.default=h},46328:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(78384)),o=n(a(45697)),i=a(99168),u=a(61080),d=a(97132),s=a(40264),c=a(94117),f=a(33483),p=a(9524),m=n(a(56204)),g=n(a(7228)),y=n(a(58506)),b=n(a(83715)),h=n(a(77236)),v=a(28564);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const M=l.default.button.withConfig({displayName:"DraggableCard__ActionButton",componentId:"sc-gn1l5y-0"})(["display:flex;align-items:center;height:",";&:last-child{padding:0 ",";}"],(e=>{let{theme:t}=e;return t.spaces[7]}),(e=>{let{theme:t}=e;return t.spaces[3]})),C=(0,l.default)(M).withConfig({displayName:"DraggableCard__DragButton",componentId:"sc-gn1l5y-1"})(["padding:0 ",";border-right:1px solid ",";cursor:all-scroll;svg{width:","rem;height:","rem;}"],(e=>{let{theme:t}=e;return t.spaces[3]}),(e=>{let{theme:t}=e;return t.colors.neutral150}),.75,.75),O=(0,l.default)(s.Flex).withConfig({displayName:"DraggableCard__FieldContainer",componentId:"sc-gn1l5y-2"})(["max-height:","rem;cursor:pointer;svg{width:","rem;height:","rem;path{fill:",";}}&:hover{background-color:",";border-color:",";svg{path{fill:",";}}","{color:",";}","{border-right:1px solid ",";}}"],2,.625,.625,(e=>{let{theme:t}=e;return t.colors.neutral600}),(e=>{let{theme:t}=e;return t.colors.primary100}),(e=>{let{theme:t}=e;return t.colors.primary200}),(e=>{let{theme:t}=e;return t.colors.primary600}),f.Typography,(e=>{let{theme:t}=e;return t.colors.primary600}),C,(e=>{let{theme:t}=e;return t.colors.primary200})),_=(0,l.default)(c.Box).withConfig({displayName:"DraggableCard__FieldWrapper",componentId:"sc-gn1l5y-3"})(["&:last-child{padding-right:",";}"],(e=>{let{theme:t}=e;return t.spaces[3]})),R=e=>{let{index:t,isDraggingSibling:a,labelField:n,onClickEditField:l,onMoveField:o,onRemoveField:c,name:E,setIsDraggingSibling:R}=e;const{formatMessage:w}=(0,d.useIntl)(),k=(0,r.useRef)(null),T=(0,r.useRef)(null),[,P]=(0,r.useState)(!1),x=(0,r.useRef)(),j=(0,h.default)(n),[,D]=(0,i.useDrop)({accept:v.ItemTypes.FIELD,hover(e,a){if(!T.current)return;const n=e.index,r=t;if(n===r)return;const l=T.current.getBoundingClientRect(),i=(l.right-l.left)/2,u=a.getClientOffset().x-l.left;n>r&&u>i||n<r&&u<i||(o(n,r),e.index=r)}}),[{isDragging:I},S,q]=(0,i.useDrag)({type:v.ItemTypes.FIELD,item:()=>({index:t,labelField:n,name:E}),collect:e=>({isDragging:e.isDragging()}),end:()=>{R(!1)}});(0,r.useEffect)((()=>{q((0,u.getEmptyImage)(),{captureDraggingState:!1})}),[q]),(0,r.useEffect)((()=>{I&&R(!0)}),[I,R]),(0,r.useEffect)((()=>{a||P((e=>!e))}),[a]);const F={dragRef:S(k),dropRef:D(T)};return r.default.createElement(_,{ref:F?F.dropRef:null},I&&r.default.createElement(b.default,{transparent:!0,labelField:j}),!I&&a&&r.default.createElement(b.default,{isSibling:!0,labelField:j}),!I&&!a&&r.default.createElement(O,{borderColor:"neutral150",background:"neutral100",hasRadius:!0,justifyContent:"space-between",onClick:()=>{x.current&&x.current.click()},isDragging:I},r.default.createElement(p.Stack,{horizontal:!0,spacing:3},r.default.createElement(C,{as:"span","aria-label":w({id:(0,v.getTrad)("components.DraggableCard.move.field"),defaultMessage:"Move {item}"},{item:E}),onClick:e=>e.stopPropagation(),ref:F.dragRef,type:"button"},r.default.createElement(y.default,null)),r.default.createElement(f.Typography,{fontWeight:"bold"},j)),r.default.createElement(s.Flex,{paddingLeft:3},r.default.createElement(M,{ref:x,onClick:e=>{e.stopPropagation(),l(E)},"aria-label":w({id:(0,v.getTrad)("components.DraggableCard.edit.field"),defaultMessage:"Edit {item}"},{item:E}),type:"button"},r.default.createElement(m.default,null)),r.default.createElement(M,{onClick:c,"data-testid":`delete-${E}`,"aria-label":w({id:(0,v.getTrad)("components.DraggableCard.delete.field"),defaultMessage:"Delete {item}"},{item:E}),type:"button"},r.default.createElement(g.default,null)))))};R.propTypes={index:o.default.number.isRequired,isDraggingSibling:o.default.bool.isRequired,labelField:o.default.string.isRequired,name:o.default.string.isRequired,onClickEditField:o.default.func.isRequired,onMoveField:o.default.func.isRequired,onRemoveField:o.default.func.isRequired,setIsDraggingSibling:o.default.func.isRequired};var w=R;t.default=w},68222:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(97132),i=n(a(11700)),u=n(a(78384)),d=a(68991),s=a(33483),c=a(64459),f=a(40264),p=a(39272),m=a(99136),g=a(53575),y=a(28564),b=n(a(74373));const h=(0,u.default)(f.Flex).withConfig({displayName:"EditFieldForm__HeaderContainer",componentId:"sc-fftkcj-0"})(["svg{width:","rem;height:","rem;margin-right:",";}"],2,1.5,(e=>{let{theme:t}=e;return t.spaces[3]})),v=e=>{let{attributes:t,fieldForm:a,fieldToEdit:n,onCloseModal:l,onChangeEditLabel:u,onSubmit:f,type:v}=e;const{formatMessage:E}=(0,o.useIntl)(),M=t[n].relationType;let C=!["media","relation"].includes(v);return["oneWay","oneToOne","manyToOne"].includes(M)&&(C=!0),r.default.createElement(d.ModalLayout,{onClose:l,labelledBy:"title"},r.default.createElement("form",{onSubmit:f},r.default.createElement(d.ModalHeader,null,r.default.createElement(h,null,r.default.createElement(b.default,{type:v}),r.default.createElement(s.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},E({id:(0,y.getTrad)("containers.ListSettingsView.modal-form.edit-label"),defaultMessage:"Edit {fieldName}"},{fieldName:(0,i.default)(n)})))),r.default.createElement(d.ModalBody,null,r.default.createElement(p.Grid,{gap:4},r.default.createElement(p.GridItem,{s:12,col:6},r.default.createElement(m.TextInput,{id:"label-input",label:E({id:(0,y.getTrad)("form.Input.label"),defaultMessage:"Label"}),name:"label",onChange:e=>u(e),value:a.label,hint:E({id:(0,y.getTrad)("form.Input.label.inputDescription"),defaultMessage:"This value overrides the label displayed in the table's head"})})),C&&r.default.createElement(p.GridItem,{s:12,col:6},r.default.createElement(g.ToggleInput,{"data-testid":"Enable sort on this field",checked:a.sortable,label:E({id:(0,y.getTrad)("form.Input.sort.field"),defaultMessage:"Enable sort on this field"}),name:"sortable",onChange:e=>u({target:{name:"sortable",value:e.target.checked}}),onLabel:E({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"on"}),offLabel:E({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"off"})})))),r.default.createElement(d.ModalFooter,{startActions:r.default.createElement(c.Button,{onClick:l,variant:"tertiary"},E({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:r.default.createElement(c.Button,{type:"submit"},E({id:"global.finish",defaultMessage:"Finish"}))})))};v.propTypes={attributes:l.default.objectOf(l.default.shape({relationType:l.default.string})).isRequired,fieldForm:l.default.shape({label:l.default.string,sortable:l.default.bool}).isRequired,fieldToEdit:l.default.string.isRequired,onChangeEditLabel:l.default.func.isRequired,onCloseModal:l.default.func.isRequired,onSubmit:l.default.func.isRequired,type:l.default.string.isRequired};var E=v;t.default=E},25183:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=n(a(78384)),i=a(97132),u=a(40264),d=a(39272),s=a(2632),c=a(53575),f=a(94117),p=a(33483),m=a(28564);const g=(0,o.default)(u.Flex).withConfig({displayName:"Settings__FlexGap",componentId:"sc-j3a1zy-0"})(["gap:",";"],(e=>{let{theme:t}=e;return t.spaces[4]})),y=e=>{let{modifiedData:t,onChange:a,sortOptions:n}=e;const{formatMessage:l}=(0,i.useIntl)(),{settings:o}=t;return r.default.createElement(r.default.Fragment,null,r.default.createElement(f.Box,{paddingBottom:4},r.default.createElement(p.Typography,{variant:"delta",as:"h2"},l({id:(0,m.getTrad)("containers.SettingPage.settings"),defaultMessage:"Settings"}))),r.default.createElement(g,{justifyContent:"space-between",wrap:"wrap",paddingBottom:6},r.default.createElement(c.ToggleInput,{label:l({id:(0,m.getTrad)("form.Input.search"),defaultMessage:"Enable search"}),onChange:e=>{a({target:{name:"settings.searchable",value:e.target.checked}})},onLabel:l({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"on"}),offLabel:l({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"off"}),name:"settings.searchable",checked:o.searchable}),r.default.createElement(c.ToggleInput,{label:l({id:(0,m.getTrad)("form.Input.filters"),defaultMessage:"Enable filters"}),onChange:e=>{a({target:{name:"settings.filterable",value:e.target.checked}})},onLabel:l({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"on"}),offLabel:l({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"off"}),name:"settings.filterable",checked:o.filterable}),r.default.createElement(c.ToggleInput,{label:l({id:(0,m.getTrad)("form.Input.bulkActions"),defaultMessage:"Enable bulk actions"}),onChange:e=>{a({target:{name:"settings.bulkable",value:e.target.checked}})},onLabel:l({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"on"}),offLabel:l({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"off"}),name:"settings.bulkable",checked:o.bulkable})),r.default.createElement(d.Grid,{gap:4},r.default.createElement(d.GridItem,{s:12,col:6},r.default.createElement(s.Select,{label:l({id:(0,m.getTrad)("form.Input.pageEntries"),defaultMessage:"Entries per page"}),hint:l({id:(0,m.getTrad)("form.Input.pageEntries.inputDescription"),defaultMessage:"Note: You can override this value in the Collection Type settings page."}),onChange:e=>a({target:{name:"settings.pageSize",value:e}}),name:"settings.pageSize",value:t.settings.pageSize||""},[10,20,50,100].map((e=>r.default.createElement(s.Option,{key:e,value:e},e))))),r.default.createElement(d.GridItem,{s:12,col:3},r.default.createElement(s.Select,{label:l({id:(0,m.getTrad)("form.Input.defaultSort"),defaultMessage:"Default sort attribute"}),onChange:e=>a({target:{name:"settings.defaultSortBy",value:e}}),name:"settings.defaultSortBy",value:t.settings.defaultSortBy||""},n.map((e=>r.default.createElement(s.Option,{key:e,value:e},e))))),r.default.createElement(d.GridItem,{s:12,col:3},r.default.createElement(s.Select,{label:l({id:(0,m.getTrad)("form.Input.sort.order"),defaultMessage:"Default sort order"}),onChange:e=>a({target:{name:"settings.defaultSortOrder",value:e}}),name:"settings.defaultSortOrder",value:t.settings.defaultSortOrder||""},["ASC","DESC"].map((e=>r.default.createElement(s.Option,{key:e,value:e},e)))))))};y.defaultProps={modifiedData:{},sortOptions:[]},y.propTypes={modifiedData:l.default.object,onChange:l.default.func.isRequired,sortOptions:l.default.array};var b=y;t.default=b},42506:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(78384)),o=a(45697),i=a(97132),u=a(94117),d=a(40264),s=a(9524),c=a(33483),f=a(12615),p=a(49549),m=n(a(89326)),g=n(a(46328)),y=a(28564);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const h=(0,l.default)(u.Box).withConfig({displayName:"SortDisplayedFields__FlexWrapper",componentId:"sc-fx02f9-0"})(["flex:",";"],(e=>{let{size:t}=e;return t})),v=(0,l.default)(h).withConfig({displayName:"SortDisplayedFields__ScrollableContainer",componentId:"sc-fx02f9-1"})(["overflow-x:scroll;overflow-y:hidden;"]),E=(0,l.default)(h).withConfig({displayName:"SortDisplayedFields__SelectContainer",componentId:"sc-fx02f9-2"})(["max-width:","rem;"],2),M=e=>{let{displayedFields:t,listRemainingFields:a,metadatas:n,onAddField:l,onClickEditField:o,onMoveField:b,onRemoveField:h}=e;const{formatMessage:M}=(0,i.useIntl)(),[C,O]=(0,r.useState)(!1),[_,R]=(0,r.useState)(null),w=(0,r.useRef)();return(0,r.useEffect)((()=>{"add"===_&&null!==w&&void 0!==w&&w.current&&(w.current.scrollLeft=w.current.scrollWidth)}),[t,_]),r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Box,{paddingBottom:4},r.default.createElement(c.Typography,{variant:"delta",as:"h2"},M({id:(0,y.getTrad)("containers.SettingPage.view"),defaultMessage:"View"}))),r.default.createElement(d.Flex,{paddingTop:4,paddingLeft:4,paddingRight:4,borderColor:"neutral300",borderStyle:"dashed",borderWidth:"1px",hasRadius:!0},r.default.createElement(v,{size:"1",paddingBottom:4,ref:w},r.default.createElement(s.Stack,{horizontal:!0,spacing:3},t.map(((e,t)=>r.default.createElement(g.default,{key:e,index:t,isDraggingSibling:C,onMoveField:b,onClickEditField:o,onRemoveField:e=>function(){R("remove"),h(...arguments)}(e,t),name:e,labelField:n[e].list.label||e,setIsDraggingSibling:O}))))),r.default.createElement(E,{size:"auto",paddingBottom:4},r.default.createElement(f.SimpleMenu,{label:M({id:(0,y.getTrad)("components.FieldSelect.label"),defaultMessage:"Add a field"}),as:p.IconButton,icon:r.default.createElement(m.default,null),disabled:a.length<=0,"data-testid":"add-field"},a.map((e=>r.default.createElement(f.MenuItem,{key:e,onClick:()=>function(){R("add"),l(...arguments)}(e)},e)))))))};M.propTypes={displayedFields:o.PropTypes.array.isRequired,listRemainingFields:o.PropTypes.array.isRequired,metadatas:o.PropTypes.objectOf(o.PropTypes.shape({list:o.PropTypes.shape({label:o.PropTypes.string})})).isRequired,onAddField:o.PropTypes.func.isRequired,onClickEditField:o.PropTypes.func.isRequired,onMoveField:o.PropTypes.func.isRequired,onRemoveField:o.PropTypes.func.isRequired};var C=M;t.default=C},41540:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=I(a(53547)),l=n(a(45697)),o=a(23724),i=n(a(18446)),u=n(a(11700)),d=n(a(78718)),s=n(a(27361)),c=a(80129),f=a(68547),p=a(97132),m=a(94117),g=a(97833),y=a(35395),b=a(56156),h=a(80117),v=a(64459),E=n(a(22754)),M=n(a(87760)),C=a(28564),O=n(a(66973)),_=a(14772),R=n(a(69477)),w=n(a(25183)),k=n(a(42506)),T=n(a(68222)),P=n(a(98543)),x=I(a(19645)),j=a(9822);function D(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}const S=e=>{let{layout:t,slug:a}=e;const{formatMessage:n}=(0,p.useIntl)(),{trackUsage:l}=(0,f.useTracking)(),D=(0,_.usePluginsQueryParams)(),I=(0,f.useNotification)(),{refetchData:S}=(0,r.useContext)(O.default),[q,F]=(0,r.useState)(!1),L=()=>F((e=>!e)),[A,B]=(0,r.useState)(!1),N=()=>B((e=>!e)),[W,$]=(0,r.useReducer)(x.default,x.initialState,(()=>(0,P.default)(x.initialState,t))),{fieldToEdit:U,fieldForm:z,initialData:V,modifiedData:H}=W,{attributes:G}=t,Z=H.layouts.list,Q=(0,o.useMutation)((e=>(0,R.default)(e,a)),{onSuccess:()=>{l("didEditListSettings"),S()},onError:()=>{I({type:"warning",message:{id:"notification.error"}})}}),{isLoading:Y}=Q,K=Object.entries(G).reduce(((e,t)=>{const[a,n]=t,r=(0,C.checkIfAttributeIsDisplayable)(n),l=Z.includes(a);return r&&!l&&e.push(a),e}),[]).sort(),J=Object.entries(G).reduce(((e,t)=>{const[a,{type:n}]=t;return j.EXCLUDED_SORT_OPTIONS.includes(n)||e.push(a),e}),[]);return r.default.createElement(y.Layout,null,r.default.createElement(h.Main,{"aria-busy":Y},r.default.createElement("form",{onSubmit:e=>{e.preventDefault(),L(),l("willSaveContentTypeLayout")}},r.default.createElement(y.HeaderLayout,{navigationAction:r.default.createElement(b.Link,{startIcon:r.default.createElement(M.default,null),to:()=>{const{settings:{pageSize:e,defaultSortBy:t,defaultSortOrder:a},kind:n,uid:r}=V,l=`${t}:${a}`;return`/content-manager/${n}/${r}?${`${(0,c.stringify)({page:1,pageSize:e,sort:l},{encode:!1})}${D?`&${D}`:""}`}`},id:"go-back"},n({id:"global.back",defaultMessage:"Back"})),primaryAction:r.default.createElement(v.Button,{size:"L",startIcon:r.default.createElement(E.default,null),disabled:(0,i.default)(H,V),type:"submit"},n({id:"global.save",defaultMessage:"Save"})),subtitle:n({id:(0,C.getTrad)("components.SettingsViewWrapper.pluginHeader.description.list-settings"),defaultMessage:"Define the settings of the list view."}),title:n({id:(0,C.getTrad)("components.SettingsViewWrapper.pluginHeader.title"),defaultMessage:"Configure the view - {name}"},{name:(0,u.default)(H.info.displayName)})}),r.default.createElement(y.ContentLayout,null,r.default.createElement(m.Box,{background:"neutral0",hasRadius:!0,shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},r.default.createElement(w.default,{modifiedData:H,onChange:e=>{let{target:{name:t,value:a}}=e;$({type:"ON_CHANGE",keys:t,value:"settings.pageSize"===t?parseInt(a,10):a})},sortOptions:J}),r.default.createElement(m.Box,{paddingTop:6,paddingBottom:6},r.default.createElement(g.Divider,null)),r.default.createElement(k.default,{listRemainingFields:K,displayedFields:Z,onAddField:e=>{$({type:"ADD_FIELD",item:e})},onClickEditField:e=>{$({type:"SET_FIELD_TO_EDIT",fieldToEdit:e}),N()},onMoveField:(e,t)=>{$({type:"MOVE_FIELD",originalIndex:e,atIndex:t})},onRemoveField:(e,t)=>{e.stopPropagation(),1===Z.length?I({type:"info",message:{id:(0,C.getTrad)("notification.info.minimumFields")}}):$({type:"REMOVE_FIELD",index:t})},metadatas:H.metadatas}))),r.default.createElement(f.ConfirmDialog,{bodyText:{id:(0,C.getTrad)("popUpWarning.warning.updateAllSettings"),defaultMessage:"This will modify all your settings"},iconRightButton:r.default.createElement(E.default,null),isConfirmButtonLoading:Y,isOpen:q,onToggleDialog:L,onConfirm:async()=>{const e=(0,d.default)(H,["layouts","settings","metadatas"]);Q.mutate(e)},variantRightButton:"success-light"})),A&&r.default.createElement(T.default,{attributes:G,fieldForm:z,fieldToEdit:U,onChangeEditLabel:e=>{let{target:{name:t,value:a}}=e;$({type:"ON_CHANGE_FIELD_METAS",name:t,value:a})},onCloseModal:()=>{$({type:"UNSET_FIELD_TO_EDIT"}),N()},onSubmit:e=>{e.preventDefault(),N(),$({type:"SUBMIT_FIELD_FORM"})},type:(0,s.default)(G,[U,"type"],"text")})))};S.propTypes={layout:l.default.shape({uid:l.default.string.isRequired,settings:l.default.shape({bulkable:l.default.bool,defaultSortBy:l.default.string,defaultSortOrder:l.default.string,filterable:l.default.bool,pageSize:l.default.number,searchable:l.default.bool}).isRequired,metadatas:l.default.object.isRequired,options:l.default.object.isRequired,attributes:l.default.objectOf(l.default.shape({type:l.default.string})).isRequired}).isRequired,slug:l.default.string.isRequired};var q=(0,r.memo)(S);t.default=q},98543:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t)=>({...e,initialData:t,modifiedData:t});t.default=a},19645:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(66312)),l=n(a(36968)),o=n(a(27361)),i=a(28564);const u={fieldForm:{},fieldToEdit:"",initialData:{},modifiedData:{}};t.initialState=u;var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)(e,(a=>{const n=["modifiedData","layouts","list"];switch(t.type){case"ADD_FIELD":{const r=(0,o.default)(e,n,[]);(0,l.default)(a,n,[...r,t.item]);break}case"MOVE_FIELD":{const r=(0,o.default)(e,n,[]),{originalIndex:u,atIndex:d}=t;(0,l.default)(a,n,(0,i.arrayMoveItem)(r,u,d));break}case"ON_CHANGE":(0,l.default)(a,["modifiedData",...t.keys.split(".")],t.value);break;case"ON_CHANGE_FIELD_METAS":(0,l.default)(a,["fieldForm",t.name],t.value);break;case"REMOVE_FIELD":{const r=(0,o.default)(e,n,[]);(0,l.default)(a,n,r.filter(((e,a)=>t.index!==a)));break}case"SET_FIELD_TO_EDIT":{const{fieldToEdit:e}=t;a.fieldToEdit=e,a.fieldForm.label=(0,o.default)(a,["modifiedData","metadatas",e,"list","label"],""),a.fieldForm.sortable=(0,o.default)(a,["modifiedData","metadatas",e,"list","sortable"],"");break}case"UNSET_FIELD_TO_EDIT":a.fieldForm={},a.fieldToEdit="";break;case"SUBMIT_FIELD_FORM":{const t=["modifiedData","metadatas",e.fieldToEdit,"list"];(0,l.default)(a,[...t,"label"],e.fieldForm.label),(0,l.default)(a,[...t,"sortable"],e.fieldForm.sortable);break}default:return a}}))};t.default=d},69477:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53777),r=a(28564);var l=(e,t)=>n.axiosInstance.put((0,r.getRequestUrl)(`content-types/${t}/configuration`),e);t.default=l},77236:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>e.length>20?`${e.substring(0,20)}...`:e;t.default=a},9822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXCLUDED_SORT_OPTIONS=void 0;t.EXCLUDED_SORT_OPTIONS=["media","richtext","dynamiczone","relation","component","json"]},68893:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=n(a(45697)),i=a(68547),u=n(a(66473)),d=a(28564);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const c=e=>{const t=(0,l.useMemo)((()=>(0,d.generatePermissionsObject)(e.slug)),[e.slug]),{isLoading:a,allowedActions:n}=(0,i.useRBAC)(t,e.permissions);return a?l.default.createElement(i.LoadingIndicatorPage,null):l.default.createElement(u.default,(0,r.default)({},e,n))};c.defaultProps={permissions:[]},c.propTypes={permissions:o.default.array,slug:o.default.string.isRequired};var f=(0,l.memo)(c,((e,t)=>{const a=(0,i.difference)(e,t);return Object.keys(a).filter((e=>"state"!==e)).length>0}));t.default=f},9017:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),o=a(37424),i=n(a(45697)),u=a(39711),d=a(68547),s=a(14772),c=a(14285),f=n(a(68893));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m=e=>{let{layout:t,...a}=e;const n=(0,o.useDispatch)(),{replace:i}=(0,u.useHistory)(),[{query:p,rawQuery:m}]=(0,d.useQueryParams)(),g=(0,s.useSyncRbac)(p,a.slug,"listView"),y=(0,s.useFindRedirectionLink)(a.slug);return(0,l.useEffect)((()=>{m||i(y)}),[m,i,y]),(0,l.useEffect)((()=>{n((0,c.setLayout)(t))}),[n,t]),(0,l.useEffect)((()=>()=>{n((0,c.resetProps)())}),[n]),g?l.default.createElement(f.default,(0,r.default)({},a,{layout:t,permissions:g})):null};m.propTypes={layout:i.default.exact({components:i.default.object.isRequired,contentType:i.default.shape({attributes:i.default.object.isRequired,metadatas:i.default.object.isRequired,layouts:i.default.shape({list:i.default.array.isRequired,editRelations:i.default.array}).isRequired,options:i.default.object.isRequired,settings:i.default.object.isRequired,pluginOptions:i.default.object}).isRequired}).isRequired,slug:i.default.string.isRequired};var g=m;t.default=g},17170:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),o=a(37424),i=a(97132),u=a(2632),d=a(94117),s=a(68547),c=a(14285),f=a(51046),p=n(a(38092));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=e=>{let{layout:t}=e;const a=(0,o.useDispatch)(),n=(0,o.useSelector)(f.selectDisplayedHeaders),{trackUsage:l}=(0,s.useTracking)(),{formatMessage:m}=(0,i.useIntl)(),g=(0,p.default)(t.contentType.attributes).map((e=>{const a=t.contentType.metadatas[e].list;return{name:e,intlLabel:{id:a.label,defaultMessage:a.label}}})),y=n.map((e=>{let{name:t}=e;return t}));return r.default.createElement(d.Box,{paddingTop:1,paddingBottom:1},r.default.createElement(u.Select,{"aria-label":"change displayed fields",value:y,onChange:e=>{if(l("didChangeDisplayedFields"),e.length<y.length){const t=y.filter((t=>-1===e.indexOf(t)));a((0,c.onChangeListHeaders)({name:t[0],value:!0}))}else{const t=e.filter((e=>-1===y.indexOf(e)));a((0,c.onChangeListHeaders)({name:t[0],value:!1}))}},customizeContent:e=>`${e.length} currently selected`,multi:!0,size:"S"},g.map((e=>r.default.createElement(u.Option,{key:e.name,value:e.name},m({id:e.intlLabel.id||e.name,defaultMessage:e.intlLabel.defaultMessage||e.name}))))))};g.propTypes={layout:l.default.shape({contentType:l.default.shape({attributes:l.default.object.isRequired,metadatas:l.default.object.isRequired,layouts:l.default.shape({list:l.default.array.isRequired,editRelations:l.default.array}).isRequired,options:l.default.object.isRequired,settings:l.default.object.isRequired}).isRequired}).isRequired};var y=(0,r.memo)(g);t.default=y},38092:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(28564);var r=e=>Object.keys(e).reduce(((t,a)=>{const r=e[a];return(0,n.checkIfAttributeIsDisplayable)(r)&&t.push(a),t}),[]).sort();t.default=r},34933:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=n(a(45697)),o=a(94117),i=a(40264),u=a(68547);const d=e=>{let{pagination:t}=e;return r.default.createElement(o.Box,{paddingTop:4},r.default.createElement(i.Flex,{alignItems:"flex-end",justifyContent:"space-between"},r.default.createElement(u.PageSizeURLQuery,{trackedEvent:"willChangeNumberOfEntriesPerPage"}),r.default.createElement(u.PaginationURLQuery,{pagination:t})))};d.defaultProps={pagination:{pageCount:0,pageSize:10,total:0}},d.propTypes={pagination:l.default.shape({page:l.default.number,pageCount:l.default.number,pageSize:l.default.number,total:l.default.number})};var s=d;t.default=s},14285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onResetListHeaders=t.onChangeListHeaders=t.getDataSucceeded=t.getData=void 0,t.resetProps=function(){return{type:n.RESET_PROPS}},t.setLayout=void 0;var n=a(8660);t.getData=()=>({type:n.GET_DATA});t.getDataSucceeded=(e,t)=>({type:n.GET_DATA_SUCCEEDED,pagination:e,data:t});t.onResetListHeaders=()=>({type:n.ON_RESET_LIST_HEADERS});t.setLayout=e=>{let{components:t,contentType:a}=e;const{layouts:r}=a;return{contentType:a,components:t,displayedHeaders:r.list,type:n.SET_LIST_LAYOUT}};t.onChangeListHeaders=e=>({type:n.ON_CHANGE_LIST_HEADERS,target:e})},66473:function(e,t,a){"use strict";var n=a(25108),r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.mapDispatchToProps=z;var l=r(a(67154)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=r(a(45697)),u=r(a(78384)),d=a(37424),s=r(a(69590)),c=a(35281),f=a(97132),p=a(39711),m=r(a(27361)),g=a(80129),y=a(68547),b=a(49549),h=a(80117),v=a(94117),E=a(35395),M=a(67422),C=a(64459),O=a(56156),_=r(a(87760)),R=r(a(89326)),w=r(a(17581)),k=r(a(9669)),T=a(53777),P=a(78024),x=r(a(18595)),j=r(a(13240)),D=a(28564),I=r(a(17170)),S=r(a(34933)),q=a(14285),F=r(a(51046)),L=a(85771),A=r(a(72632));function B(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}const N=j.default.contentManager,W=(0,u.default)(b.IconButton).withConfig({displayName:"ListView__IconButtonCustom",componentId:"sc-1owh71w-0"})(["svg{path{fill:",";}}"],(e=>{let{theme:t}=e;return t.colors.neutral900}));function $(e){let{canCreate:t,canDelete:a,canRead:r,data:i,getData:u,getDataSucceeded:d,isLoading:s,layout:c,pagination:b,slug:j}=e;const{total:q}=b,{contentType:{metadatas:F,settings:{bulkable:B,filterable:$,searchable:U}}}=c,z=(0,y.useNotification)(),{trackUsage:V}=(0,y.useTracking)(),{refetchPermissions:H}=(0,y.useRBACProvider)(),G=(0,o.useRef)(V),Z=(0,o.useRef)(H),{notifyStatus:Q}=(0,M.useNotifyAT)();(0,y.useFocusWhenNavigate)();const[{query:Y}]=(0,y.useQueryParams)(),K=(0,L.buildQueryString)(Y),J=(0,g.stringify)({plugins:Y.plugins},{encode:!1}),{pathname:X}=(0,p.useLocation)(),{push:ee}=(0,p.useHistory)(),{formatMessage:te}=(0,f.useIntl)(),ae=c.contentType,ne=(0,m.default)(ae,"options.draftAndPublish",!1),re=(0,o.useRef)(""),le=(0,o.useCallback)((async(e,t)=>{u();try{const a=t?{cancelToken:t.token}:null,{data:{results:n,pagination:r}}=await T.axiosInstance.get(e,a);Q(te({id:(0,D.getTrad)("utils.data-loaded"),defaultMessage:"{number, plural, =1 {# entry has} other {# entries have}} successfully been loaded"},{number:r.count})),d(r,n)}catch(a){if(k.default.isCancel(a))return;if(403===(0,m.default)(a,"response.status",null))return await Z.current(),z({type:"info",message:{id:(0,D.getTrad)("permissions.not-allowed.update")}}),void ee("/");n.error(a),z({type:"warning",message:{id:(0,D.getTrad)("error.model.fetch")}})}}),[te,u,d,Q,ee,z]),oe=(0,o.useCallback)((async e=>{try{await T.axiosInstance.post((0,D.getRequestUrl)(`collection-types/${j}/actions/bulkDelete`),{ids:e});const t=(0,D.getRequestUrl)(`collection-types/${j}${K}`);le(t),G.current("didBulkDeleteEntries")}catch(t){z({type:"warning",message:{id:(0,D.getTrad)("error.record.delete")}})}}),[le,K,j,z]),ie=(0,o.useCallback)((async e=>{try{await T.axiosInstance.delete((0,D.getRequestUrl)(`collection-types/${j}/${e}`));const t=(0,D.getRequestUrl)(`collection-types/${j}${K}`);le(t),z({type:"success",message:{id:(0,D.getTrad)("success.record.delete")}})}catch(t){const e=(0,m.default)(t,"response.payload.message",te({id:(0,D.getTrad)("error.record.delete")}));z({type:"warning",message:e})}}),[j,K,le,z,te]);(0,o.useEffect)((()=>{const e=k.default.CancelToken.source(),t=r,a=(0,D.getRequestUrl)(`collection-types/${j}${K}`);return t&&a.includes(re.current)&&le(a,e),()=>{re.current=j,e.cancel("Operation canceled by the user.")}}),[r,u,j,K,d,le]);const ue=te({id:(0,D.getTrad)("header.name"),defaultMessage:"Content"}),de=te({id:ae.info.displayName,defaultMessage:ae.info.displayName||ue}),se=r?te({id:(0,D.getTrad)("pages.ListView.header-subtitle"),defaultMessage:"{number, plural, =0 {# entries} one {# entry} other {# entries}} found"},{number:q}):null,ce=e=>t?o.default.createElement(C.Button,(0,l.default)({},e,{onClick:()=>{const e=ne?{status:"draft"}:{};G.current("willCreateEntry",e),ee({pathname:`${X}/create`,search:Y.plugins?J:""})},startIcon:o.default.createElement(R.default,null)}),te({id:(0,D.getTrad)("HeaderLayout.button.label-add-entry"),defaultMessage:"Create new entry"})):null;return o.default.createElement(h.Main,{"aria-busy":s},o.default.createElement(E.HeaderLayout,{primaryAction:ce(),subtitle:se,title:de,navigationAction:o.default.createElement(O.Link,{startIcon:o.default.createElement(_.default,null),to:"/content-manager/"},te({id:"global.back",defaultMessage:"Back"}))}),!r&&o.default.createElement(E.ActionLayout,{endActions:o.default.createElement(P.InjectionZone,{area:"contentManager.listView.actions"})}),r&&o.default.createElement(E.ActionLayout,{endActions:o.default.createElement(o.default.Fragment,null,o.default.createElement(P.InjectionZone,{area:"contentManager.listView.actions"}),o.default.createElement(I.default,{layout:c}),o.default.createElement(y.CheckPermissions,{permissions:N.collectionTypesConfigurations},o.default.createElement(v.Box,{paddingTop:1,paddingBottom:1},o.default.createElement(W,{onClick:()=>{V("willEditListLayout"),ee({pathname:`${j}/configurations/list`,search:J})},icon:o.default.createElement(w.default,null),label:te({id:"app.links.configure-view",defaultMessage:"Configure the view"})})))),startActions:o.default.createElement(o.default.Fragment,null,U&&o.default.createElement(y.SearchURLQuery,{label:te({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:de}),placeholder:te({id:"app.component.search.placeholder",defaultMessage:"Search..."}),trackedEvent:"didSearch"}),$&&o.default.createElement(A.default,{contentType:ae,slug:j,metadatas:F}))}),o.default.createElement(E.ContentLayout,null,r?o.default.createElement(o.default.Fragment,null,o.default.createElement(x.default,{canCreate:t,canDelete:a,contentTypeName:de,onConfirmDeleteAll:oe,onConfirmDelete:ie,isBulkable:B,isLoading:s,layout:c,rows:i,action:ce({variant:"secondary"})}),o.default.createElement(S.default,{pagination:{pageCount:(null===b||void 0===b?void 0:b.pageCount)||1}})):o.default.createElement(y.NoPermissions,null)))}$.propTypes={canCreate:i.default.bool.isRequired,canDelete:i.default.bool.isRequired,canRead:i.default.bool.isRequired,data:i.default.array.isRequired,layout:i.default.exact({components:i.default.object.isRequired,contentType:i.default.shape({attributes:i.default.object.isRequired,metadatas:i.default.object.isRequired,info:i.default.shape({displayName:i.default.string.isRequired}).isRequired,layouts:i.default.shape({list:i.default.array.isRequired,editRelations:i.default.array}).isRequired,options:i.default.object.isRequired,settings:i.default.object.isRequired}).isRequired}).isRequired,isLoading:i.default.bool.isRequired,getData:i.default.func.isRequired,getDataSucceeded:i.default.func.isRequired,pagination:i.default.shape({total:i.default.number.isRequired,pageCount:i.default.number}).isRequired,slug:i.default.string.isRequired};const U=(0,F.default)();function z(e){return(0,c.bindActionCreators)({getData:q.getData,getDataSucceeded:q.getDataSucceeded,onChangeListHeaders:q.onChangeListHeaders,onResetListHeaders:q.onResetListHeaders},e)}const V=(0,d.connect)(U,z);var H=(0,c.compose)(V)((0,o.memo)($,s.default));t.default=H},51046:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectDisplayedHeaders=t.listViewDomain=t.default=void 0;var n=a(42279),r=a(97506);const l=()=>e=>e["content-manager_listView"]||r.initialState;t.listViewDomain=l;t.selectDisplayedHeaders=e=>{const{displayedHeaders:t}=e["content-manager_listView"];return t};var o=()=>(0,n.createSelector)(l(),(e=>e));t.default=o},62616:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(80129),l=n(a(58927));var o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{plugins:t,...a}={...e,...(0,l.default)(e.plugins)};return`?${(0,r.stringify)(a,{encode:!1})}`};t.default=o},58927:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>Object.values(e||{}).reduce(((e,t)=>Object.assign(e,t)),{});t.default=a},85771:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"buildQueryString",{enumerable:!0,get:function(){return r.default}});var r=n(a(62616))},65639:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(68547),o=a(80117),i=a(31512),u=a(35395),d=a(92543),s=n(a(89326)),c=n(a(26485)),f=a(97132),p=a(28564);var m=()=>{const{formatMessage:e}=(0,f.useIntl)();return(0,l.useFocusWhenNavigate)(),r.default.createElement(o.Main,null,r.default.createElement(u.HeaderLayout,{title:e({id:(0,p.getTrad)("header.name"),defaultMessage:"Content"})}),r.default.createElement(u.ContentLayout,null,r.default.createElement(d.EmptyStateLayout,{action:r.default.createElement(i.LinkButton,{variant:"secondary",startIcon:r.default.createElement(s.default,null),to:"/plugins/content-type-builder/content-types/create-content-type"},e({id:"app.components.HomePage.create",defaultMessage:"Create your first Content-type"})),content:e({id:"content-manager.pages.NoContentType.text",defaultMessage:"You don't have any content yet, we recommend you to create your first Content-Type."}),hasRadius:!0,icon:r.default.createElement(c.default,{width:"10rem"}),shadow:"tableShadow"})))};t.default=m},20755:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),l=a(68547),o=a(80117),i=a(35395),u=a(97132),d=a(28564);var s=()=>{const{formatMessage:e}=(0,u.useIntl)();return(0,l.useFocusWhenNavigate)(),r.default.createElement(o.Main,null,r.default.createElement(i.HeaderLayout,{title:e({id:(0,d.getTrad)("header.name"),defaultMessage:"Content"})}),r.default.createElement(i.ContentLayout,null,r.default.createElement(l.NoPermissions,null)))};t.default=s},88468:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(39711),o=n(a(45697)),i=a(68547),u=n(a(13240)),d=a(42688),s=a(14772),c=a(28564),f=n(a(11427)),p=n(a(40224));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=u.default.contentManager,y=e=>{let{match:{params:{slug:t},url:a}}=e;const{isLoading:n,layout:o,updateLayout:u}=(0,s.useFetchContentTypeLayout)(t),{rawContentTypeLayout:m,rawComponentsLayouts:y}=(0,r.useMemo)((()=>{let e={},t={};return o.contentType&&(t=(0,c.formatLayoutToApi)(o.contentType)),o.components&&(e=Object.keys(o.components).reduce(((e,t)=>(e[t]=(0,c.formatLayoutToApi)(o.components[t]),e)),{})),{rawContentTypeLayout:t,rawComponentsLayouts:e}}),[o]);return n?r.default.createElement(i.LoadingIndicatorPage,null):r.default.createElement(d.ContentTypeLayoutContext.Provider,{value:o},r.default.createElement(l.Switch,null,r.default.createElement(l.Route,{path:`${a}/configurations/edit`},r.default.createElement(i.CheckPagePermissions,{permissions:g.singleTypesConfigurations},r.default.createElement(p.default,{components:y,isContentTypeView:!0,mainLayout:m,slug:t,updateLayout:u}))),r.default.createElement(l.Route,{path:a,render:e=>{let{location:{state:a},history:{goBack:n}}=e;return r.default.createElement(f.default,{layout:o,slug:t,isSingleType:!0,state:a,goBack:n})}})))};y.propTypes={match:o.default.shape({url:o.default.string.isRequired,params:o.default.shape({slug:o.default.string.isRequired}).isRequired}).isRequired};var b=(0,r.memo)(y);t.default=b},98744:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitSucceeded=t.setStatus=t.setDataStructures=t.resetProps=t.initForm=t.getDataSucceeded=t.getData=void 0;var n=a(90305);t.getData=()=>({type:n.GET_DATA});t.getDataSucceeded=e=>({type:n.GET_DATA_SUCCEEDED,data:e});t.initForm=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:n.INIT_FORM,rawQuery:e,isSingleType:t}};t.resetProps=()=>({type:n.RESET_PROPS});t.setDataStructures=(e,t)=>({type:n.SET_DATA_STRUCTURES,componentsDataStructure:e,contentTypeDataStructure:t});t.setStatus=e=>({type:n.SET_STATUS,status:e});t.submitSucceeded=e=>({type:n.SUBMIT_SUCCEEDED,data:e})},22787:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>e["content-manager_editViewCrudReducer"];t.default=a},26135:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={COMPONENT:"component",EDIT_FIELD:"editField",EDIT_RELATION:"editRelation",FIELD:"field",RELATION:"relation"}},75780:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(50361));var l=(e,t,a)=>{if(Array.isArray(e)&&t>=0&&a>=0&&t<=e.length-1&&a<=e.length-1){const n=(0,r.default)(e),l=n.splice(t,1);return n.splice(a,0,l[0]),n}return e};t.default=l},97635:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=e=>{const t=e.type;return"relation"===t?!(0,n.toLower)(e.relationType).includes("morph"):!["json","dynamiczone","richtext","password"].includes(t)&&!!t};t.default=r},9882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);const r=(e,t)=>Object.keys(e).reduce(((a,l)=>{const o=(0,n.get)(e,[l],{}),{default:i,component:u,type:d,required:s,min:c,repeatable:f}=o;if("json"===d&&(a[l]=null),"json"===d&&!0===s&&(a[l]={}),void 0!==i&&(a[l]=i),"component"===d){const e=(0,n.get)(t,[u,"attributes"],{}),o=r(e,t);if(!0===s&&(a[l]=!0===f?[]:o),c&&!0===f&&s){a[l]=[];for(let e=0;e<c;e+=1)a[l].push(o)}}return"dynamiczone"===d&&!0===s&&(a[l]=[]),a}),{});var l=r;t.default=l},85410:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=e=>{let{layouts:t,metadatas:a,...r}=e;const l=t.list.map((e=>e.name?e.name:e)),o=t.editRelations.map((e=>{let{name:t}=e;return t})),i=Object.keys(a).reduce(((e,t)=>{const r=(0,n.get)(a,[t],{});let l=r.edit;return l.mainField&&(l={...l,mainField:r.edit.mainField.name}),{...e,[t]:{edit:l,list:(0,n.omit)(r.list,["mainField"])}}}),{});return{...r,layouts:{edit:t.edit.map((e=>e.map((e=>{let{name:t,size:a}=e;return{name:t,size:a}})))),editRelations:o,list:l},metadatas:i}};t.default=r},38913:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addSubjectToPermissionsArray=void 0;const a=(e,t)=>e.map((e=>({...e,subject:t})));t.addSubjectToPermissionsArray=a;var n=e=>{const t={create:[{action:"plugin::content-manager.explorer.create",subject:null}],delete:[{action:"plugin::content-manager.explorer.delete",subject:null}],publish:[{action:"plugin::content-manager.explorer.publish",subject:null}],read:[{action:"plugin::content-manager.explorer.read",subject:null}],update:[{action:"plugin::content-manager.explorer.update",subject:null}]};return Object.keys(t).reduce(((n,r)=>(n[r]=a(t[r],e),n)),{})};t.default=n},77700:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=e=>e.split(".").filter((e=>(0,n.isNaN)(parseInt(e,10))));t.default=r},1256:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>0===e.length?-1:Math.max.apply(Math,e.map((e=>e.__temp_key__)));t.default=a},56102:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>`/content-manager/${e}`;t.default=a},36169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>`content-manager.${e}`;t.default=a},28564:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItemTypes",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"arrayMoveItem",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"checkIfAttributeIsDisplayable",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"createDefaultForm",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"formatLayoutToApi",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"generatePermissionsObject",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getFieldName",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getMaxTempKey",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getRequestUrl",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"getTrad",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"mergeMetasWithSchema",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"removeKeyInObject",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"removePasswordFieldsFromData",{enumerable:!0,get:function(){return y.default}});var r=n(a(75780)),l=n(a(97635)),o=n(a(9882)),i=n(a(85410)),u=n(a(38913)),d=n(a(77700)),s=n(a(1256)),c=n(a(56102)),f=n(a(36169)),p=n(a(26135)),m=n(a(25312)),g=n(a(84856)),y=n(a(91945))},69824:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return["integer","biginteger","decimal","float","number"].includes(e)}},25312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486);var r=(e,t,a)=>{const r=e=>t.find((t=>t.uid===e)),l=Object.assign({},e),o=e[a].uid,i=r(o);return(0,n.set)(l,[a],{...e[a],...i}),Object.keys(e.components).forEach((t=>{const a=r(t);(0,n.set)(l,["components",t],{...e.components[t],...a})})),l};t.default=r},84856:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=(e,t)=>e?Object.keys(e).reduce(((e,n)=>{const r=e[n];return null===r?e:Array.isArray(r)?Array.isArray(e)?(e[n]=a(r,t),e):{...e,[n]:r.map((e=>a(e,t)))}:"object"===typeof r?!0===r._isAMomentObject?{...e,[n]:r}:Array.isArray(e)?(e[n]=a(r,t),e):{...e,[n]:a(r,t)}:(n===t&&delete e[n],e)}),e):e;var n=a;t.default=n},91945:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=a(68547);var l=(e,t,a)=>{const l=(e,t)=>Object.keys(e).reduce(((o,i)=>{const u=(0,r.getType)(t,i),d=(0,n.get)(e,i),s=(0,r.getOtherInfos)(t,[i,"component"]),c=(0,r.getOtherInfos)(t,[i,"repeatable"]);return"dynamiczone"===u?(o[i]=d.map((e=>l(e,a[e.__component]))),o):"component"===u?(o[i]=c?d?d.map((e=>l(e,a[s]))):d:d?l(d,a[s]):d,o):("password"!==u&&(o[i]=d),o)}),{});return l(e,t)};t.default=l},5531:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),l=n(a(53547)),o=n(a(45697)),i=a(73460);const u=e=>{let{area:t,...a}=e;return(0,i.useInjectionZone)(t).map((e=>l.default.createElement(e.Component,(0,r.default)({key:e.name},a))))};u.propTypes={area:o.default.string.isRequired};var d=u;t.default=d},78024:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InjectionZone",{enumerable:!0,get:function(){return r.default}});var r=n(a(5531))},73460:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAdminProvider",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useInjectionZone",{enumerable:!0,get:function(){return l.default}});var r=n(a(76710)),l=n(a(48721))},76710:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),r=a(66592);var l=()=>(0,n.useContext)(r.AdminContext);t.default=l},48721:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76710));var l=e=>{const{getAdminInjectedComponents:t}=(0,r.default)(),[a,n,l]=e.split(".");return t(a,n,l)};t.default=l},22868:function(){},14777:function(){},99830:function(){},70209:function(){},87414:function(){}}]);