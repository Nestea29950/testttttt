(self.webpackChunkstrapi_sqlite=self.webpackChunkstrapi_sqlite||[]).push([[5516],{24556:function(e,t,a){var n;e.exports=(n=a(53547),function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=187)}({0:function(e,t){e.exports=n},187:function(e,t,a){"use strict";a.r(t);var n=a(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=function(e){return n.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 01-.14-.343L11.858.058a.2.2 0 01.282 0l9.513 9.4a.2.2 0 01-.14.343H13.57v8.47zM2.2 21.095a.2.2 0 00-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 00.2-.2v-2.424a.2.2 0 00-.2-.2H2.2z",fill:"#212134"}))}}}))},26122:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(23724),l=a(68547),r=a(50613);var i=e=>{const t=(0,l.useNotification)();return(0,n.useQuery)("list-installed-plugins",(()=>(0,r.fetchInstalledPlugins)()),{onSuccess:()=>{e&&e()},onError:()=>{t({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};t.default=i},50613:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchInstalledPlugins=void 0;var n=a(53777);t.fetchInstalledPlugins=async()=>{const{data:e}=await n.axiosInstance.get("/admin/plugins");return e}},41853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(23724),l=a(68547),r=a(12349);var i=e=>{const t=(0,l.useNotification)();return(0,n.useQuery)("list-marketplace-plugins",(()=>(0,r.fetchMarketplacePlugins)()),{onSuccess:()=>{e&&e()},onError:()=>{t({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};t.default=i},12349:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchMarketplacePlugins=void 0;var l=n(a(9669));t.fetchMarketplacePlugins=async()=>{const{data:e}=await l.default.get("https://market-api.strapi.io/plugins");return{...e,data:e.data.filter((e=>"v4"===e.attributes.strapiCompatibility))}}},39437:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyPluginGrid=void 0;var l=n(a(53547)),r=n(a(78384)),i=a(94117),u=a(35395);const o=(0,r.default)(i.Box).withConfig({displayName:"EmptyPluginGrid__EmptyPluginCard",componentId:"sc-lmx01e-0"})(["background:",";opacity:0.33;"],(e=>{let{theme:t}=e;return`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${t.colors.neutral150} 100%)`}));t.EmptyPluginGrid=()=>l.default.createElement(u.GridLayout,null,Array(12).fill(null).map(((e,t)=>l.default.createElement(o,{key:`empty-plugin-card-${t}`,height:"234px",hasRadius:!0}))))},63564:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyPluginSearch=void 0;var l=n(a(53547)),r=n(a(45697)),i=a(33483),u=a(94117),o=a(40264),s=a(33699),d=n(a(26485)),c=a(39437);const f=e=>{let{content:t}=e;return l.default.createElement(u.Box,{position:"relative"},l.default.createElement(c.EmptyPluginGrid,null),l.default.createElement(u.Box,{position:"absolute",top:11,width:"100%"},l.default.createElement(o.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},l.default.createElement(s.Icon,{as:d.default,color:"",width:"160px",height:"88px"}),l.default.createElement(u.Box,{paddingTop:6},l.default.createElement(i.Typography,{variant:"delta",as:"p",textColor:"neutral600"},t)))))};t.EmptyPluginSearch=f,f.propTypes={content:r.default.string.isRequired}},53366:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(53547)),r=n(a(45697)),i=a(97132),u=a(74855),o=a(68547),s=a(94117),d=a(33699),c=a(33483),f=n(a(22754)),p=n(a(54279)),g=a(64459);const m=e=>{let{isInstalled:t,isInDevelopmentMode:a,commandToCopy:n}=e;const r=(0,o.useNotification)(),{formatMessage:m}=(0,i.useIntl)(),{trackUsage:y}=(0,o.useTracking)();return t?l.default.createElement(s.Box,{paddingLeft:4},l.default.createElement(d.Icon,{as:f.default,marginRight:2,width:12,height:12,color:"success600"}),l.default.createElement(c.Typography,{variant:"omega",textColor:"success600",fontWeight:"bold"},m({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"}))):a?l.default.createElement(u.CopyToClipboard,{onCopy:()=>{y("willInstallPlugin"),r({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}})},text:n},l.default.createElement(g.Button,{size:"S",startIcon:l.default.createElement(p.default,null),variant:"secondary"},m({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"}))):null};m.propTypes={isInstalled:r.default.bool.isRequired,isInDevelopmentMode:r.default.bool.isRequired,commandToCopy:r.default.string.isRequired};var y=m;t.default=y},21767:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(53547)),r=n(a(45697)),i=a(97132),u=n(a(78384)),o=a(94117),s=a(9524),d=a(33483),c=a(31512),f=a(40264),p=a(33699),g=a(55639),m=n(a(74657)),y=n(a(37694)),v=a(68547),h=n(a(22139)),P=n(a(53366));const b=(0,u.default)(d.Typography).withConfig({displayName:"PluginCard__EllipsisText",componentId:"sc-1mq536v-0"})(["display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;"]),M=e=>{let{plugin:t,installedPluginNames:a,useYarn:n,isInDevelopmentMode:r}=e;const{attributes:u}=t,{formatMessage:M}=(0,i.useIntl)(),{trackUsage:E}=(0,v.useTracking)(),k=a.includes(u.npmPackageName),x=n?`yarn add ${u.npmPackageName}`:`npm install ${u.npmPackageName}`,I=M({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"});return l.default.createElement(f.Flex,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:6,paddingBottom:4,paddingLeft:6,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal"},l.default.createElement(o.Box,null,l.default.createElement(o.Box,{as:"img",src:u.logo.url,alt:`${u.name} logo`,hasRadius:!0,width:11,height:11}),l.default.createElement(o.Box,{paddingTop:4},l.default.createElement(d.Typography,{as:"h3",variant:"delta"},l.default.createElement(f.Flex,{alignItems:"center"},u.name,u.validated&&!u.madeByStrapi&&l.default.createElement(g.Tooltip,{description:M({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"})},l.default.createElement(f.Flex,null,l.default.createElement(p.Icon,{as:y.default,marginLeft:2,color:"success600"}))),u.madeByStrapi&&l.default.createElement(g.Tooltip,{description:I},l.default.createElement(f.Flex,null,l.default.createElement(o.Box,{as:"img",src:h.default,alt:I,marginLeft:1,width:6,height:"auto"})))))),l.default.createElement(o.Box,{paddingTop:2},l.default.createElement(b,{as:"p",variant:"omega",textColor:"neutral600"},u.description))),l.default.createElement(s.Stack,{horizontal:!0,spacing:2,style:{alignSelf:"flex-end"},paddingTop:6},l.default.createElement(c.LinkButton,{size:"S",href:`https://market.strapi.io/plugins/${u.slug}`,endIcon:l.default.createElement(m.default,null),"aria-label":M({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:u.name}),variant:"tertiary",onClick:()=>E("didPluginLearnMore")},M({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"Learn more"})),l.default.createElement(P.default,{isInstalled:k,isInDevelopmentMode:r,commandToCopy:x})))};M.defaultProps={isInDevelopmentMode:!1},M.propTypes={plugin:r.default.shape({id:r.default.string.isRequired,attributes:r.default.shape({name:r.default.string.isRequired,description:r.default.string.isRequired,slug:r.default.string.isRequired,npmPackageName:r.default.string.isRequired,npmPackageUrl:r.default.string.isRequired,repositoryUrl:r.default.string.isRequired,logo:r.default.object.isRequired,developerName:r.default.string.isRequired,validated:r.default.bool.isRequired,madeByStrapi:r.default.bool.isRequired,strapiCompatibility:r.default.oneOf(["v3","v4"]).isRequired}).isRequired}).isRequired,installedPluginNames:r.default.arrayOf(r.default.string).isRequired,useYarn:r.default.bool.isRequired,isInDevelopmentMode:r.default.bool};var E=M;t.default=E},70569:function(e,t,a){"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MarketPlacePage=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=l?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a(53547)),r=a(97132),i=a(15482),u=a(23724),o=n(a(63852)),s=a(68547),d=a(39272),c=a(35395),f=a(80117),p=a(36565),g=a(94117),m=a(31512),y=a(67422),v=n(a(24556)),h=n(a(21767)),P=a(63564),b=a(19297),M=n(a(26122)),E=n(a(41853)),k=n(a(13240));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}const I=()=>{const{formatMessage:e}=(0,r.useIntl)(),{trackUsage:t}=(0,s.useTracking)(),{notifyStatus:a}=(0,y.useNotifyAT)(),n=(0,l.useRef)(t),k=(0,s.useNotification)(),[x,I]=(0,l.useState)(""),{autoReload:_}=(0,s.useAppInfos)();(0,s.useFocusWhenNavigate)();const w=e({id:"global.marketplace",defaultMessage:"Marketplace"}),{status:T,data:O}=(0,E.default)((()=>{a(e({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:w}))})),{status:R,data:S}=(0,M.default)(),{data:j,status:C}=(0,u.useQuery)("app-information",b.fetchAppInformation,{onError:()=>{k({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),q=[T,R,C].includes("loading"),B=[T,R,C].includes("error");if((0,l.useEffect)((()=>{n.current("didGoToMarketplace")}),[]),(0,l.useEffect)((()=>{_||k({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"},blockTransition:!0})}),[k,_]),B)return l.default.createElement(c.Layout,null,l.default.createElement(c.ContentLayout,null,l.default.createElement(g.Box,{paddingTop:8},l.default.createElement(s.AnErrorOccurred,null))));if(q)return l.default.createElement(c.Layout,null,l.default.createElement(f.Main,{"aria-busy":!0},l.default.createElement(s.LoadingIndicatorPage,null)));const N=(L=O.data,A=x,(0,o.default)(L,A,{keys:[{threshold:o.default.rankings.WORD_STARTS_WITH,key:"attributes.name"},{threshold:o.default.rankings.WORD_STARTS_WITH,key:"attributes.description"}]}));var L,A;const D=S.plugins.map((e=>e.packageName));return l.default.createElement(c.Layout,null,l.default.createElement(f.Main,null,l.default.createElement(i.Helmet,{title:e({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),l.default.createElement(c.HeaderLayout,{title:e({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:e({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:l.default.createElement(m.LinkButton,{startIcon:l.default.createElement(v.default,null),variant:"tertiary",href:"https://market.strapi.io/submit-plugin",onClick:()=>t("didSubmitPlugin")},e({id:"admin.pages.MarketPlacePage.submit.plugin.link",defaultMessage:"Submit your plugin"}))}),l.default.createElement(c.ContentLayout,null,l.default.createElement(g.Box,{width:"25%",paddingBottom:4},l.default.createElement(p.Searchbar,{name:"searchbar",onClear:()=>I(""),value:x,onChange:e=>I(e.target.value),clearLabel:e({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the plugin search"}),placeholder:e({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"})},e({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"}))),x.length>0&&!N.length?l.default.createElement(P.EmptyPluginSearch,{content:e({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:x})}):l.default.createElement(d.Grid,{gap:4},N.map((e=>l.default.createElement(d.GridItem,{col:4,s:6,xs:12,style:{height:"100%"},key:e.id},l.default.createElement(h.default,{plugin:e,installedPluginNames:D,useYarn:j.data.useYarn,isInDevelopmentMode:_}))))))))};t.MarketPlacePage=I;var _=()=>l.default.createElement(s.CheckPagePermissions,{permissions:k.default.marketplace.main},l.default.createElement(I,null));t.default=_},19297:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAppInformation=void 0;var n=a(53777);t.fetchAppInformation=async()=>{const{data:e}=await n.axiosInstance.get("/admin/information");return e}},22139:function(e,t,a){"use strict";e.exports=a.p+"90f49a385afb000fb1d4.svg"}}]);