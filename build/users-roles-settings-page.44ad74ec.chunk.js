(self.webpackChunkstrapi_sqlite=self.webpackChunkstrapi_sqlite||[]).push([[8853],{67506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>{switch(e){case"POST":return{text:"success600",border:"success200",background:"success100"};case"GET":return{text:"secondary600",border:"secondary200",background:"secondary100"};case"PUT":return{text:"warning600",border:"warning200",background:"warning100"};case"DELETE":return{text:"danger600",border:"danger200",background:"danger100"};default:return{text:"neutral600",border:"neutral200",background:"neutral100"}}};t.default=a},35023:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=r(a(78384)),o=a(9524),i=a(94117),u=a(33483),s=r(a(35161)),d=r(a(13217)),c=a(97132),f=r(a(45697)),p=r(a(67506));const m=(0,l.default)(i.Box).withConfig({displayName:"BoundRoute__MethodBox",componentId:"sc-vrpses-0"})(["margin:-1px;border-radius:"," 0 0 ",";"],(e=>{let{theme:t}=e;return t.spaces[1]}),(e=>{let{theme:t}=e;return t.spaces[1]}));function g(e){let{route:t}=e;const{formatMessage:a}=(0,c.useIntl)(),{method:r,handler:l,path:f}=t,g=f?(0,d.default)(f.split("/")):[],[y="",v=""]=l?l.split("."):[],b=(0,p.default)(t.method);return n.default.createElement(o.Stack,{spacing:2},n.default.createElement(u.Typography,{variant:"delta",as:"h3"},a({id:"users-permissions.BoundRoute.title",defaultMessage:"Bound route to"}),"\xa0",n.default.createElement("span",null,y),n.default.createElement(u.Typography,{variant:"delta",textColor:"primary600"},".",v)),n.default.createElement(o.Stack,{horizontal:!0,hasRadius:!0,background:"neutral0",borderColor:"neutral200",spacing:0},n.default.createElement(m,{background:b.background,borderColor:b.border,padding:2},n.default.createElement(u.Typography,{fontWeight:"bold",textColor:b.text},r)),n.default.createElement(i.Box,{paddingLeft:2,paddingRight:2},(0,s.default)(g,(e=>n.default.createElement(u.Typography,{key:e,textColor:e.includes(":")?"neutral600":"neutral900"},"/",e))))))}g.defaultProps={route:{handler:"Nocontroller.error",method:"GET",path:"/there-is-no-path"}},g.propTypes={route:f.default.shape({handler:f.default.string,method:f.default.string,path:f.default.string})};var y=g;t.default=y},90114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(78384)),n=a(94117);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const o=(0,r.css)(["background:",";svg{opacity:1;}"],(e=>e.theme.colors.primary100));var i=(0,r.default)(n.Box).withConfig({displayName:"CheckboxWrapper",componentId:"sc-1ltdwf1-0"})(["display:flex;justify-content:space-between;align-items:center;svg{opacity:0;path{fill:",";}}"," &:hover{","}"],(e=>e.theme.colors.primary600),(e=>e.isActive&&o),o);t.default=i},16590:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),l=a(96486),o=r(a(78384)),i=r(a(45697)),u=a(94117),s=a(43499),d=a(40264),c=a(33483),f=a(39272),p=r(a(17581)),m=a(97132),g=r(a(90114)),y=a(36928);function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const b=o.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-r9ycls-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.neutral150})),E=e=>{let{subCategory:t}=e;const{formatMessage:a}=(0,m.useIntl)(),{onChange:r,onChangeSelectAll:o,onSelectedAction:i,selectedAction:v,modifiedData:E}=(0,y.useUsersPermissions)(),O=(0,n.useMemo)((()=>(0,l.get)(E,t.name,{})),[E,t]),h=(0,n.useMemo)((()=>Object.values(O).every((e=>!0===e.enabled))),[O]),_=(0,n.useMemo)((()=>Object.values(O).some((e=>!0===e.enabled))&&!h),[O,h]),P=(0,n.useCallback)((e=>{let{target:{name:t}}=e;o({target:{name:t,value:!h}})}),[h,o]),M=(0,n.useCallback)((e=>v===e),[v]);return n.default.createElement(u.Box,null,n.default.createElement(d.Flex,{justifyContent:"space-between",alignItems:"center"},n.default.createElement(u.Box,{paddingRight:4},n.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},t.label)),n.default.createElement(b,null),n.default.createElement(u.Box,{paddingLeft:4},n.default.createElement(s.Checkbox,{name:t.name,value:h,onValueChange:e=>P({target:{name:t.name,value:e}}),indeterminate:_},a({id:"app.utils.select-all",defaultMessage:"Select all"})))),n.default.createElement(d.Flex,{paddingTop:6,paddingBottom:6},n.default.createElement(f.Grid,{gap:2,style:{flex:1}},t.actions.map((e=>{const t=`${e.name}.enabled`;return n.default.createElement(f.GridItem,{col:6,key:e.name},n.default.createElement(g.default,{isActive:M(e.name),padding:2,hasRadius:!0},n.default.createElement(s.Checkbox,{value:(0,l.get)(E,t,!1),name:t,onValueChange:e=>r({target:{name:t,value:e}})},e.label),n.default.createElement("button",{type:"button","data-testid":"action-cog",onClick:()=>i(e.name),style:{display:"inline-flex",alignItems:"center"}},n.default.createElement(p.default,null))))})))))};E.propTypes={subCategory:i.default.object.isRequired};var O=E;t.default=O},28615:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),l=r(a(45697)),o=r(a(89734)),i=a(94117),u=r(a(16590));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const d=e=>{let{name:t,permissions:a}=e;const r=(0,n.useMemo)((()=>(0,o.default)(Object.values(a.controllers).reduce(((e,r,n)=>{const l=`${t}.controllers.${Object.keys(a.controllers)[n]}`,i=(0,o.default)(Object.keys(r).reduce(((e,t)=>[...e,{...r[t],label:t,name:`${l}.${t}`}]),[]),"label");return[...e,{actions:i,label:Object.keys(a.controllers)[n],name:l}]}),[]),"label")),[t,a]);return n.default.createElement(i.Box,{padding:6},r.map((e=>n.default.createElement(u.default,{key:e.name,subCategory:e}))))};d.propTypes={name:l.default.string.isRequired,permissions:l.default.object.isRequired};var c=d;t.default=c},27933:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),l=a(47949),o=a(97132),i=a(94117),u=a(9524),s=a(36928),d=r(a(3226)),c=r(a(28615)),f=r(a(91897)),p=a(61253);function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}var g=()=>{const{modifiedData:e}=(0,s.useUsersPermissions)(),{formatMessage:t}=(0,o.useIntl)(),[{collapses:a},r]=(0,n.useReducer)(p.reducer,p.initialState,(t=>(0,f.default)(t,e)));return n.default.createElement(u.Stack,{spacing:1},a.map(((a,o)=>n.default.createElement(l.Accordion,{expanded:a.isOpen,onToggle:()=>(e=>r({type:"TOGGLE_COLLAPSE",index:e}))(o),key:a.name,variant:o%2===0?"secondary":void 0},n.default.createElement(l.AccordionToggle,{title:(0,d.default)(a.name),description:t({id:"users-permissions.Plugin.permissions.plugins.description",defaultMessage:"Define all allowed actions for the {name} plugin."},{name:a.name}),variant:o%2?"primary":"secondary"}),n.default.createElement(l.AccordionContent,null,n.default.createElement(i.Box,null,n.default.createElement(c.default,{permissions:e[a.name],name:a.name})))))))};t.default=g},91897:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t)=>({...e,collapses:Object.keys(t).sort().map((e=>({name:e,isOpen:!1})))});t.default=a},61253:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var n=r(a(66312));t.initialState={collapses:[]};t.reducer=(e,t)=>(0,n.default)(e,(a=>{if("TOGGLE_COLLAPSE"!==t.type)return a;a.collapses=e.collapses.map(((e,a)=>a===t.index?{...e,isOpen:!e.isOpen}:{...e,isOpen:!1}))}))},9481:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=a(97132),o=a(33483),i=a(9524),u=a(39272),s=a(96486),d=a(36928),c=r(a(35023));var f=()=>{const{formatMessage:e}=(0,l.useIntl)(),{selectedAction:t,routes:a}=(0,d.useUsersPermissions)(),r=(0,s.without)(t.split("."),"controllers"),f=(0,s.get)(a,r[0]),p=r.slice(1).join("."),m=(0,s.isEmpty)(f)?[]:f.filter((e=>e.handler.endsWith(p)));return n.default.createElement(u.GridItem,{col:5,background:"neutral150",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7,style:{minHeight:"100%"}},t?n.default.createElement(i.Stack,{spacing:2},m.map(((e,t)=>n.default.createElement(c.default,{key:t,route:e})))):n.default.createElement(i.Stack,{spacing:2},n.default.createElement(o.Typography,{variant:"delta",as:"h3"},e({id:"users-permissions.Policies.header.title",defaultMessage:"Advanced settings"})),n.default.createElement(o.Typography,{as:"p",textColor:"neutral600"},e({id:"users-permissions.Policies.header.hint",defaultMessage:"Select the application's actions or the plugin's actions and click on the cog icon to display the bound route"}))))};t.default=f},38217:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(a(53547)),l=r(a(45697)),o=a(33483),i=a(9524),u=a(39272),s=a(97132),d=r(a(30078)),c=r(a(9481)),f=r(a(27933)),p=v(a(48462)),m=a(36928),g=r(a(4228));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}const b=(0,n.forwardRef)(((e,t)=>{let{permissions:a,routes:r}=e;const{formatMessage:l}=(0,s.useIntl)(),[y,v]=(0,n.useReducer)(p.default,p.initialState,(e=>(0,g.default)(e,a,r)));(0,n.useImperativeHandle)(t,(()=>({getPermissions:()=>({permissions:y.modifiedData}),resetForm:()=>{v({type:"ON_RESET"})},setFormAfterSubmit:()=>{v({type:"ON_SUBMIT_SUCCEEDED"})}})));const b={...y,onChange:e=>{let{target:{name:t,value:a}}=e;return v({type:"ON_CHANGE",keys:t.split("."),value:"empty__string_value"===a?"":a})},onChangeSelectAll:e=>{let{target:{name:t,value:a}}=e;return v({type:"ON_CHANGE_SELECT_ALL",keys:t.split("."),value:a})},onSelectedAction:e=>v({type:"SELECT_ACTION",actionToSelect:e})};return n.default.createElement(m.UsersPermissionsProvider,{value:b},n.default.createElement(u.Grid,{gap:0,shadow:"filterShadow",hasRadius:!0,background:"neutral0"},n.default.createElement(u.GridItem,{col:7,paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},n.default.createElement(i.Stack,{spacing:6},n.default.createElement(i.Stack,{spacing:2},n.default.createElement(o.Typography,{variant:"delta",as:"h2"},l({id:(0,d.default)("Plugins.header.title"),defaultMessage:"Permissions"})),n.default.createElement(o.Typography,{as:"p",textColor:"neutral600"},l({id:(0,d.default)("Plugins.header.description"),defaultMessage:"Only actions bound by a route are listed below."}))),n.default.createElement(f.default,null))),n.default.createElement(c.default,null)))}));b.propTypes={permissions:l.default.object.isRequired,routes:l.default.object.isRequired};var E=(0,n.memo)(b);t.default=E},4228:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t,a)=>({...e,initialData:t,modifiedData:t,routes:a});t.default=a},48462:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(a(66312)),l=a(96486);t.initialState={initialData:{},modifiedData:{},routes:{},selectedAction:"",policies:[]};var o=(e,t)=>(0,n.default)(e,(a=>{switch(t.type){case"ON_CHANGE":{const e=t.keys.length,r="enabled"===t.keys[e-1];if(t.value&&r){const r=(0,l.take)(t.keys,e-1).join(".");a.selectedAction=r}(0,l.set)(a,["modifiedData",...t.keys],t.value);break}case"ON_CHANGE_SELECT_ALL":{const r=["modifiedData",...t.keys],n=(0,l.get)(e,r,{}),o=Object.keys(n).reduce(((e,a)=>(e[a]={...n[a],enabled:t.value},e)),{});(0,l.set)(a,r,o);break}case"ON_RESET":a.modifiedData=e.initialData;break;case"ON_SUBMIT_SUCCEEDED":a.initialData=e.modifiedData;break;case"SELECT_ACTION":{const{actionToSelect:r}=t;a.selectedAction=r===e.selectedAction?"":r;break}default:return a}}));t.default=o},36928:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useUsersPermissions=t.UsersPermissionsProvider=t.UsersPermissions=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),l=r(a(45697));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const i=(0,n.createContext)({});t.UsersPermissions=i;const u=e=>{let{children:t,value:a}=e;return n.default.createElement(i.Provider,{value:a},t)};t.UsersPermissionsProvider=u;t.useUsersPermissions=()=>(0,n.useContext)(i),u.propTypes={children:l.default.node.isRequired,value:l.default.object.isRequired}},1137:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useFetchRole",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useForm",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"usePlugins",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useRolesList",{enumerable:!0,get:function(){return l.default}});var n=r(a(78558)),l=r(a(99498)),o=r(a(73229)),i=r(a(76451))},76451:function(e,t,a){"use strict";var r=a(25108),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(53547),o=a(68547),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53004)),u=n(a(27778)),s=n(a(10576));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=e=>{const[t,a]=(0,l.useReducer)(i.default,i.initialState),n=(0,o.useNotification)(),d=(0,l.useRef)(null);(0,l.useEffect)((()=>(d.current=!0,e?c(e):a({type:"GET_DATA_SUCCEEDED",role:{}}),()=>d.current=!1)),[e]);const c=async e=>{try{const{data:{role:t}}=await u.default.get(`/${s.default}/roles/${e}`);d.current&&a({type:"GET_DATA_SUCCEEDED",role:t})}catch(t){r.error(t),a({type:"GET_DATA_ERROR"}),n({type:"warning",message:{id:"notification.error"}})}};return{...t,onSubmitSucceeded:(0,l.useCallback)((e=>{a({type:"ON_SUBMIT_SUCCEEDED",...e})}),[])}};t.default=c},53004:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(a(66312));t.initialState={role:{},isLoading:!0};var l=(e,t)=>(0,n.default)(e,(e=>{switch(t.type){case"GET_DATA_SUCCEEDED":e.role=t.role,e.isLoading=!1;break;case"GET_DATA_ERROR":e.isLoading=!1;break;case"ON_SUBMIT_SUCCEEDED":e.role.name=t.name,e.role.description=t.description;break;default:return e}}));t.default=l},78558:function(e,t,a){"use strict";var r=a(25108);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),l=a(68547),o=a(26270),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(21510));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var s=(e,t)=>{const{isLoading:a,allowedActions:u}=(0,l.useRBAC)(t),[{isLoading:s,modifiedData:d},c]=(0,n.useReducer)(i.default,i.initialState),f=(0,l.useNotification)(),p=(0,n.useRef)(!0),m=new AbortController,{signal:g}=m;(0,n.useEffect)((()=>(a||(async()=>{try{c({type:"GET_DATA"});const t=await(0,l.request)((0,o.getRequestURL)(e),{method:"GET",signal:g});c({type:"GET_DATA_SUCCEEDED",data:t})}catch(t){p.current&&(c({type:"GET_DATA_ERROR"}),r.error(t),f({type:"warning",message:{id:"notification.error"}}))}})(),()=>{m.abort(),p.current=!1})),[a,e]);return{allowedActions:u,dispatchSubmitSucceeded:(0,n.useCallback)((e=>{c({type:"ON_SUBMIT_SUCCEEDED",data:e})}),[]),isLoading:s,isLoadingForPermissions:a,modifiedData:d}};t.default=s},21510:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(a(66312));t.initialState={isLoading:!0,modifiedData:{}};var l=(e,t)=>(0,n.default)(e,(e=>{switch(t.type){case"GET_DATA":e.isLoading=!0,e.modifiedData={};break;case"GET_DATA_SUCCEEDED":e.isLoading=!1,e.modifiedData=t.data;break;case"GET_DATA_ERROR":e.isLoading=!0;break;case"ON_SUBMIT_SUCCEEDED":e.modifiedData=t.data;break;default:return e}}));t.default=l},73229:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),l=a(68547),o=a(96486),i=r(a(37656)),u=r(a(10576)),s=a(26270),d=r(a(27778)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(48170));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,l.useNotification)(),[{permissions:a,routes:r,isLoading:f},p]=(0,n.useReducer)(c.default,c.initialState,(()=>(0,i.default)(c.initialState,e))),m=(0,n.useCallback)((async()=>{try{p({type:"GET_DATA"});const[{permissions:e},{routes:t}]=await Promise.all([`/${u.default}/permissions`,`/${u.default}/routes`].map((async e=>(await d.default.get(e)).data)));p({type:"GET_DATA_SUCCEEDED",permissions:(0,s.cleanPermissions)(e),routes:t})}catch(e){const a=(0,o.get)(e,["response","payload","message"],"An error occured");p({type:"GET_DATA_ERROR"}),"Forbidden"!==a&&t({type:"warning",message:a})}}),[t]);return(0,n.useEffect)((()=>{e&&m()}),[m,e]),{permissions:a,routes:r,getData:m,isLoading:f}};t.default=p},37656:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t)=>({...e,isLoading:t});t.default=a},48170:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(a(66312));t.initialState={permissions:{},routes:{},isLoading:!0};var l=(e,t)=>(0,n.default)(e,(e=>{switch(t.type){case"GET_DATA":e.isLoading=!0,e.permissions={},e.routes={};break;case"GET_DATA_SUCCEEDED":e.permissions=t.permissions,e.routes=t.routes,e.isLoading=!1;break;case"GET_DATA_ERROR":e.isLoading=!1;break;default:return e}}));t.default=l},99498:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(53547),l=a(68547),o=a(96486),i=r(a(88952)),u=r(a(10576)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(68751));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[{roles:t,isLoading:a},r]=(0,n.useReducer)(s.default,s.initialState,(()=>(0,i.default)(s.initialState,e))),d=(0,l.useNotification)(),c=(0,n.useRef)(!0),f=new AbortController,{signal:p}=f;(0,n.useEffect)((()=>(e&&m(),()=>{f.abort(),c.current=!1})),[e]);const m=async()=>{try{r({type:"GET_DATA"});const{roles:e}=await(0,l.request)(`/${u.default}/roles`,{method:"GET",signal:p});r({type:"GET_DATA_SUCCEEDED",data:e})}catch(e){const t=(0,o.get)(e,["response","payload","message"],"An error occured");c.current&&(r({type:"GET_DATA_ERROR"}),"Forbidden"!==t&&d({type:"warning",message:t}))}};return{roles:t,isLoading:a,getData:m}};t.default=c},88952:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(e,t)=>({...e,isLoading:t});t.default=a},68751:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(a(66312));t.initialState={roles:[],isLoading:!0};var l=(e,t)=>(0,n.default)(e,(e=>{switch(t.type){case"GET_DATA":e.isLoading=!0,e.roles=[];break;case"GET_DATA_SUCCEEDED":e.roles=t.data,e.isLoading=!1;break;case"GET_DATA_ERROR":e.isLoading=!1;break;default:return e}}));t.default=l},21811:function(e,t,a){"use strict";var r=a(25108),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),o=a(39711),i=a(35395),u=a(80117),s=a(64459),d=a(9524),c=a(94117),f=a(99136),p=a(78607),m=a(33483),g=n(a(22754)),y=a(39272),v=a(80831),b=a(97132),E=a(68547),O=n(a(38217)),h=n(a(30078)),_=n(a(10576)),P=a(1137),M=n(a(46650)),j=n(a(27778));function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}var w=()=>{const{formatMessage:e}=(0,b.useIntl)(),[t,a]=(0,l.useState)(!1),n=(0,E.useNotification)(),{goBack:k}=(0,o.useHistory)(),{lockApp:w,unlockApp:T}=(0,E.useOverlayBlocker)(),{isLoading:D,permissions:C,routes:R}=(0,P.usePlugins)(),{trackUsage:S}=(0,E.useTracking)(),A=(0,l.useRef)();return l.default.createElement(u.Main,null,l.default.createElement(E.SettingsPageTitle,{name:"Roles"}),l.default.createElement(v.Formik,{enableReinitialize:!0,initialValues:{name:"",description:""},onSubmit:async e=>{w(),a(!0);try{const t=A.current.getPermissions();await j.default.post(`/${_.default}/roles`,{...e,...t,users:[]}),S("didCreateRole"),n({type:"success",message:{id:(0,h.default)("Settings.roles.created"),defaultMessage:"Role created"}}),k()}catch(t){r.error(t),n({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}a(!1),T()},validationSchema:M.default},(a=>{let{handleSubmit:r,values:n,handleChange:o,errors:u}=a;return l.default.createElement(E.Form,{noValidate:!0,onSubmit:r},l.default.createElement(i.HeaderLayout,{primaryAction:!D&&l.default.createElement(s.Button,{type:"submit",loading:t,startIcon:l.default.createElement(g.default,null)},e({id:"global.save",defaultMessage:"Save"})),title:e({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:e({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"})}),l.default.createElement(i.ContentLayout,null,l.default.createElement(d.Stack,{spacing:7},l.default.createElement(c.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},l.default.createElement(d.Stack,{spacing:4},l.default.createElement(m.Typography,{variant:"delta",as:"h2"},e({id:(0,h.default)("EditPage.form.roles"),defaultMessage:"Role details"})),l.default.createElement(y.Grid,{gap:4},l.default.createElement(y.GridItem,{col:6},l.default.createElement(f.TextInput,{name:"name",value:n.name||"",onChange:o,label:e({id:"global.name",defaultMessage:"Name"}),error:u.name?e({id:u.name,defaultMessage:"Invalid value"}):null})),l.default.createElement(y.GridItem,{col:6},l.default.createElement(p.Textarea,{name:"description",value:n.description||"",onChange:o,label:e({id:"global.description",defaultMessage:"Description"}),error:u.description?e({id:u.description,defaultMessage:"Invalid value"}):null}))))),!D&&l.default.createElement(O.default,{ref:A,permissions:C,routes:R}))))})))};t.default=w},46650:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(53209)),n=a(68547);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var o=r.object().shape({name:r.string().required(n.translatedErrors.required),description:r.string().required(n.translatedErrors.required)});t.default=o},23854:function(e,t,a){"use strict";var r=a(25108),n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),o=a(35395),i=a(80117),u=a(64459),s=a(9524),d=a(94117),c=a(99136),f=a(78607),p=a(33483),m=n(a(87760)),g=n(a(22754)),y=a(56156),v=a(39272),b=a(80831),E=a(97132),O=a(39711),h=a(68547),_=n(a(38217)),P=n(a(30078)),M=n(a(10576)),j=a(1137),k=n(a(78188)),w=n(a(27778));function T(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}var D=()=>{const{formatMessage:e}=(0,E.useIntl)(),[t,a]=(0,l.useState)(!1),n=(0,h.useNotification)(),{lockApp:T,unlockApp:D}=(0,h.useOverlayBlocker)(),{params:{id:C}}=(0,O.useRouteMatch)(`/settings/${M.default}/roles/:id`),{isLoading:R,routes:S}=(0,j.usePlugins)(),{role:A,onSubmitSucceeded:L,isLoading:x}=(0,j.useFetchRole)(C),W=(0,l.useRef)();return x?l.default.createElement(h.LoadingIndicatorPage,null):l.default.createElement(i.Main,null,l.default.createElement(h.SettingsPageTitle,{name:"Roles"}),l.default.createElement(b.Formik,{enableReinitialize:!0,initialValues:{name:A.name,description:A.description},onSubmit:async e=>{T(),a(!0);try{const t=W.current.getPermissions();await w.default.put(`/${M.default}/roles/${C}`,{...e,...t,users:[]}),L({name:e.name,description:e.description}),n({type:"success",message:{id:(0,P.default)("Settings.roles.edited"),defaultMessage:"Role edited"}})}catch(t){r.error(t),n({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}a(!1),D()},validationSchema:k.default},(a=>{let{handleSubmit:r,values:n,handleChange:i,errors:b}=a;return l.default.createElement(h.Form,{noValidate:!0,onSubmit:r},l.default.createElement(o.HeaderLayout,{primaryAction:!R&&l.default.createElement(u.Button,{disabled:"strapi-super-admin"===A.code,type:"submit",loading:t,startIcon:l.default.createElement(g.default,null)},e({id:"global.save",defaultMessage:"Save"})),title:A.name,subtitle:A.description,navigationAction:l.default.createElement(y.Link,{startIcon:l.default.createElement(m.default,null),to:"/settings/users-permissions/roles"},e({id:"global.back",defaultMessage:"Back"}))}),l.default.createElement(o.ContentLayout,null,l.default.createElement(s.Stack,{spacing:7},l.default.createElement(d.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},l.default.createElement(s.Stack,{spacing:4},l.default.createElement(p.Typography,{variant:"delta",as:"h2"},e({id:(0,P.default)("EditPage.form.roles"),defaultMessage:"Role details"})),l.default.createElement(v.Grid,{gap:4},l.default.createElement(v.GridItem,{col:6},l.default.createElement(c.TextInput,{name:"name",value:n.name||"",onChange:i,label:e({id:"global.name",defaultMessage:"Name"}),error:b.name?e({id:b.name,defaultMessage:"Invalid value"}):null})),l.default.createElement(v.GridItem,{col:6},l.default.createElement(f.Textarea,{name:"description",value:n.description||"",onChange:i,label:e({id:"global.description",defaultMessage:"Description"}),error:b.description?e({id:b.description,defaultMessage:"Invalid value"}):null}))))),!R&&l.default.createElement(_.default,{ref:W,permissions:A.permissions,routes:S}))))})))};t.default=D},78188:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(53209)),n=a(68547);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var o=r.object().shape({name:r.string().required(n.translatedErrors.required),description:r.string().required(n.translatedErrors.required)});t.default=o},88601:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(67154)),l=r(a(53547)),o=r(a(45697)),i=a(49549),u=a(33483),s=a(40264),d=a(43546),c=r(a(56204)),f=r(a(62982)),p=a(68547),m=a(97132),g=a(39711),y=r(a(10576));const v=e=>{let{sortedRoles:t,canDelete:a,permissions:r,setRoleToDelete:o,onDelete:v}=e;const{formatMessage:b}=(0,m.useIntl)(),{push:E}=(0,g.useHistory)(),[O,h]=v,_=e=>{E(`/settings/${y.default}/roles/${e}`)};return l.default.createElement(d.Tbody,null,null===t||void 0===t?void 0:t.map((e=>l.default.createElement(d.Tr,(0,n.default)({key:e.name},(0,p.onRowClick)({fn:()=>_(e.id)})),l.default.createElement(d.Td,{width:"20%"},l.default.createElement(u.Typography,null,e.name)),l.default.createElement(d.Td,{width:"50%"},l.default.createElement(u.Typography,null,e.description)),l.default.createElement(d.Td,{width:"30%"},l.default.createElement(u.Typography,null,`${e.nb_users} ${b({id:"global.users",defaultMessage:"users"}).toLowerCase()}`)),l.default.createElement(d.Td,null,l.default.createElement(s.Flex,(0,n.default)({justifyContent:"end"},p.stopPropagation),l.default.createElement(p.CheckPermissions,{permissions:r.updateRole},l.default.createElement(i.IconButton,{onClick:()=>_(e.id),noBorder:!0,icon:l.default.createElement(c.default,null),label:b({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:`${e.name}`})})),(e=>a&&!["public","authenticated"].includes(e.type))(e)&&l.default.createElement(p.CheckPermissions,{permissions:r.deleteRole},l.default.createElement(i.IconButton,{onClick:()=>{return t=e.id,o(t),void h(!O);var t},noBorder:!0,icon:l.default.createElement(f.default,null),label:b({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${e.name}`})}))))))))};var b=v;t.default=b,v.defaultProps={canDelete:!1},v.propTypes={onDelete:o.default.array.isRequired,permissions:o.default.object.isRequired,setRoleToDelete:o.default.func.isRequired,sortedRoles:o.default.array.isRequired,canDelete:o.default.bool}},61478:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(53547)),l=a(64459),o=a(35395),i=a(80117),u=a(43546),s=a(19631),d=a(33483),c=a(67422),f=r(a(89326)),p=a(68547),m=a(97132),g=a(39711),y=a(23724),v=r(a(63852)),b=a(47792),E=a(26270),O=r(a(10576)),h=r(a(94920)),_=r(a(88601));function P(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}var M=()=>{const{trackUsage:e}=(0,p.useTracking)(),{formatMessage:t}=(0,m.useIntl)(),{push:a}=(0,g.useHistory)(),r=(0,p.useNotification)(),{notifyStatus:P}=(0,c.useNotifyAT)(),[{query:M}]=(0,p.useQueryParams)(),j=(null===M||void 0===M?void 0:M._q)||"",[k,w]=(0,n.useState)(!1),[T,D]=(0,n.useState)(!1),[C,R]=(0,n.useState)();(0,p.useFocusWhenNavigate)();const S=(0,y.useQueryClient)(),A=(0,n.useMemo)((()=>({create:h.default.createRole,read:h.default.readRoles,update:h.default.updateRole,delete:h.default.deleteRole})),[]),{isLoading:L,allowedActions:{canRead:x,canDelete:W}}=(0,p.useRBAC)(A),{isLoading:I,data:{roles:G},isFetching:U}=(0,y.useQuery)("get-roles",(()=>(0,b.fetchData)(r,P)),{initialData:{},enabled:x}),B=I||U,N={roles:{id:(0,E.getTrad)("Roles.empty"),defaultMessage:"You don't have any roles yet."},search:{id:(0,E.getTrad)("Roles.empty.search"),defaultMessage:"No roles match the search."}},q=t({id:"global.roles",defaultMessage:"Roles"}),$=(0,y.useMutation)((e=>(0,b.deleteData)(e,r)),{onSuccess:async()=>{await S.invalidateQueries("get-roles")}}),F=(0,v.default)(G||[],j,{keys:["name","description"]}),H=j&&!F.length?"search":"roles",V=((null===G||void 0===G?void 0:G.length)||0)+1;return n.default.createElement(o.Layout,null,n.default.createElement(p.SettingsPageTitle,{name:q}),n.default.createElement(i.Main,{"aria-busy":B},n.default.createElement(o.HeaderLayout,{title:t({id:"global.roles",defaultMessage:"Roles"}),subtitle:t({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),primaryAction:n.default.createElement(p.CheckPermissions,{permissions:h.default.createRole},n.default.createElement(l.Button,{onClick:()=>{e("willCreateRole"),a(`/settings/${O.default}/roles/new`)},startIcon:n.default.createElement(f.default,null),size:"L"},t({id:(0,E.getTrad)("List.button.roles"),defaultMessage:"Add new role"})))}),n.default.createElement(o.ActionLayout,{startActions:n.default.createElement(p.SearchURLQuery,{label:t({id:"app.component.search.label",defaultMessage:"Search"})})}),n.default.createElement(o.ContentLayout,null,!x&&n.default.createElement(p.NoPermissions,null),(B||L)&&n.default.createElement(p.LoadingIndicatorPage,null),x&&F&&null!==F&&void 0!==F&&F.length?n.default.createElement(u.Table,{colCount:4,rowCount:V},n.default.createElement(u.Thead,null,n.default.createElement(u.Tr,null,n.default.createElement(u.Th,null,n.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},t({id:"global.name",defaultMessage:"Name"}))),n.default.createElement(u.Th,null,n.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},t({id:"global.description",defaultMessage:"Description"}))),n.default.createElement(u.Th,null,n.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},t({id:"global.users",defaultMessage:"Users"}))),n.default.createElement(u.Th,null,n.default.createElement(s.VisuallyHidden,null,t({id:"global.actions",defaultMessage:"Actions"}))))),n.default.createElement(_.default,{sortedRoles:F,canDelete:W,permissions:h.default,setRoleToDelete:R,onDelete:[k,w]})):n.default.createElement(p.EmptyStateLayout,{content:N[H]})),n.default.createElement(p.ConfirmDialog,{isConfirmButtonLoading:T,onConfirm:async()=>{D(!0),await $.mutateAsync(C),w(!k),D(!1)},onToggleDialog:()=>{w(!k)},isOpen:k})))};t.default=M},47792:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=t.deleteData=void 0;var r=a(26270);t.fetchData=async(e,t)=>{try{const{data:e}=await r.axiosInstance.get((0,r.getRequestURL)("roles"));return t("The roles have loaded successfully"),e}catch(a){throw e({type:"warning",message:{id:"notification.error"}}),new Error("error")}};t.deleteData=async(e,t)=>{try{await r.axiosInstance.delete(`${(0,r.getRequestURL)("roles")}/${e}`)}catch(a){t({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}},46285:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=a(68547),o=r(a(94920)),i=r(a(21811));var u=()=>n.default.createElement(l.CheckPagePermissions,{permissions:o.default.createRole},n.default.createElement(i.default,null));t.default=u},11226:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=a(68547),o=r(a(94920)),i=r(a(23854));var u=()=>n.default.createElement(l.CheckPagePermissions,{permissions:o.default.updateRole},n.default.createElement(i.default,null));t.default=u},41553:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=a(68547),o=r(a(94920)),i=r(a(61478));var u=()=>n.default.createElement(l.CheckPagePermissions,{permissions:o.default.accessRoles},n.default.createElement(i.default,null));t.default=u},31285:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(53547)),l=a(39711),o=a(68547),i=r(a(10576)),u=r(a(94920)),s=r(a(41553)),d=r(a(11226)),c=r(a(46285));var f=()=>n.default.createElement(o.CheckPagePermissions,{permissions:u.default.accessRoles},n.default.createElement(l.Switch,null,n.default.createElement(l.Route,{path:`/settings/${i.default}/roles/new`,component:c.default,exact:!0}),n.default.createElement(l.Route,{path:`/settings/${i.default}/roles/:id`,component:d.default,exact:!0}),n.default.createElement(l.Route,{path:`/settings/${i.default}/roles`,component:s.default,exact:!0}),n.default.createElement(l.Route,{path:"",component:o.NotFound})));t.default=f},27778:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(9669)),l=a(68547);const o=n.default.create({baseURL:""});o.interceptors.request.use((async e=>(e.headers={Authorization:`Bearer ${l.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e)),(e=>{Promise.reject(e)})),o.interceptors.response.use((e=>e),(e=>{var t;throw 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(l.auth.clearAppStorage(),window.location.reload()),e}));var i=o;t.default=i},42539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(96486);var n=e=>Object.keys(e).reduce(((t,a)=>{const n=e[a].controllers,l=Object.keys(n).reduce(((e,t)=>((0,r.isEmpty)(n[t])||(e[t]=n[t]),e)),{});return(0,r.isEmpty)(l)||(t[a]={controllers:l}),t}),{});t.default=n},3226:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(11700));var l=function(e){switch(e){case"application":return"Application";case"plugin::content-manager":return"Content manager";case"plugin::content-type-builder":return"Content types builder";case"plugin::documentation":return"Documentation";case"plugin::email":return"Email";case"plugin::i18n":return"i18n";case"plugin::upload":return"Upload";case"plugin::users-permissions":return"Users-permissions";default:return(0,n.default)(e.replace("api::","").replace("plugin::",""))}};t.default=l},85317:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e=>e.reduce(((e,t)=>(e.push({label:t,value:t}),e)),[]);t.default=a},12132:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(10576));var l=e=>`/${n.default}/${e}`;t.default=l},26270:function(e,t,a){"use strict";var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"axiosInstance",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"cleanPermissions",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"formatPolicies",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getRequestURL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getTrad",{enumerable:!0,get:function(){return i.default}});var n=r(a(27778)),l=r(a(42539)),o=r(a(12132)),i=r(a(30078)),u=r(a(85317))},13217:function(e,t,a){var r=a(14259);e.exports=function(e){var t=null==e?0:e.length;return t?r(e,1,t):[]}}}]);